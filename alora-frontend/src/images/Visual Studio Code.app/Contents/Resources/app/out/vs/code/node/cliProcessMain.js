/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ie=["require","exports","vs/base/common/lifecycle","vs/base/common/types","vs/platform/log/common/log","vs/nls!vs/code/node/cliProcessMain","vs/base/common/event","vs/base/common/errors","vs/nls","vs/base/common/async","vs/platform/instantiation/common/instantiation","vs/base/common/uri","vs/base/common/platform","vs/platform/files/common/files","vs/base/common/buffer","vs/base/common/network","vs/base/common/path","vs/base/common/resources","vs/platform/environment/common/environment","vs/base/common/arrays","vs/base/common/cancellation","vs/platform/extensionManagement/common/extensionManagement","vs/platform/uriIdentity/common/uriIdentity","vs/platform/userDataProfile/common/userDataProfile","vs/base/node/pfs","vs/platform/telemetry/common/telemetry","vs/platform/extensionManagement/common/extensionManagementUtil","vs/base/common/objects","vs/base/common/uuid","vs/platform/configuration/common/configuration","vs/base/common/strings","vs/base/common/map","vs/platform/product/common/productService","os","vs/base/common/errorMessage","vs/base/common/process","vs/platform/registry/common/platform","vs/platform/extensions/common/extensions","vs/base/common/json","vs/platform/policy/common/policy","vs/platform/configuration/common/configurationRegistry","vs/platform/telemetry/common/telemetryUtils","vs/platform/extensionManagement/common/extensionsProfileScannerService","vs/base/common/hash","vs/base/common/semver/semver","vs/platform/request/common/request","vs/base/common/stream","vs/base/common/marshalling","vs/base/common/ternarySearchTree","vs/base/node/zip","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/descriptors","vs/platform/extensionManagement/common/extensionsScannerService","vs/base/common/decorators","vs/base/common/severity","vs/base/common/processes","vs/base/node/processes","vs/base/parts/ipc/common/ipc","child_process","vs/platform/download/common/download","vs/platform/files/common/io","vs/platform/files/common/watcher","vs/platform/instantiation/common/serviceCollection","vs/platform/languagePacks/common/languagePacks","vs/platform/extensionManagement/node/extensionSignatureVerificationService","vs/base/common/iterator","vs/platform/configuration/common/configurationModels","vs/platform/remote/common/remoteHosts","vs/platform/state/node/stateService","vs/platform/telemetry/common/commonProperties","vs/base/common/amd","vs/base/common/assert","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/numbers","vs/base/common/skipList","vs/base/node/macAddress","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/jsonErrorMessages","vs/base/common/jsonErrorMessages","vs/base/common/console","vs/amdX","vs/base/node/id","vs/base/node/powershell","vs/base/node/shell","vs/base/parts/ipc/node/ipc.cp","vs/base/parts/storage/common/storage","vs/nls!vs/base/node/zip","fs","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/common/extensionManagementCLI","vs/nls!vs/platform/extensionManagement/common/extensionNls","vs/nls!vs/platform/extensionManagement/common/extensionsScannerService","vs/nls!vs/platform/extensionManagement/node/extensionManagementService","vs/nls!vs/platform/extensionManagement/node/extensionManagementUtil","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/fileService","vs/nls!vs/platform/files/common/io","vs/nls!vs/platform/files/node/diskFileSystemProvider","vs/nls!vs/platform/languagePacks/common/languagePacks","vs/nls!vs/platform/request/common/request","vs/nls!vs/platform/shell/node/shellEnv","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/userDataProfile/common/userDataProfile","vs/nls!vs/platform/workspace/common/workspace","vs/platform/contextkey/common/scanner","vs/platform/environment/common/environmentService","vs/platform/environment/node/userDataPath","vs/platform/environment/node/environmentService","vs/platform/extensionManagement/common/extensionNls","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/externalServices/common/serviceMachineId","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/graph","vs/platform/contextkey/common/contextkey","vs/platform/files/node/watcher/nodejs/nodejsWatcher","vs/platform/files/node/watcher/nodejs/nodejsClient","vs/platform/files/node/watcher/watcherClient","vs/platform/instantiation/common/instantiationService","vs/platform/files/common/diskFileSystemProvider","vs/platform/files/common/fileService","vs/base/common/performance","vs/platform/files/node/diskFileSystemProvider","vs/platform/log/common/logService","vs/platform/log/node/spdlogLog","vs/platform/log/node/loggerService","vs/platform/policy/common/filePolicyService","vs/platform/policy/node/nativePolicyService","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurations","vs/platform/configuration/common/configurationService","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/download/common/downloadService","vs/platform/request/node/proxy","url","vs/platform/shell/node/shellEnv","vs/platform/state/node/state","vs/platform/extensionManagement/common/extensionManagementCLI","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionsWatcher","vs/platform/externalServices/common/marketplace","vs/platform/languagePacks/node/languagePacks","vs/platform/telemetry/common/1dsAppender","vs/platform/telemetry/common/telemetryService","vs/platform/product/common/product","vs/platform/telemetry/node/1dsAppender","vs/platform/telemetry/node/telemetry","vs/platform/telemetry/node/telemetryUtils","vs/platform/uriIdentity/common/uriIdentityService","vs/platform/userData/common/fileUserDataProvider","vs/platform/workspace/common/workspace","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/extensionManagement/node/extensionsProfileScannerService","vs/platform/extensionManagement/node/extensionsScannerService","vs/platform/storage/common/storage","vs/platform/extensionManagement/common/extensionGalleryService","vs/platform/userDataProfile/node/userDataProfile","vs/platform/request/node/requestService","vs/base/common/lazy","path","vs/base/common/glob","vs/platform/files/node/watcher/nodejs/nodejsWatcherLib","vs/base/common/linkedList","graceful-fs","vs/base/common/extpath","vs/platform/environment/node/argvHelper","crypto","https","vs/base/common/stopwatch","zlib","vs/code/node/cliProcessMain"],ne=function(J){for(var e=[],L=0,j=J.length;L<j;L++)e[L]=ie[J[L]];return e};define(ie[70],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$U=e.$T=void 0,e.$T=!1;class L{static get(){const R=new Map,N=new Map,A=new Map,k=new Map;function h(f,E){f.has(E.detail)||f.set(E.detail,-E.timestamp)}function a(f,E){const S=f.get(E.detail);S&&(S>=0||f.set(E.detail,S+E.timestamp))}let v=[];typeof J=="function"&&typeof J.getStats=="function"&&(v=J.getStats().slice(0).sort((f,E)=>f.timestamp-E.timestamp));for(const f of v)switch(f.type){case 10:h(R,f);break;case 11:case 12:a(R,f);break;case 21:h(N,f);break;case 22:a(N,f);break;case 33:h(A,f);break;case 34:a(A,f);break;case 31:h(k,f);break;case 32:a(k,f);break}let b=0;A.forEach(f=>b+=f);function m(f){const E=[];return f.forEach((S,$)=>E.push([$,S])),E}return{amdLoad:m(R),amdInvoke:m(N),nodeRequire:m(A),nodeEval:m(k),nodeRequireTotal:b}}static toMarkdownTable(R,N){let A="";const k=[];return R.forEach((h,a)=>{k[a]=h.length}),N.forEach(h=>{h.forEach((a,v)=>{typeof a>"u"&&(a=h[v]="-");const b=a.toString().length;k[v]=Math.max(b,k[v])})}),R.forEach((h,a)=>{A+=`| ${h+" ".repeat(k[a]-h.toString().length)} `}),A+=`|
`,R.forEach((h,a)=>{A+=`| ${"-".repeat(k[a])} `}),A+=`|
`,N.forEach(h=>{h.forEach((a,v)=>{typeof a<"u"&&(A+=`| ${a+" ".repeat(k[v]-a.toString().length)} `)}),A+=`|
`}),A}}e.$U=L}),define(ie[53],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ah=e.$zh=e.$yh=void 0;function L(A){return(k,h,a)=>{let v=null,b=null;if(typeof a.value=="function"?(v="value",b=a.value):typeof a.get=="function"&&(v="get",b=a.get),!b)throw new Error("not supported");a[v]=A(b,h)}}function j(A,k,h){let a=null,v=null;if(typeof h.value=="function"?(a="value",v=h.value,v.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof h.get=="function"&&(a="get",v=h.get),!v)throw new Error("not supported");const b=`$memoize$${k}`;h[a]=function(...m){return this.hasOwnProperty(b)||Object.defineProperty(this,b,{configurable:!1,enumerable:!1,writable:!1,value:v.apply(this,m)}),this[b]}}e.$yh=j;function R(A,k,h){return L((a,v)=>{const b=`$debounce$${v}`,m=`$debounce$result$${v}`;return function(...f){this[m]||(this[m]=h?h():void 0),clearTimeout(this[b]),k&&(this[m]=k(this[m],...f),f=[this[m]]),this[b]=setTimeout(()=>{a.apply(this,f),this[m]=h?h():void 0},A)}})}e.$zh=R;function N(A,k,h){return L((a,v)=>{const b=`$throttle$timer$${v}`,m=`$throttle$result$${v}`,f=`$throttle$lastRun$${v}`,E=`$throttle$pending$${v}`;return function(...S){if(this[m]||(this[m]=h?h():void 0),(this[f]===null||this[f]===void 0)&&(this[f]=-Number.MAX_VALUE),k&&(this[m]=k(this[m],...S)),this[E])return;const $=this[f]+A;$<=Date.now()?(this[f]=Date.now(),a.apply(this,[this[m]]),this[m]=h?h():void 0):(this[E]=!0,this[b]=setTimeout(()=>{this[E]=!1,this[f]=Date.now(),a.apply(this,[this[m]]),this[m]=h?h():void 0},$-Date.now()))}})}e.$Ah=N}),define(ie[71],ne([0,1,7]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0c=e.$9c=e.$8c=e.$7c=e.$6c=e.ok=void 0;function j(a,v){if(!a)throw new Error(v?`Assertion failed (${v})`:"Assertion Failed")}e.ok=j;function R(a,v="Unreachable"){throw new Error(v)}e.$6c=R;function N(a){if(!a)throw new L.$cb("Assertion Failed")}e.$7c=N;function A(a){a||(0,L.$1)(new L.$cb("Assertion Failed"))}e.$8c=A;function k(a){if(!a()){debugger;a(),(0,L.$1)(new L.$cb("Assertion Failed"))}}e.$9c=k;function h(a,v){let b=0;for(;b<a.length-1;){const m=a[b],f=a[b+1];if(!v(m,f))return!1;b++}return!0}e.$0c=h}),define(ie[38],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mn=e.$ln=e.$kn=e.$jn=e.$in=e.$hn=e.$gn=e.$fn=e.$en=e.$dn=e.$cn=e.$bn=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var L;(function(i){i[i.None=0]="None",i[i.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=2]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",i[i.InvalidUnicode=4]="InvalidUnicode",i[i.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",i[i.InvalidCharacter=6]="InvalidCharacter"})(L||(e.ScanError=L={}));var j;(function(i){i[i.OpenBraceToken=1]="OpenBraceToken",i[i.CloseBraceToken=2]="CloseBraceToken",i[i.OpenBracketToken=3]="OpenBracketToken",i[i.CloseBracketToken=4]="CloseBracketToken",i[i.CommaToken=5]="CommaToken",i[i.ColonToken=6]="ColonToken",i[i.NullKeyword=7]="NullKeyword",i[i.TrueKeyword=8]="TrueKeyword",i[i.FalseKeyword=9]="FalseKeyword",i[i.StringLiteral=10]="StringLiteral",i[i.NumericLiteral=11]="NumericLiteral",i[i.LineCommentTrivia=12]="LineCommentTrivia",i[i.BlockCommentTrivia=13]="BlockCommentTrivia",i[i.LineBreakTrivia=14]="LineBreakTrivia",i[i.Trivia=15]="Trivia",i[i.Unknown=16]="Unknown",i[i.EOF=17]="EOF"})(j||(e.SyntaxKind=j={}));var R;(function(i){i[i.InvalidSymbol=1]="InvalidSymbol",i[i.InvalidNumberFormat=2]="InvalidNumberFormat",i[i.PropertyNameExpected=3]="PropertyNameExpected",i[i.ValueExpected=4]="ValueExpected",i[i.ColonExpected=5]="ColonExpected",i[i.CommaExpected=6]="CommaExpected",i[i.CloseBraceExpected=7]="CloseBraceExpected",i[i.CloseBracketExpected=8]="CloseBracketExpected",i[i.EndOfFileExpected=9]="EndOfFileExpected",i[i.InvalidCommentToken=10]="InvalidCommentToken",i[i.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=12]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",i[i.InvalidUnicode=14]="InvalidUnicode",i[i.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",i[i.InvalidCharacter=16]="InvalidCharacter"})(R||(e.ParseErrorCode=R={}));var N;(function(i){i.DEFAULT={allowTrailingComma:!0}})(N||(e.ParseOptions=N={}));function A(i,r=!1){let t=0;const n=i.length;let s="",o=0,c=16,I=0;function O(re){let he=0,ce=0;for(;he<re;){const ae=i.charCodeAt(t);if(ae>=48&&ae<=57)ce=ce*16+ae-48;else if(ae>=65&&ae<=70)ce=ce*16+ae-65+10;else if(ae>=97&&ae<=102)ce=ce*16+ae-97+10;else break;t++,he++}return he<re&&(ce=-1),ce}function y(re){t=re,s="",o=0,c=16,I=0}function D(){const re=t;if(i.charCodeAt(t)===48)t++;else for(t++;t<i.length&&a(i.charCodeAt(t));)t++;if(t<i.length&&i.charCodeAt(t)===46)if(t++,t<i.length&&a(i.charCodeAt(t)))for(t++;t<i.length&&a(i.charCodeAt(t));)t++;else return I=3,i.substring(re,t);let he=t;if(t<i.length&&(i.charCodeAt(t)===69||i.charCodeAt(t)===101))if(t++,(t<i.length&&i.charCodeAt(t)===43||i.charCodeAt(t)===45)&&t++,t<i.length&&a(i.charCodeAt(t))){for(t++;t<i.length&&a(i.charCodeAt(t));)t++;he=t}else I=3;return i.substring(re,he)}function W(){let re="",he=t;for(;;){if(t>=n){re+=i.substring(he,t),I=2;break}const ce=i.charCodeAt(t);if(ce===34){re+=i.substring(he,t),t++;break}if(ce===92){if(re+=i.substring(he,t),t++,t>=n){I=2;break}switch(i.charCodeAt(t++)){case 34:re+='"';break;case 92:re+="\\";break;case 47:re+="/";break;case 98:re+="\b";break;case 102:re+="\f";break;case 110:re+=`
`;break;case 114:re+="\r";break;case 116:re+="	";break;case 117:{const q=O(4);q>=0?re+=String.fromCharCode(q):I=4;break}default:I=5}he=t;continue}if(ce>=0&&ce<=31)if(h(ce)){re+=i.substring(he,t),I=2;break}else I=6;t++}return re}function te(){if(s="",I=0,o=t,t>=n)return o=n,c=17;let re=i.charCodeAt(t);if(k(re)){do t++,s+=String.fromCharCode(re),re=i.charCodeAt(t);while(k(re));return c=15}if(h(re))return t++,s+=String.fromCharCode(re),re===13&&i.charCodeAt(t)===10&&(t++,s+=`
`),c=14;switch(re){case 123:return t++,c=1;case 125:return t++,c=2;case 91:return t++,c=3;case 93:return t++,c=4;case 58:return t++,c=6;case 44:return t++,c=5;case 34:return t++,s=W(),c=10;case 47:{const he=t-1;if(i.charCodeAt(t+1)===47){for(t+=2;t<n&&!h(i.charCodeAt(t));)t++;return s=i.substring(he,t),c=12}if(i.charCodeAt(t+1)===42){t+=2;const ce=n-1;let ae=!1;for(;t<ce;){if(i.charCodeAt(t)===42&&i.charCodeAt(t+1)===47){t+=2,ae=!0;break}t++}return ae||(t++,I=1),s=i.substring(he,t),c=13}return s+=String.fromCharCode(re),t++,c=16}case 45:if(s+=String.fromCharCode(re),t++,t===n||!a(i.charCodeAt(t)))return c=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return s+=D(),c=11;default:for(;t<n&&_(re);)t++,re=i.charCodeAt(t);if(o!==t){switch(s=i.substring(o,t),s){case"true":return c=8;case"false":return c=9;case"null":return c=7}return c=16}return s+=String.fromCharCode(re),t++,c=16}}function _(re){if(k(re)||h(re))return!1;switch(re){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function oe(){let re;do re=te();while(re>=12&&re<=15);return re}return{setPosition:y,getPosition:()=>t,scan:r?oe:te,getToken:()=>c,getTokenValue:()=>s,getTokenOffset:()=>o,getTokenLength:()=>t-o,getTokenError:()=>I}}e.$bn=A;function k(i){return i===32||i===9||i===11||i===12||i===160||i===5760||i>=8192&&i<=8203||i===8239||i===8287||i===12288||i===65279}function h(i){return i===10||i===13||i===8232||i===8233}function a(i){return i>=48&&i<=57}var v;(function(i){i[i.nullCharacter=0]="nullCharacter",i[i.maxAsciiCharacter=127]="maxAsciiCharacter",i[i.lineFeed=10]="lineFeed",i[i.carriageReturn=13]="carriageReturn",i[i.lineSeparator=8232]="lineSeparator",i[i.paragraphSeparator=8233]="paragraphSeparator",i[i.nextLine=133]="nextLine",i[i.space=32]="space",i[i.nonBreakingSpace=160]="nonBreakingSpace",i[i.enQuad=8192]="enQuad",i[i.emQuad=8193]="emQuad",i[i.enSpace=8194]="enSpace",i[i.emSpace=8195]="emSpace",i[i.threePerEmSpace=8196]="threePerEmSpace",i[i.fourPerEmSpace=8197]="fourPerEmSpace",i[i.sixPerEmSpace=8198]="sixPerEmSpace",i[i.figureSpace=8199]="figureSpace",i[i.punctuationSpace=8200]="punctuationSpace",i[i.thinSpace=8201]="thinSpace",i[i.hairSpace=8202]="hairSpace",i[i.zeroWidthSpace=8203]="zeroWidthSpace",i[i.narrowNoBreakSpace=8239]="narrowNoBreakSpace",i[i.ideographicSpace=12288]="ideographicSpace",i[i.mathematicalSpace=8287]="mathematicalSpace",i[i.ogham=5760]="ogham",i[i._=95]="_",i[i.$=36]="$",i[i._0=48]="_0",i[i._1=49]="_1",i[i._2=50]="_2",i[i._3=51]="_3",i[i._4=52]="_4",i[i._5=53]="_5",i[i._6=54]="_6",i[i._7=55]="_7",i[i._8=56]="_8",i[i._9=57]="_9",i[i.a=97]="a",i[i.b=98]="b",i[i.c=99]="c",i[i.d=100]="d",i[i.e=101]="e",i[i.f=102]="f",i[i.g=103]="g",i[i.h=104]="h",i[i.i=105]="i",i[i.j=106]="j",i[i.k=107]="k",i[i.l=108]="l",i[i.m=109]="m",i[i.n=110]="n",i[i.o=111]="o",i[i.p=112]="p",i[i.q=113]="q",i[i.r=114]="r",i[i.s=115]="s",i[i.t=116]="t",i[i.u=117]="u",i[i.v=118]="v",i[i.w=119]="w",i[i.x=120]="x",i[i.y=121]="y",i[i.z=122]="z",i[i.A=65]="A",i[i.B=66]="B",i[i.C=67]="C",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.G=71]="G",i[i.H=72]="H",i[i.I=73]="I",i[i.J=74]="J",i[i.K=75]="K",i[i.L=76]="L",i[i.M=77]="M",i[i.N=78]="N",i[i.O=79]="O",i[i.P=80]="P",i[i.Q=81]="Q",i[i.R=82]="R",i[i.S=83]="S",i[i.T=84]="T",i[i.U=85]="U",i[i.V=86]="V",i[i.W=87]="W",i[i.X=88]="X",i[i.Y=89]="Y",i[i.Z=90]="Z",i[i.ampersand=38]="ampersand",i[i.asterisk=42]="asterisk",i[i.at=64]="at",i[i.backslash=92]="backslash",i[i.bar=124]="bar",i[i.caret=94]="caret",i[i.closeBrace=125]="closeBrace",i[i.closeBracket=93]="closeBracket",i[i.closeParen=41]="closeParen",i[i.colon=58]="colon",i[i.comma=44]="comma",i[i.dot=46]="dot",i[i.doubleQuote=34]="doubleQuote",i[i.equals=61]="equals",i[i.exclamation=33]="exclamation",i[i.greaterThan=62]="greaterThan",i[i.lessThan=60]="lessThan",i[i.minus=45]="minus",i[i.openBrace=123]="openBrace",i[i.openBracket=91]="openBracket",i[i.openParen=40]="openParen",i[i.percent=37]="percent",i[i.plus=43]="plus",i[i.question=63]="question",i[i.semicolon=59]="semicolon",i[i.singleQuote=39]="singleQuote",i[i.slash=47]="slash",i[i.tilde=126]="tilde",i[i.backspace=8]="backspace",i[i.formFeed=12]="formFeed",i[i.byteOrderMark=65279]="byteOrderMark",i[i.tab=9]="tab",i[i.verticalTab=11]="verticalTab"})(v||(v={}));function b(i,r){const t=[],n=new Object;let s;const o={value:{},offset:0,length:0,type:"object",parent:void 0};let c=!1;function I(O,y,D,W){o.value=O,o.offset=y,o.length=D,o.type=W,o.colonOffset=void 0,s=o}try{p(i,{onObjectBegin:(O,y)=>{if(r<=O)throw n;s=void 0,c=r>O,t.push("")},onObjectProperty:(O,y,D)=>{if(r<y||(I(O,y,D,"property"),t[t.length-1]=O,r<=y+D))throw n},onObjectEnd:(O,y)=>{if(r<=O)throw n;s=void 0,t.pop()},onArrayBegin:(O,y)=>{if(r<=O)throw n;s=void 0,t.push(0)},onArrayEnd:(O,y)=>{if(r<=O)throw n;s=void 0,t.pop()},onLiteralValue:(O,y,D)=>{if(r<y||(I(O,y,D,g(O)),r<=y+D))throw n},onSeparator:(O,y,D)=>{if(r<=y)throw n;if(O===":"&&s&&s.type==="property")s.colonOffset=y,c=!1,s=void 0;else if(O===","){const W=t[t.length-1];typeof W=="number"?t[t.length-1]=W+1:(c=!0,t[t.length-1]=""),s=void 0}}})}catch(O){if(O!==n)throw O}return{path:t,previousNode:s,isAtPropertyKey:c,matches:O=>{let y=0;for(let D=0;y<O.length&&D<t.length;D++)if(O[y]===t[D]||O[y]==="*")y++;else if(O[y]!=="**")return!1;return y===O.length}}}e.$cn=b;function m(i,r=[],t=N.DEFAULT){let n=null,s=[];const o=[];function c(O){Array.isArray(s)?s.push(O):n!==null&&(s[n]=O)}return p(i,{onObjectBegin:()=>{const O={};c(O),o.push(s),s=O,n=null},onObjectProperty:O=>{n=O},onObjectEnd:()=>{s=o.pop()},onArrayBegin:()=>{const O=[];c(O),o.push(s),s=O,n=null},onArrayEnd:()=>{s=o.pop()},onLiteralValue:c,onError:(O,y,D)=>{r.push({error:O,offset:y,length:D})}},t),s[0]}e.$dn=m;function f(i,r=[],t=N.DEFAULT){let n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function s(O){n.type==="property"&&(n.length=O-n.offset,n=n.parent)}function o(O){return n.children.push(O),O}p(i,{onObjectBegin:O=>{n=o({type:"object",offset:O,length:-1,parent:n,children:[]})},onObjectProperty:(O,y,D)=>{n=o({type:"property",offset:y,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:O,offset:y,length:D,parent:n})},onObjectEnd:(O,y)=>{n.length=O+y-n.offset,n=n.parent,s(O+y)},onArrayBegin:(O,y)=>{n=o({type:"array",offset:O,length:-1,parent:n,children:[]})},onArrayEnd:(O,y)=>{n.length=O+y-n.offset,n=n.parent,s(O+y)},onLiteralValue:(O,y,D)=>{o({type:g(O),offset:y,length:D,parent:n,value:O}),s(y+D)},onSeparator:(O,y,D)=>{n.type==="property"&&(O===":"?n.colonOffset=y:O===","&&s(y))},onError:(O,y,D)=>{r.push({error:O,offset:y,length:D})}},t);const I=n.children[0];return I&&delete I.parent,I}e.$en=f;function E(i,r){if(!i)return;let t=i;for(const n of r)if(typeof n=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let s=!1;for(const o of t.children)if(Array.isArray(o.children)&&o.children[0].value===n){t=o.children[1],s=!0;break}if(!s)return}else{const s=n;if(t.type!=="array"||s<0||!Array.isArray(t.children)||s>=t.children.length)return;t=t.children[s]}return t}e.$fn=E;function S(i){if(!i.parent||!i.parent.children)return[];const r=S(i.parent);if(i.parent.type==="property"){const t=i.parent.children[0].value;r.push(t)}else if(i.parent.type==="array"){const t=i.parent.children.indexOf(i);t!==-1&&r.push(t)}return r}e.$gn=S;function $(i){switch(i.type){case"array":return i.children.map($);case"object":{const r=Object.create(null);for(const t of i.children){const n=t.children[1];n&&(r[t.children[0].value]=$(n))}return r}case"null":case"string":case"number":case"boolean":return i.value;default:return}}e.$hn=$;function l(i,r,t=!1){return r>=i.offset&&r<i.offset+i.length||t&&r===i.offset+i.length}e.$in=l;function w(i,r,t=!1){if(l(i,r,t)){const n=i.children;if(Array.isArray(n))for(let s=0;s<n.length&&n[s].offset<=r;s++){const o=w(n[s],r,t);if(o)return o}return i}}e.$jn=w;function p(i,r,t=N.DEFAULT){const n=A(i,!1);function s(Q){return Q?()=>Q(n.getTokenOffset(),n.getTokenLength()):()=>!0}function o(Q){return Q?K=>Q(K,n.getTokenOffset(),n.getTokenLength()):()=>!0}const c=s(r.onObjectBegin),I=o(r.onObjectProperty),O=s(r.onObjectEnd),y=s(r.onArrayBegin),D=s(r.onArrayEnd),W=o(r.onLiteralValue),te=o(r.onSeparator),_=s(r.onComment),oe=o(r.onError),re=t&&t.disallowComments,he=t&&t.allowTrailingComma;function ce(){for(;;){const Q=n.scan();switch(n.getTokenError()){case 4:ae(14);break;case 5:ae(15);break;case 3:ae(13);break;case 1:re||ae(11);break;case 2:ae(12);break;case 6:ae(16);break}switch(Q){case 12:case 13:re?ae(10):_();break;case 16:ae(1);break;case 15:case 14:break;default:return Q}}}function ae(Q,K=[],U=[]){if(oe(Q),K.length+U.length>0){let F=n.getToken();for(;F!==17;){if(K.indexOf(F)!==-1){ce();break}else if(U.indexOf(F)!==-1)break;F=ce()}}}function q(Q){const K=n.getTokenValue();return Q?W(K):I(K),ce(),!0}function Z(){switch(n.getToken()){case 11:{let Q=0;try{Q=JSON.parse(n.getTokenValue()),typeof Q!="number"&&(ae(2),Q=0)}catch{ae(2)}W(Q);break}case 7:W(null);break;case 8:W(!0);break;case 9:W(!1);break;default:return!1}return ce(),!0}function M(){return n.getToken()!==10?(ae(3,[],[2,5]),!1):(q(!1),n.getToken()===6?(te(":"),ce(),X()||ae(4,[],[2,5])):ae(5,[],[2,5]),!0)}function C(){c(),ce();let Q=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(Q||ae(4,[],[]),te(","),ce(),n.getToken()===2&&he)break}else Q&&ae(6,[],[]);M()||ae(4,[],[2,5]),Q=!0}return O(),n.getToken()!==2?ae(7,[2],[]):ce(),!0}function V(){y(),ce();let Q=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(Q||ae(4,[],[]),te(","),ce(),n.getToken()===4&&he)break}else Q&&ae(6,[],[]);X()||ae(4,[],[4,5]),Q=!0}return D(),n.getToken()!==4?ae(8,[4],[]):ce(),!0}function X(){switch(n.getToken()){case 3:return V();case 1:return C();case 10:return q(!0);default:return Z()}}return ce(),n.getToken()===17?t.allowEmptyContent?!0:(ae(4,[],[]),!1):X()?(n.getToken()!==17&&ae(9,[],[]),!0):(ae(4,[],[]),!1)}e.$kn=p;function u(i,r){const t=A(i),n=[];let s,o=0,c;do switch(c=t.getPosition(),s=t.scan(),s){case 12:case 13:case 17:o!==c&&n.push(i.substring(o,c)),r!==void 0&&n.push(t.getTokenValue().replace(/[^\r\n]/g,r)),o=t.getPosition();break}while(s!==17);return n.join("")}e.$ln=u;function g(i){switch(typeof i){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(i){if(Array.isArray(i))return"array"}else return"null";return"object"}default:return"null"}}e.$mn=g}),define(ie[72],ne([0,1,38]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qn=e.$pn=e.$on=e.$nn=void 0;function j(a,v,b){let m,f,E,S,$;if(v){for(S=v.offset,$=S+v.length,E=S;E>0&&!h(a,E-1);)E--;let c=$;for(;c<a.length&&!h(a,c);)c++;f=a.substring(E,c),m=A(f,b)}else f=a,m=0,E=0,S=0,$=a.length;const l=k(b,a);let w=!1,p=0,u;b.insertSpaces?u=N(" ",b.tabSize||4):u="	";const g=(0,L.$bn)(f,!1);let i=!1;function r(){return l+N(u,m+p)}function t(){let c=g.scan();for(w=!1;c===15||c===14;)w=w||c===14,c=g.scan();return i=c===16||g.getTokenError()!==0,c}const n=[];function s(c,I,O){!i&&I<$&&O>S&&a.substring(I,O)!==c&&n.push({offset:I,length:O-I,content:c})}let o=t();if(o!==17){const c=g.getTokenOffset()+E,I=N(u,m);s(I,E,c)}for(;o!==17;){let c=g.getTokenOffset()+g.getTokenLength()+E,I=t(),O="";for(;!w&&(I===12||I===13);){const D=g.getTokenOffset()+E;s(" ",c,D),c=g.getTokenOffset()+g.getTokenLength()+E,O=I===12?r():"",I=t()}if(I===2)o!==1&&(p--,O=r());else if(I===4)o!==3&&(p--,O=r());else{switch(o){case 3:case 1:p++,O=r();break;case 5:case 12:O=r();break;case 13:w?O=r():O=" ";break;case 6:O=" ";break;case 10:if(I===6){O="";break}case 7:case 8:case 9:case 11:case 2:case 4:I===12||I===13?O=" ":I!==5&&I!==17&&(i=!0);break;case 16:i=!0;break}w&&(I===12||I===13)&&(O=r())}const y=g.getTokenOffset()+E;s(O,c,y),o=I}return n}e.$nn=j;function R(a,v){const b=JSON.stringify(a,void 0,v.insertSpaces?v.tabSize||4:"	");return v.eol!==void 0?b.replace(/\r\n|\r|\n/g,v.eol):b}e.$on=R;function N(a,v){let b="";for(let m=0;m<v;m++)b+=a;return b}function A(a,v){let b=0,m=0;const f=v.tabSize||4;for(;b<a.length;){const E=a.charAt(b);if(E===" ")m++;else if(E==="	")m+=f;else break;b++}return Math.floor(m/f)}function k(a,v){for(let b=0;b<v.length;b++){const m=v.charAt(b);if(m==="\r")return b+1<v.length&&v.charAt(b+1)===`
`?`\r
`:"\r";if(m===`
`)return`
`}return a&&a.eol||`
`}e.$pn=k;function h(a,v){return`\r
`.indexOf(a.charAt(v))!==-1}e.$qn=h}),define(ie[73],ne([0,1,38,72]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vn=e.$un=e.$tn=e.$sn=e.$rn=void 0;function R(a,v,b){return N(a,v,void 0,b)}e.$rn=R;function N(a,v,b,m,f){const E=v.slice(),S=[],$=(0,L.$en)(a,S);let l,w;for(;E.length>0&&(w=E.pop(),l=(0,L.$fn)($,E),l===void 0&&b!==void 0);)typeof w=="string"?b={[w]:b}:b=[b];if(l)if(l.type==="object"&&typeof w=="string"&&Array.isArray(l.children)){const p=(0,L.$fn)(l,[w]);if(p!==void 0)if(b===void 0){if(!p.parent)throw new Error("Malformed AST");const u=l.children.indexOf(p.parent);let g,i=p.parent.offset+p.parent.length;if(u>0){const r=l.children[u-1];g=r.offset+r.length}else g=l.offset+1,l.children.length>1&&(i=l.children[1].offset);return A(a,{offset:g,length:i-g,content:""},m)}else return A(a,{offset:p.offset,length:p.length,content:JSON.stringify(b)},m);else{if(b===void 0)return[];const u=`${JSON.stringify(w)}: ${JSON.stringify(b)}`,g=f?f(l.children.map(r=>r.children[0].value)):l.children.length;let i;if(g>0){const r=l.children[g-1];i={offset:r.offset+r.length,length:0,content:","+u}}else l.children.length===0?i={offset:l.offset+1,length:0,content:u}:i={offset:l.offset+1,length:0,content:u+","};return A(a,i,m)}}else if(l.type==="array"&&typeof w=="number"&&Array.isArray(l.children))if(b!==void 0){const p=`${JSON.stringify(b)}`;let u;if(l.children.length===0||w===0)u={offset:l.offset+1,length:0,content:l.children.length===0?p:p+","};else{const g=w===-1||w>l.children.length?l.children.length:w,i=l.children[g-1];u={offset:i.offset+i.length,length:0,content:","+p}}return A(a,u,m)}else{const p=w,u=l.children[p];let g;if(l.children.length===1)g={offset:l.offset+1,length:l.length-2,content:""};else if(l.children.length-1===p){const i=l.children[p-1],r=i.offset+i.length,t=l.offset+l.length;g={offset:r,length:t-2-r,content:""}}else g={offset:u.offset,length:l.children[p+1].offset-u.offset,content:""};return A(a,g,m)}else throw new Error(`Can not add ${typeof w!="number"?"index":"property"} to parent of type ${l.type}`);else{if(b===void 0)throw new Error("Can not delete in empty document");return A(a,{offset:$?$.offset:0,length:$?$.length:0,content:JSON.stringify(b)},m)}}e.$sn=N;function A(a,v,b){let m=k(a,v),f=v.offset,E=v.offset+v.content.length;if(v.length===0||v.content.length===0){for(;f>0&&!(0,j.$qn)(m,f-1);)f--;for(;E<m.length&&!(0,j.$qn)(m,E);)E++}const S=(0,j.$nn)(m,{offset:f,length:E-f},b);for(let l=S.length-1;l>=0;l--){const w=S[l];m=k(m,w),f=Math.min(f,w.offset),E=Math.max(E,w.offset+w.length),E+=w.content.length-w.length}const $=a.length-(m.length-E)-f;return[{offset:f,length:$,content:m.substring(f,E)}]}e.$tn=A;function k(a,v){return a.substring(0,v.offset)+v.content+a.substring(v.offset+v.length)}e.$un=k;function h(a,v){const b=v.slice(0).sort((f,E)=>{const S=f.offset-E.offset;return S===0?f.length-E.length:S});let m=a.length;for(let f=b.length-1;f>=0;f--){const E=b[f];if(E.offset+E.length<=m)a=k(a,E);else throw new Error("Overlapping edit");m=E.offset}return a}e.$vn=h}),define(ie[74],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_l=e.$$l=e.$0l=e.rot=e.$8l=void 0;function L(k,h,a){return Math.min(Math.max(k,h),a)}e.$8l=L;function j(k,h){return(h+k%h)%h}e.rot=j;class R{constructor(){this.a=0}getNext(){return this.a++}}e.$0l=R;class N{constructor(){this.a=1,this.b=0}update(h){return this.b=this.b+(h-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.$$l=N;class A{constructor(h){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(h),this.c.fill(0,0,h)}update(h){const a=this.c[this.d];return this.c[this.d]=h,this.d=(this.d+1)%this.c.length,this.e-=a,this.e+=h,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.$_l=A}),function(){function J(R){const N=[];typeof R=="number"&&N.push("code/timeOrigin",R);function A(h){N.push(h,Date.now())}function k(){const h=[];for(let a=0;a<N.length;a+=2)h.push({name:N[a],startTime:N[a+1]});return h}return{mark:A,getMarks:k}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?J():{mark(R){performance.mark(R)},getMarks(){let R=performance.timeOrigin;typeof R!="number"&&(R=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const N=[{name:"code/timeOrigin",startTime:Math.round(R)}];for(const A of performance.getEntriesByType("mark"))N.push({name:A.name,startTime:Math.round(R+A.startTime)});return N}};if(typeof process=="object"){const R=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return J(R)}else return console.trace("perf-util loaded in UNKNOWN environment"),J()}function L(R){return R.MonacoPerformanceMarks||(R.MonacoPerformanceMarks=e()),R.MonacoPerformanceMarks}var j;typeof global=="object"?j=global:typeof self=="object"?j=self:j={},typeof define=="function"?define("vs/base/common/performance",[],function(){return L(j)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=L(j):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),j.perf=L(j))}(),function(J,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var L=e();for(var j in L)(typeof exports=="object"?exports:J)[j]=L[j]}}(typeof self<"u"?self:this,function(){return function(J){var e={};function L(j){if(e[j])return e[j].exports;var R=e[j]={i:j,l:!1,exports:{}};return J[j].call(R.exports,R,R.exports,L),R.l=!0,R.exports}return L.m=J,L.c=e,L.d=function(j,R,N){L.o(j,R)||Object.defineProperty(j,R,{enumerable:!0,get:N})},L.r=function(j){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})},L.t=function(j,R){if(1&R&&(j=L(j)),8&R||4&R&&typeof j=="object"&&j&&j.__esModule)return j;var N=Object.create(null);if(L.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:j}),2&R&&typeof j!="string")for(var A in j)L.d(N,A,function(k){return j[k]}.bind(null,A));return N},L.n=function(j){var R=j&&j.__esModule?function(){return j.default}:function(){return j};return L.d(R,"a",R),R},L.o=function(j,R){return Object.prototype.hasOwnProperty.call(j,R)},L.p="",L(L.s=0)}([function(J,e,L){(function(j){var R;e=J.exports=U,R=typeof j=="object"&&j.env&&j.env.NODE_DEBUG&&/\bsemver\b/i.test(j.env.NODE_DEBUG)?function(){var B=Array.prototype.slice.call(arguments,0);B.unshift("SEMVER"),console.log.apply(console,B)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var N=256,A=Number.MAX_SAFE_INTEGER||9007199254740991,k=e.re=[],h=e.src=[],a=0,v=a++;h[v]="0|[1-9]\\d*";var b=a++;h[b]="[0-9]+";var m=a++;h[m]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=a++;h[f]="("+h[v]+")\\.("+h[v]+")\\.("+h[v]+")";var E=a++;h[E]="("+h[b]+")\\.("+h[b]+")\\.("+h[b]+")";var S=a++;h[S]="(?:"+h[v]+"|"+h[m]+")";var $=a++;h[$]="(?:"+h[b]+"|"+h[m]+")";var l=a++;h[l]="(?:-("+h[S]+"(?:\\."+h[S]+")*))";var w=a++;h[w]="(?:-?("+h[$]+"(?:\\."+h[$]+")*))";var p=a++;h[p]="[0-9A-Za-z-]+";var u=a++;h[u]="(?:\\+("+h[p]+"(?:\\."+h[p]+")*))";var g=a++,i="v?"+h[f]+h[l]+"?"+h[u]+"?";h[g]="^"+i+"$";var r="[v=\\s]*"+h[E]+h[w]+"?"+h[u]+"?",t=a++;h[t]="^"+r+"$";var n=a++;h[n]="((?:<|>)?=?)";var s=a++;h[s]=h[b]+"|x|X|\\*";var o=a++;h[o]=h[v]+"|x|X|\\*";var c=a++;h[c]="[v=\\s]*("+h[o]+")(?:\\.("+h[o]+")(?:\\.("+h[o]+")(?:"+h[l]+")?"+h[u]+"?)?)?";var I=a++;h[I]="[v=\\s]*("+h[s]+")(?:\\.("+h[s]+")(?:\\.("+h[s]+")(?:"+h[w]+")?"+h[u]+"?)?)?";var O=a++;h[O]="^"+h[n]+"\\s*"+h[c]+"$";var y=a++;h[y]="^"+h[n]+"\\s*"+h[I]+"$";var D=a++;h[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var W=a++;h[W]="(?:~>?)";var te=a++;h[te]="(\\s*)"+h[W]+"\\s+",k[te]=new RegExp(h[te],"g");var _=a++;h[_]="^"+h[W]+h[c]+"$";var oe=a++;h[oe]="^"+h[W]+h[I]+"$";var re=a++;h[re]="(?:\\^)";var he=a++;h[he]="(\\s*)"+h[re]+"\\s+",k[he]=new RegExp(h[he],"g");var ce=a++;h[ce]="^"+h[re]+h[c]+"$";var ae=a++;h[ae]="^"+h[re]+h[I]+"$";var q=a++;h[q]="^"+h[n]+"\\s*("+r+")$|^$";var Z=a++;h[Z]="^"+h[n]+"\\s*("+i+")$|^$";var M=a++;h[M]="(\\s*)"+h[n]+"\\s*("+r+"|"+h[c]+")",k[M]=new RegExp(h[M],"g");var C=a++;h[C]="^\\s*("+h[c]+")\\s+-\\s+("+h[c]+")\\s*$";var V=a++;h[V]="^\\s*("+h[I]+")\\s+-\\s+("+h[I]+")\\s*$";var X=a++;h[X]="(<|>)?=?\\s*\\*";for(var Q=0;Q<35;Q++)R(Q,h[Q]),k[Q]||(k[Q]=new RegExp(h[Q]));function K(B,Y){if(B instanceof U)return B;if(typeof B!="string"||B.length>N||!(Y?k[t]:k[g]).test(B))return null;try{return new U(B,Y)}catch{return null}}function U(B,Y){if(B instanceof U){if(B.loose===Y)return B;B=B.version}else if(typeof B!="string")throw new TypeError("Invalid Version: "+B);if(B.length>N)throw new TypeError("version is longer than "+N+" characters");if(!(this instanceof U))return new U(B,Y);R("SemVer",B,Y),this.loose=Y;var x=B.trim().match(Y?k[t]:k[g]);if(!x)throw new TypeError("Invalid Version: "+B);if(this.raw=B,this.major=+x[1],this.minor=+x[2],this.patch=+x[3],this.major>A||this.major<0)throw new TypeError("Invalid major version");if(this.minor>A||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>A||this.patch<0)throw new TypeError("Invalid patch version");x[4]?this.prerelease=x[4].split(".").map(function(ge){if(/^[0-9]+$/.test(ge)){var ye=+ge;if(ye>=0&&ye<A)return ye}return ge}):this.prerelease=[],this.build=x[5]?x[5].split("."):[],this.format()}e.parse=K,e.valid=function(B,Y){var x=K(B,Y);return x?x.version:null},e.clean=function(B,Y){var x=K(B.trim().replace(/^[=v]+/,""),Y);return x?x.version:null},e.SemVer=U,U.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},U.prototype.toString=function(){return this.version},U.prototype.compare=function(B){return R("SemVer.compare",this.version,this.loose,B),B instanceof U||(B=new U(B,this.loose)),this.compareMain(B)||this.comparePre(B)},U.prototype.compareMain=function(B){return B instanceof U||(B=new U(B,this.loose)),d(this.major,B.major)||d(this.minor,B.minor)||d(this.patch,B.patch)},U.prototype.comparePre=function(B){if(B instanceof U||(B=new U(B,this.loose)),this.prerelease.length&&!B.prerelease.length)return-1;if(!this.prerelease.length&&B.prerelease.length)return 1;if(!this.prerelease.length&&!B.prerelease.length)return 0;var Y=0;do{var x=this.prerelease[Y],ge=B.prerelease[Y];if(R("prerelease compare",Y,x,ge),x===void 0&&ge===void 0)return 0;if(ge===void 0)return 1;if(x===void 0)return-1;if(x!==ge)return d(x,ge)}while(++Y)},U.prototype.inc=function(B,Y){switch(B){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Y),this.inc("pre",Y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",Y),this.inc("pre",Y);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var x=this.prerelease.length;--x>=0;)typeof this.prerelease[x]=="number"&&(this.prerelease[x]++,x=-2);x===-1&&this.prerelease.push(0)}Y&&(this.prerelease[0]===Y?isNaN(this.prerelease[1])&&(this.prerelease=[Y,0]):this.prerelease=[Y,0]);break;default:throw new Error("invalid increment argument: "+B)}return this.format(),this.raw=this.version,this},e.inc=function(B,Y,x,ge){typeof x=="string"&&(ge=x,x=void 0);try{return new U(B,x).inc(Y,ge).version}catch{return null}},e.diff=function(B,Y){if(H(B,Y))return null;var x=K(B),ge=K(Y);if(x.prerelease.length||ge.prerelease.length){for(var ye in x)if((ye==="major"||ye==="minor"||ye==="patch")&&x[ye]!==ge[ye])return"pre"+ye;return"prerelease"}for(var ye in x)if((ye==="major"||ye==="minor"||ye==="patch")&&x[ye]!==ge[ye])return ye},e.compareIdentifiers=d;var F=/^[0-9]+$/;function d(B,Y){var x=F.test(B),ge=F.test(Y);return x&&ge&&(B=+B,Y=+Y),x&&!ge?-1:ge&&!x?1:B<Y?-1:B>Y?1:0}function P(B,Y,x){return new U(B,x).compare(new U(Y,x))}function z(B,Y,x){return P(B,Y,x)>0}function T(B,Y,x){return P(B,Y,x)<0}function H(B,Y,x){return P(B,Y,x)===0}function G(B,Y,x){return P(B,Y,x)!==0}function ee(B,Y,x){return P(B,Y,x)>=0}function ue(B,Y,x){return P(B,Y,x)<=0}function fe(B,Y,x,ge){var ye;switch(Y){case"===":typeof B=="object"&&(B=B.version),typeof x=="object"&&(x=x.version),ye=B===x;break;case"!==":typeof B=="object"&&(B=B.version),typeof x=="object"&&(x=x.version),ye=B!==x;break;case"":case"=":case"==":ye=H(B,x,ge);break;case"!=":ye=G(B,x,ge);break;case">":ye=z(B,x,ge);break;case">=":ye=ee(B,x,ge);break;case"<":ye=T(B,x,ge);break;case"<=":ye=ue(B,x,ge);break;default:throw new TypeError("Invalid operator: "+Y)}return ye}function $e(B,Y){if(B instanceof $e){if(B.loose===Y)return B;B=B.value}if(!(this instanceof $e))return new $e(B,Y);R("comparator",B,Y),this.loose=Y,this.parse(B),this.semver===we?this.value="":this.value=this.operator+this.semver.version,R("comp",this)}e.rcompareIdentifiers=function(B,Y){return d(Y,B)},e.major=function(B,Y){return new U(B,Y).major},e.minor=function(B,Y){return new U(B,Y).minor},e.patch=function(B,Y){return new U(B,Y).patch},e.compare=P,e.compareLoose=function(B,Y){return P(B,Y,!0)},e.rcompare=function(B,Y,x){return P(Y,B,x)},e.sort=function(B,Y){return B.sort(function(x,ge){return e.compare(x,ge,Y)})},e.rsort=function(B,Y){return B.sort(function(x,ge){return e.rcompare(x,ge,Y)})},e.gt=z,e.lt=T,e.eq=H,e.neq=G,e.gte=ee,e.lte=ue,e.cmp=fe,e.Comparator=$e;var we={};function de(B,Y){if(B instanceof de)return B.loose===Y?B:new de(B.raw,Y);if(B instanceof $e)return new de(B.value,Y);if(!(this instanceof de))return new de(B,Y);if(this.loose=Y,this.raw=B,this.set=B.split(/\s*\|\|\s*/).map(function(x){return this.parseRange(x.trim())},this).filter(function(x){return x.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+B);this.format()}function le(B){return!B||B.toLowerCase()==="x"||B==="*"}function pe(B,Y,x,ge,ye,je,Se,ze,Ie,Ne,Ce,Oe,Ae){return((Y=le(x)?"":le(ge)?">="+x+".0.0":le(ye)?">="+x+"."+ge+".0":">="+Y)+" "+(ze=le(Ie)?"":le(Ne)?"<"+(+Ie+1)+".0.0":le(Ce)?"<"+Ie+"."+(+Ne+1)+".0":Oe?"<="+Ie+"."+Ne+"."+Ce+"-"+Oe:"<="+ze)).trim()}function ve(B,Y){for(var x=0;x<B.length;x++)if(!B[x].test(Y))return!1;if(Y.prerelease.length){for(x=0;x<B.length;x++)if(R(B[x].semver),B[x].semver!==we&&B[x].semver.prerelease.length>0){var ge=B[x].semver;if(ge.major===Y.major&&ge.minor===Y.minor&&ge.patch===Y.patch)return!0}return!1}return!0}function ke(B,Y,x){try{Y=new de(Y,x)}catch{return!1}return Y.test(B)}function De(B,Y,x,ge){var ye,je,Se,ze,Ie;switch(B=new U(B,ge),Y=new de(Y,ge),x){case">":ye=z,je=ue,Se=T,ze=">",Ie=">=";break;case"<":ye=T,je=ee,Se=z,ze="<",Ie="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ke(B,Y,ge))return!1;for(var Ne=0;Ne<Y.set.length;++Ne){var Ce=Y.set[Ne],Oe=null,Ae=null;if(Ce.forEach(function(Fe){Fe.semver===we&&(Fe=new $e(">=0.0.0")),Oe=Oe||Fe,Ae=Ae||Fe,ye(Fe.semver,Oe.semver,ge)?Oe=Fe:Se(Fe.semver,Ae.semver,ge)&&(Ae=Fe)}),Oe.operator===ze||Oe.operator===Ie||(!Ae.operator||Ae.operator===ze)&&je(B,Ae.semver)||Ae.operator===Ie&&Se(B,Ae.semver))return!1}return!0}$e.prototype.parse=function(B){var Y=this.loose?k[q]:k[Z],x=B.match(Y);if(!x)throw new TypeError("Invalid comparator: "+B);this.operator=x[1],this.operator==="="&&(this.operator=""),x[2]?this.semver=new U(x[2],this.loose):this.semver=we},$e.prototype.toString=function(){return this.value},$e.prototype.test=function(B){return R("Comparator.test",B,this.loose),this.semver===we||(typeof B=="string"&&(B=new U(B,this.loose)),fe(B,this.operator,this.semver,this.loose))},$e.prototype.intersects=function(B,Y){if(!(B instanceof $e))throw new TypeError("a Comparator is required");var x;if(this.operator==="")return x=new de(B.value,Y),ke(this.value,x,Y);if(B.operator==="")return x=new de(this.value,Y),ke(B.semver,x,Y);var ge=!(this.operator!==">="&&this.operator!==">"||B.operator!==">="&&B.operator!==">"),ye=!(this.operator!=="<="&&this.operator!=="<"||B.operator!=="<="&&B.operator!=="<"),je=this.semver.version===B.semver.version,Se=!(this.operator!==">="&&this.operator!=="<="||B.operator!==">="&&B.operator!=="<="),ze=fe(this.semver,"<",B.semver,Y)&&(this.operator===">="||this.operator===">")&&(B.operator==="<="||B.operator==="<"),Ie=fe(this.semver,">",B.semver,Y)&&(this.operator==="<="||this.operator==="<")&&(B.operator===">="||B.operator===">");return ge||ye||je&&Se||ze||Ie},e.Range=de,de.prototype.format=function(){return this.range=this.set.map(function(B){return B.join(" ").trim()}).join("||").trim(),this.range},de.prototype.toString=function(){return this.range},de.prototype.parseRange=function(B){var Y=this.loose;B=B.trim(),R("range",B,Y);var x=Y?k[V]:k[C];B=B.replace(x,pe),R("hyphen replace",B),B=B.replace(k[M],"$1$2$3"),R("comparator trim",B,k[M]),B=(B=(B=B.replace(k[te],"$1~")).replace(k[he],"$1^")).split(/\s+/).join(" ");var ge=Y?k[q]:k[Z],ye=B.split(" ").map(function(je){return function(Se,ze){return R("comp",Se),Se=function(Ie,Ne){return Ie.trim().split(/\s+/).map(function(Ce){return function(Oe,Ae){R("caret",Oe,Ae);var Fe=Ae?k[ae]:k[ce];return Oe.replace(Fe,function(Le,be,Ee,Pe,Re){var Ue;return R("caret",Oe,Le,be,Ee,Pe,Re),le(be)?Ue="":le(Ee)?Ue=">="+be+".0.0 <"+(+be+1)+".0.0":le(Pe)?Ue=be==="0"?">="+be+"."+Ee+".0 <"+be+"."+(+Ee+1)+".0":">="+be+"."+Ee+".0 <"+(+be+1)+".0.0":Re?(R("replaceCaret pr",Re),Re.charAt(0)!=="-"&&(Re="-"+Re),Ue=be==="0"?Ee==="0"?">="+be+"."+Ee+"."+Pe+Re+" <"+be+"."+Ee+"."+(+Pe+1):">="+be+"."+Ee+"."+Pe+Re+" <"+be+"."+(+Ee+1)+".0":">="+be+"."+Ee+"."+Pe+Re+" <"+(+be+1)+".0.0"):(R("no pr"),Ue=be==="0"?Ee==="0"?">="+be+"."+Ee+"."+Pe+" <"+be+"."+Ee+"."+(+Pe+1):">="+be+"."+Ee+"."+Pe+" <"+be+"."+(+Ee+1)+".0":">="+be+"."+Ee+"."+Pe+" <"+(+be+1)+".0.0"),R("caret return",Ue),Ue})}(Ce,Ne)}).join(" ")}(Se,ze),R("caret",Se),Se=function(Ie,Ne){return Ie.trim().split(/\s+/).map(function(Ce){return function(Oe,Ae){var Fe=Ae?k[oe]:k[_];return Oe.replace(Fe,function(Le,be,Ee,Pe,Re){var Ue;return R("tilde",Oe,Le,be,Ee,Pe,Re),le(be)?Ue="":le(Ee)?Ue=">="+be+".0.0 <"+(+be+1)+".0.0":le(Pe)?Ue=">="+be+"."+Ee+".0 <"+be+"."+(+Ee+1)+".0":Re?(R("replaceTilde pr",Re),Re.charAt(0)!=="-"&&(Re="-"+Re),Ue=">="+be+"."+Ee+"."+Pe+Re+" <"+be+"."+(+Ee+1)+".0"):Ue=">="+be+"."+Ee+"."+Pe+" <"+be+"."+(+Ee+1)+".0",R("tilde return",Ue),Ue})}(Ce,Ne)}).join(" ")}(Se,ze),R("tildes",Se),Se=function(Ie,Ne){return R("replaceXRanges",Ie,Ne),Ie.split(/\s+/).map(function(Ce){return function(Oe,Ae){Oe=Oe.trim();var Fe=Ae?k[y]:k[O];return Oe.replace(Fe,function(Le,be,Ee,Pe,Re,Ue){R("xRange",Oe,Le,be,Ee,Pe,Re,Ue);var qe=le(Ee),Te=qe||le(Pe),Me=Te||le(Re);return be==="="&&Me&&(be=""),qe?Le=be===">"||be==="<"?"<0.0.0":"*":be&&Me?(Te&&(Pe=0),Me&&(Re=0),be===">"?(be=">=",Te?(Ee=+Ee+1,Pe=0,Re=0):Me&&(Pe=+Pe+1,Re=0)):be==="<="&&(be="<",Te?Ee=+Ee+1:Pe=+Pe+1),Le=be+Ee+"."+Pe+"."+Re):Te?Le=">="+Ee+".0.0 <"+(+Ee+1)+".0.0":Me&&(Le=">="+Ee+"."+Pe+".0 <"+Ee+"."+(+Pe+1)+".0"),R("xRange return",Le),Le})}(Ce,Ne)}).join(" ")}(Se,ze),R("xrange",Se),Se=function(Ie,Ne){return R("replaceStars",Ie,Ne),Ie.trim().replace(k[X],"")}(Se,ze),R("stars",Se),Se}(je,Y)}).join(" ").split(/\s+/);return this.loose&&(ye=ye.filter(function(je){return!!je.match(ge)})),ye=ye.map(function(je){return new $e(je,Y)})},de.prototype.intersects=function(B,Y){if(!(B instanceof de))throw new TypeError("a Range is required");return this.set.some(function(x){return x.every(function(ge){return B.set.some(function(ye){return ye.every(function(je){return ge.intersects(je,Y)})})})})},e.toComparators=function(B,Y){return new de(B,Y).set.map(function(x){return x.map(function(ge){return ge.value}).join(" ").trim().split(" ")})},de.prototype.test=function(B){if(!B)return!1;typeof B=="string"&&(B=new U(B,this.loose));for(var Y=0;Y<this.set.length;Y++)if(ve(this.set[Y],B))return!0;return!1},e.satisfies=ke,e.maxSatisfying=function(B,Y,x){var ge=null,ye=null;try{var je=new de(Y,x)}catch{return null}return B.forEach(function(Se){je.test(Se)&&(ge&&ye.compare(Se)!==-1||(ye=new U(ge=Se,x)))}),ge},e.minSatisfying=function(B,Y,x){var ge=null,ye=null;try{var je=new de(Y,x)}catch{return null}return B.forEach(function(Se){je.test(Se)&&(ge&&ye.compare(Se)!==1||(ye=new U(ge=Se,x)))}),ge},e.validRange=function(B,Y){try{return new de(B,Y).range||"*"}catch{return null}},e.ltr=function(B,Y,x){return De(B,Y,"<",x)},e.gtr=function(B,Y,x){return De(B,Y,">",x)},e.outside=De,e.prerelease=function(B,Y){var x=K(B,Y);return x&&x.prerelease.length?x.prerelease:null},e.intersects=function(B,Y,x){return B=new de(B,x),Y=new de(Y,x),B.intersects(Y)},e.coerce=function(B){if(B instanceof U)return B;if(typeof B!="string")return null;var Y=B.match(k[D]);return Y==null?null:K((Y[1]||"0")+"."+(Y[2]||"0")+"."+(Y[3]||"0"))}}).call(this,L(1))},function(J,e){var L,j,R=J.exports={};function N(){throw new Error("setTimeout has not been defined")}function A(){throw new Error("clearTimeout has not been defined")}function k($){if(L===setTimeout)return setTimeout($,0);if((L===N||!L)&&setTimeout)return L=setTimeout,setTimeout($,0);try{return L($,0)}catch{try{return L.call(null,$,0)}catch{return L.call(this,$,0)}}}(function(){try{L=typeof setTimeout=="function"?setTimeout:N}catch{L=N}try{j=typeof clearTimeout=="function"?clearTimeout:A}catch{j=A}})();var h,a=[],v=!1,b=-1;function m(){v&&h&&(v=!1,h.length?a=h.concat(a):b=-1,a.length&&f())}function f(){if(!v){var $=k(m);v=!0;for(var l=a.length;l;){for(h=a,a=[];++b<l;)h&&h[b].run();b=-1,l=a.length}h=null,v=!1,function(w){if(j===clearTimeout)return clearTimeout(w);if((j===A||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(w);try{j(w)}catch{try{return j.call(null,w)}catch{return j.call(this,w)}}}($)}}function E($,l){this.fun=$,this.array=l}function S(){}R.nextTick=function($){var l=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)l[w-1]=arguments[w];a.push(new E($,l)),a.length!==1||v||k(f)},E.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={},R.on=S,R.addListener=S,R.once=S,R.off=S,R.removeListener=S,R.removeAllListeners=S,R.emit=S,R.prependListener=S,R.prependOnceListener=S,R.listeners=function($){return[]},R.binding=function($){throw new Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function($){throw new Error("process.chdir is not supported")},R.umask=function(){return 0}}])}),define(ie[75],ne([0,1]),function(J,e){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.$2r=void 0;class j{constructor(k,h,a){this.level=k,this.key=h,this.value=a,this.forward=[]}}const R=void 0;class N{constructor(k,h=2**16){this.comparator=k,this[L]="SkipList",this.d=0,this.f=0,this.c=Math.max(1,Math.log2(h)|0),this.e=new j(this.c,R,R)}get size(){return this.f}clear(){this.e=new j(this.c,R,R),this.f=0}has(k){return!!N.g(this,k,this.comparator)}get(k){return N.g(this,k,this.comparator)?.value}set(k,h){return N.h(this,k,h,this.comparator)&&(this.f+=1),this}delete(k){const h=N.k(this,k,this.comparator);return h&&(this.f-=1),h}forEach(k,h){let a=this.e.forward[0];for(;a;)k.call(h,a.value,a.key,this),a=a.forward[0]}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let k=this.e.forward[0];for(;k;)yield[k.key,k.value],k=k.forward[0]}*keys(){let k=this.e.forward[0];for(;k;)yield k.key,k=k.forward[0]}*values(){let k=this.e.forward[0];for(;k;)yield k.value,k=k.forward[0]}toString(){let k="[SkipList]:",h=this.e.forward[0];for(;h;)k+=`node(${h.key}, ${h.value}, lvl:${h.level})`,h=h.forward[0];return k}static g(k,h,a){let v=k.e;for(let b=k.d-1;b>=0;b--)for(;v.forward[b]&&a(v.forward[b].key,h)<0;)v=v.forward[b];if(v=v.forward[0],v&&a(v.key,h)===0)return v}static h(k,h,a,v){const b=[];let m=k.e;for(let f=k.d-1;f>=0;f--){for(;m.forward[f]&&v(m.forward[f].key,h)<0;)m=m.forward[f];b[f]=m}if(m=m.forward[0],m&&v(m.key,h)===0)return m.value=a,!1;{const f=N.j(k);if(f>k.d){for(let E=k.d;E<f;E++)b[E]=k.e;k.d=f}m=new j(f,h,a);for(let E=0;E<f;E++)m.forward[E]=b[E].forward[E],b[E].forward[E]=m;return!0}}static j(k,h=.5){let a=1;for(;Math.random()<h&&a<k.c;)a+=1;return a}static k(k,h,a){const v=[];let b=k.e;for(let m=k.d-1;m>=0;m--){for(;b.forward[m]&&a(b.forward[m].key,h)<0;)b=b.forward[m];v[m]=b}if(b=b.forward[0],!b||a(b.key,h)!==0)return!1;for(let m=0;m<k.d&&v[m].forward[m]===b;m++)v[m].forward[m]=b.forward[m];for(;k.d>0&&k.e.forward[k.d-1]===R;)k.d-=1;return!0}}e.$2r=N}),define(ie[46],ne([0,1,7,2]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=void 0;function R(u){const g=u;return g?typeof g.read=="function":!1}e.$8d=R;function N(u){const g=u;return g?[g.on,g.pause,g.resume,g.destroy].every(i=>typeof i=="function"):!1}e.$9d=N;function A(u){const g=u;return g?N(g.stream)&&Array.isArray(g.buffer)&&typeof g.ended=="boolean":!1}e.$0d=A;function k(u,g){return new h(u,g)}e.$$d=k;class h{constructor(g,i){this.e=g,this.f=i,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(g){if(!this.a.destroyed){if(this.a.flowing)this.g(g);else if(this.b.data.push(g),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(i=>this.d.push(i))}}error(g){this.a.destroyed||(this.a.flowing?this.h(g):this.b.error.push(g))}end(g){this.a.destroyed||(typeof g<"u"&&this.write(g),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(g){this.c.data.slice(0).forEach(i=>i(g))}h(g){this.c.error.length===0?(0,L.$1)(g):this.c.error.slice(0).forEach(i=>i(g))}i(){this.c.end.slice(0).forEach(g=>g())}on(g,i){if(!this.a.destroyed)switch(g){case"data":this.c.data.push(i),this.resume();break;case"end":this.c.end.push(i),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(i),this.a.flowing&&this.k();break}}removeListener(g,i){if(this.a.destroyed)return;let r;switch(g){case"data":r=this.c.data;break;case"end":r=this.c.end;break;case"error":r=this.c.error;break}if(r){const t=r.indexOf(i);t>=0&&r.splice(t,1)}}j(){if(this.b.data.length>0){const g=this.e(this.b.data);this.g(g),this.b.data.length=0;const i=[...this.d];this.d.length=0,i.forEach(r=>r())}}k(){if(this.c.error.length>0){for(const g of this.b.error)this.h(g);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function a(u,g){const i=[];let r;for(;(r=u.read())!==null;)i.push(r);return g(i)}e.$_d=a;function v(u,g,i){const r=[];let t;for(;(t=u.read())!==null&&r.length<i;)r.push(t);return t===null&&r.length>0?g(r):{read:()=>{if(r.length>0)return r.shift();if(typeof t<"u"){const n=t;return t=void 0,n}return u.read()}}}e.$ae=v;function b(u,g){return new Promise((i,r)=>{const t=[];m(u,{onData:n=>{g&&t.push(n)},onError:n=>{g?r(n):i(void 0)},onEnd:()=>{i(g?g(t):void 0)}})})}e.$be=b;function m(u,g,i){u.on("error",r=>{i?.isCancellationRequested||g.onError(r)}),u.on("end",()=>{i?.isCancellationRequested||g.onEnd()}),u.on("data",r=>{i?.isCancellationRequested||g.onData(r)})}e.$ce=m;function f(u,g){return new Promise((i,r)=>{const t=new j.$Sc,n=[],s=I=>{if(n.push(I),n.length>g)return t.dispose(),u.pause(),i({stream:u,buffer:n,ended:!1})},o=I=>(t.dispose(),r(I)),c=()=>(t.dispose(),i({stream:u,buffer:n,ended:!0}));t.add((0,j.$Rc)(()=>u.removeListener("error",o))),u.on("error",o),t.add((0,j.$Rc)(()=>u.removeListener("end",c))),u.on("end",c),t.add((0,j.$Rc)(()=>u.removeListener("data",s))),u.on("data",s)})}e.$de=f;function E(u,g){const i=k(g);return i.end(u),i}e.$ee=E;function S(){const u=k(()=>{throw new Error("not supported")});return u.end(),u}e.$fe=S;function $(u){let g=!1;return{read:()=>g?null:(g=!0,u)}}e.$ge=$;function l(u,g,i){const r=k(i);return m(u,{onData:t=>r.write(g.data(t)),onError:t=>r.error(g.error?g.error(t):t),onEnd:()=>r.end()}),r}e.$he=l;function w(u,g,i){let r=!1;return{read:()=>{const t=g.read();return r?t:(r=!0,t!==null?i([u,t]):u)}}}e.$ie=w;function p(u,g,i){let r=!1;const t=k(i);return m(g,{onData:n=>r?t.write(n):(r=!0,t.write(i([u,n]))),onError:n=>t.error(n),onEnd:()=>{r||(r=!0,t.write(u)),t.end()}}),t}e.$je=p}),define(ie[14],ne([0,1,166,46]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=void 0;const R=typeof Buffer<"u",N=new L.$V(()=>new Uint8Array(256));let A,k;class h{static alloc(D){return R?new h(Buffer.allocUnsafe(D)):new h(new Uint8Array(D))}static wrap(D){return R&&!Buffer.isBuffer(D)&&(D=Buffer.from(D.buffer,D.byteOffset,D.byteLength)),new h(D)}static fromString(D,W){return!(W?.dontUseNodeBuffer||!1)&&R?new h(Buffer.from(D)):(A||(A=new TextEncoder),new h(A.encode(D)))}static fromByteArray(D){const W=h.alloc(D.length);for(let te=0,_=D.length;te<_;te++)W.buffer[te]=D[te];return W}static concat(D,W){if(typeof W>"u"){W=0;for(let oe=0,re=D.length;oe<re;oe++)W+=D[oe].byteLength}const te=h.alloc(W);let _=0;for(let oe=0,re=D.length;oe<re;oe++){const he=D[oe];te.set(he,_),_+=he.byteLength}return te}constructor(D){this.buffer=D,this.byteLength=this.buffer.byteLength}clone(){const D=h.alloc(this.byteLength);return D.set(this),D}toString(){return R?this.buffer.toString():(k||(k=new TextDecoder),k.decode(this.buffer))}slice(D,W){return new h(this.buffer.subarray(D,W))}set(D,W){if(D instanceof h)this.buffer.set(D.buffer,W);else if(D instanceof Uint8Array)this.buffer.set(D,W);else if(D instanceof ArrayBuffer)this.buffer.set(new Uint8Array(D),W);else if(ArrayBuffer.isView(D))this.buffer.set(new Uint8Array(D.buffer,D.byteOffset,D.byteLength),W);else throw new Error("Unknown argument 'array'")}readUInt32BE(D){return m(this.buffer,D)}writeUInt32BE(D,W){f(this.buffer,D,W)}readUInt32LE(D){return E(this.buffer,D)}writeUInt32LE(D,W){S(this.buffer,D,W)}readUInt8(D){return $(this.buffer,D)}writeUInt8(D,W){l(this.buffer,D,W)}indexOf(D,W=0){return a(this.buffer,D instanceof h?D.buffer:D,W)}}e.$ke=h;function a(y,D,W=0){const te=D.byteLength,_=y.byteLength;if(te===0)return 0;if(te===1)return y.indexOf(D[0]);if(te>_-W)return-1;const oe=N.value;oe.fill(D.length);for(let ae=0;ae<D.length;ae++)oe[D[ae]]=D.length-ae-1;let re=W+D.length-1,he=re,ce=-1;for(;re<_;)if(y[re]===D[he]){if(he===0){ce=re;break}re--,he--}else re+=Math.max(D.length-he,oe[y[re]]),he=D.length-1;return ce}e.$le=a;function v(y,D){return y[D+0]<<0>>>0|y[D+1]<<8>>>0}e.$me=v;function b(y,D,W){y[W+0]=D&255,D=D>>>8,y[W+1]=D&255}e.$ne=b;function m(y,D){return y[D]*2**24+y[D+1]*2**16+y[D+2]*2**8+y[D+3]}e.$oe=m;function f(y,D,W){y[W+3]=D,D=D>>>8,y[W+2]=D,D=D>>>8,y[W+1]=D,D=D>>>8,y[W]=D}e.$pe=f;function E(y,D){return y[D+0]<<0>>>0|y[D+1]<<8>>>0|y[D+2]<<16>>>0|y[D+3]<<24>>>0}e.$qe=E;function S(y,D,W){y[W+0]=D&255,D=D>>>8,y[W+1]=D&255,D=D>>>8,y[W+2]=D&255,D=D>>>8,y[W+3]=D&255}e.$re=S;function $(y,D){return y[D]}e.$se=$;function l(y,D,W){y[W]=D}e.$te=l;function w(y){return j.$_d(y,D=>h.concat(D))}e.$ue=w;function p(y){return j.$ge(y)}e.$ve=p;function u(y){return j.$be(y,D=>h.concat(D))}e.$we=u;async function g(y){return y.ended?h.concat(y.buffer):h.concat([...y.buffer,await u(y.stream)])}e.$xe=g;function i(y){return j.$ee(y,D=>h.concat(D))}e.$ye=i;function r(y){return j.$he(y,{data:D=>typeof D=="string"?h.fromString(D):h.wrap(D)},D=>h.concat(D))}e.$ze=r;function t(y){return j.$$d(D=>h.concat(D),y)}e.$Ae=t;function n(y,D){return j.$ie(y,D,W=>h.concat(W))}e.$Be=n;function s(y,D){return j.$je(y,D,W=>h.concat(W))}e.$Ce=s;function o(y){let D=0,W=0,te=0;const _=new Uint8Array(Math.floor(y.length/4*3)),oe=he=>{switch(W){case 3:_[te++]=D|he,W=0;break;case 2:_[te++]=D|he>>>2,D=he<<6,W=3;break;case 1:_[te++]=D|he>>>4,D=he<<4,W=2;break;default:D=he<<2,W=1}};for(let he=0;he<y.length;he++){const ce=y.charCodeAt(he);if(ce>=65&&ce<=90)oe(ce-65);else if(ce>=97&&ce<=122)oe(ce-97+26);else if(ce>=48&&ce<=57)oe(ce-48+52);else if(ce===43||ce===45)oe(62);else if(ce===47||ce===95)oe(63);else{if(ce===61)break;throw new SyntaxError(`Unexpected base64 character ${y[he]}`)}}const re=te;for(;W>0;)oe(0);return h.wrap(_).slice(0,re)}e.$De=o;const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function O({buffer:y},D=!0,W=!1){const te=W?I:c;let _="";const oe=y.byteLength%3;let re=0;for(;re<y.byteLength-oe;re+=3){const he=y[re+0],ce=y[re+1],ae=y[re+2];_+=te[he>>>2],_+=te[(he<<4|ce>>>4)&63],_+=te[(ce<<2|ae>>>6)&63],_+=te[ae&63]}if(oe===1){const he=y[re+0];_+=te[he>>>2],_+=te[he<<4&63],D&&(_+="==")}else if(oe===2){const he=y[re+0],ce=y[re+1];_+=te[he>>>2],_+=te[(he<<4|ce>>>4)&63],_+=te[ce<<2&63],D&&(_+="=")}return _}e.$Ee=O}),define(ie[43],ne([0,1,30]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1i=e.$Zi=e.$Yi=e.$Xi=e.$Wi=e.$Vi=e.$Ui=void 0;function j(l){return R(l,0)}e.$Ui=j;function R(l,w){switch(typeof l){case"object":return l===null?N(349,w):Array.isArray(l)?h(l,w):a(l,w);case"string":return k(l,w);case"boolean":return A(l,w);case"number":return N(l,w);case"undefined":return N(937,w);default:return N(617,w)}}e.$Vi=R;function N(l,w){return(w<<5)-w+l|0}e.$Wi=N;function A(l,w){return N(l?433:863,w)}function k(l,w){w=N(149417,w);for(let p=0,u=l.length;p<u;p++)w=N(l.charCodeAt(p),w);return w}e.$Xi=k;function h(l,w){return w=N(104579,w),l.reduce((p,u)=>R(u,p),w)}function a(l,w){return w=N(181387,w),Object.keys(l).sort().reduce((p,u)=>(p=k(u,p),R(l[u],p)),w)}class v{constructor(){this.g=0}get value(){return this.g}hash(w){return this.g=R(w,this.g),this.g}}e.$Yi=v;var b;(function(l){l[l.BLOCK_SIZE=64]="BLOCK_SIZE",l[l.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(b||(b={}));function m(l,w,p=32){const u=p-w,g=~((1<<u)-1);return(l<<w|(g&l)>>>u)>>>0}function f(l,w=0,p=l.byteLength,u=0){for(let g=0;g<p;g++)l[w+g]=u}function E(l,w,p="0"){for(;l.length<w;)l=p+l;return l}function S(l,w=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(p=>p.toString(16).padStart(2,"0")).join(""):E((l>>>0).toString(16),w/4)}e.$Zi=S;class ${static{this.g=new DataView(new ArrayBuffer(320))}constructor(){this.h=1732584193,this.l=4023233417,this.m=2562383102,this.n=271733878,this.o=3285377520,this.p=new Uint8Array(64+3),this.q=new DataView(this.p.buffer),this.r=0,this.t=0,this.u=0,this.v=!1}update(w){const p=w.length;if(p===0)return;const u=this.p;let g=this.r,i=this.u,r,t;for(i!==0?(r=i,t=-1,i=0):(r=w.charCodeAt(0),t=0);;){let n=r;if(L.$ef(r))if(t+1<p){const s=w.charCodeAt(t+1);L.$ff(s)?(t++,n=L.$gf(r,s)):n=65533}else{i=r;break}else L.$ff(r)&&(n=65533);if(g=this.w(u,g,n),t++,t<p)r=w.charCodeAt(t);else break}this.r=g,this.u=i}w(w,p,u){return u<128?w[p++]=u:u<2048?(w[p++]=192|(u&1984)>>>6,w[p++]=128|(u&63)>>>0):u<65536?(w[p++]=224|(u&61440)>>>12,w[p++]=128|(u&4032)>>>6,w[p++]=128|(u&63)>>>0):(w[p++]=240|(u&1835008)>>>18,w[p++]=128|(u&258048)>>>12,w[p++]=128|(u&4032)>>>6,w[p++]=128|(u&63)>>>0),p>=64&&(this.y(),p-=64,this.t+=64,w[0]=w[64+0],w[1]=w[64+1],w[2]=w[64+2]),p}digest(){return this.v||(this.v=!0,this.u&&(this.u=0,this.r=this.w(this.p,this.r,65533)),this.t+=this.r,this.x()),S(this.h)+S(this.l)+S(this.m)+S(this.n)+S(this.o)}x(){this.p[this.r++]=128,f(this.p,this.r),this.r>56&&(this.y(),f(this.p));const w=8*this.t;this.q.setUint32(56,Math.floor(w/4294967296),!1),this.q.setUint32(60,w%4294967296,!1),this.y()}y(){const w=$.g,p=this.q;for(let c=0;c<64;c+=4)w.setUint32(c,p.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)w.setUint32(c,m(w.getUint32(c-12,!1)^w.getUint32(c-32,!1)^w.getUint32(c-56,!1)^w.getUint32(c-64,!1),1),!1);let u=this.h,g=this.l,i=this.m,r=this.n,t=this.o,n,s,o;for(let c=0;c<80;c++)c<20?(n=g&i|~g&r,s=1518500249):c<40?(n=g^i^r,s=1859775393):c<60?(n=g&i|g&r|i&r,s=2400959708):(n=g^i^r,s=3395469782),o=m(u,5)+n+t+s+w.getUint32(c*4,!1)&4294967295,t=r,r=i,i=m(g,30),g=u,u=o;this.h=this.h+u&4294967295,this.l=this.l+g&4294967295,this.m=this.m+i&4294967295,this.n=this.n+r&4294967295,this.o=this.o+t&4294967295}}e.$1i=$}),define(ie[54],ne([0,1,30]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var j;(function(R){R[R.Ignore=0]="Ignore",R[R.Info=1]="Info",R[R.Warning=2]="Warning",R[R.Error=3]="Error"})(j||(j={})),function(R){const N="error",A="warning",k="warn",h="info",a="ignore";function v(m){return m?L.$af(N,m)?R.Error:L.$af(A,m)||L.$af(k,m)?R.Warning:L.$af(h,m)?R.Info:R.Ignore:R.Ignore}R.fromValue=v;function b(m){switch(m){case R.Error:return N;case R.Warning:return A;case R.Info:return h;default:return a}}R.toString=b}(j||(j={})),e.default=j}),define(ie[27],ne([0,1,3]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hn=e.$Gn=e.$Fn=e.$En=e.$Dn=e.$Cn=e.$Bn=e.$An=e.$zn=e.$yn=e.$xn=e.$wn=void 0;function j(l){if(!l||typeof l!="object"||l instanceof RegExp)return l;const w=Array.isArray(l)?[]:{};return Object.entries(l).forEach(([p,u])=>{w[p]=u&&typeof u=="object"?j(u):u}),w}e.$wn=j;function R(l){if(!l||typeof l!="object")return l;const w=[l];for(;w.length>0;){const p=w.shift();Object.freeze(p);for(const u in p)if(N.call(p,u)){const g=p[u];typeof g=="object"&&!Object.isFrozen(g)&&!(0,L.$Mf)(g)&&w.push(g)}}return l}e.$xn=R;const N=Object.prototype.hasOwnProperty;function A(l,w){return k(l,w,new Set)}e.$yn=A;function k(l,w,p){if((0,L.$Sf)(l))return l;const u=w(l);if(typeof u<"u")return u;if(Array.isArray(l)){const g=[];for(const i of l)g.push(k(i,w,p));return g}if((0,L.$Lf)(l)){if(p.has(l))throw new Error("Cannot clone recursive data-structure");p.add(l);const g={};for(const i in l)N.call(l,i)&&(g[i]=k(l[i],w,p));return p.delete(l),g}return l}function h(l,w,p=!0){return(0,L.$Lf)(l)?((0,L.$Lf)(w)&&Object.keys(w).forEach(u=>{u in l?p&&((0,L.$Lf)(l[u])&&(0,L.$Lf)(w[u])?h(l[u],w[u],p):l[u]=w[u]):l[u]=w[u]}),l):w}e.$zn=h;function a(l,w){if(l===w)return!0;if(l==null||w===null||w===void 0||typeof l!=typeof w||typeof l!="object"||Array.isArray(l)!==Array.isArray(w))return!1;let p,u;if(Array.isArray(l)){if(l.length!==w.length)return!1;for(p=0;p<l.length;p++)if(!a(l[p],w[p]))return!1}else{const g=[];for(u in l)g.push(u);g.sort();const i=[];for(u in w)i.push(u);if(i.sort(),!a(g,i))return!1;for(p=0;p<g.length;p++)if(!a(l[g[p]],w[g[p]]))return!1}return!0}e.$An=a;function v(l){const w=new Set;return JSON.stringify(l,(p,u)=>{if((0,L.$Lf)(u)||Array.isArray(u)){if(w.has(u))return"[Circular]";w.add(u)}return u})}e.$Bn=v;function b(l,w){const p=Object.create(null);return!l||!w||Object.keys(w).forEach(g=>{const i=l[g],r=w[g];a(i,r)||(p[g]=r)}),p}e.$Cn=b;function m(l,w){const p=w.toLowerCase(),u=Object.keys(l).find(g=>g.toLowerCase()===p);return u?l[u]:l[w]}e.$Dn=m;function f(l,w){const p=Object.create(null);for(const[u,g]of Object.entries(l))w(u,g)&&(p[u]=g);return p}e.$En=f;function E(l){let w=[];for(;Object.prototype!==l;)w=w.concat(Object.getOwnPropertyNames(l)),l=Object.getPrototypeOf(l);return w}e.$Fn=E;function S(l){const w=[];for(const p of E(l))typeof l[p]=="function"&&w.push(p);return w}e.$Gn=S;function $(l,w){const p=g=>function(){const i=Array.prototype.slice.call(arguments,0);return w(g,i)},u={};for(const g of l)u[g]=p(g);return u}e.$Hn=$}),define(ie[28],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rg=e.$qg=void 0;const L=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function j(R){return L.test(R)}e.$qg=j,e.$rg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let R;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?R=crypto.getRandomValues.bind(crypto):R=function(k){for(let h=0;h<k.length;h++)k[h]=Math.floor(Math.random()*256);return k};const N=new Uint8Array(16),A=[];for(let k=0;k<256;k++)A.push(k.toString(16).padStart(2,"0"));return function(){R(N),N[6]=N[6]&15|64,N[8]=N[8]&63|128;let h=0,a="";return a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a+="-",a+=A[N[h++]],a+=A[N[h++]],a+="-",a+=A[N[h++]],a+=A[N[h++]],a+="-",a+=A[N[h++]],a+=A[N[h++]],a+="-",a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a+=A[N[h++]],a}}()}),define(ie[76],ne([0,1,33]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0m=void 0;const j=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function R(A){const k=A.replace(/\-/g,":").toLowerCase();return!j.has(k)}function N(){const A=(0,L.networkInterfaces)();for(const k in A){const h=A[k];if(h){for(const{mac:a}of h)if(R(a))return a}}throw new Error("Unable to retrieve mac address (unexpected format)")}e.$0m=N}),define(ie[77],ne([8,5]),function(J,e){return J.create("vs/base/common/date",e)}),define(ie[78],ne([0,1,77]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xm=e.$wm=void 0;const j=60,R=j*60,N=R*24,A=N*7,k=N*30,h=N*365;function a(b,m,f,E){typeof b!="number"&&(b=b.getTime());const S=Math.round((new Date().getTime()-b)/1e3);if(S<-30)return(0,L.localize)(0,null,a(new Date().getTime()+S*1e3,!1));if(!E&&S<30)return(0,L.localize)(1,null);let $;return S<j?($=S,m?$===1?f?(0,L.localize)(2,null,$):(0,L.localize)(3,null,$):f?(0,L.localize)(4,null,$):(0,L.localize)(5,null,$):$===1?f?(0,L.localize)(6,null,$):(0,L.localize)(7,null,$):f?(0,L.localize)(8,null,$):(0,L.localize)(9,null,$)):S<R?($=Math.floor(S/j),m?$===1?f?(0,L.localize)(10,null,$):(0,L.localize)(11,null,$):f?(0,L.localize)(12,null,$):(0,L.localize)(13,null,$):$===1?f?(0,L.localize)(14,null,$):(0,L.localize)(15,null,$):f?(0,L.localize)(16,null,$):(0,L.localize)(17,null,$)):S<N?($=Math.floor(S/R),m?$===1?f?(0,L.localize)(18,null,$):(0,L.localize)(19,null,$):f?(0,L.localize)(20,null,$):(0,L.localize)(21,null,$):$===1?f?(0,L.localize)(22,null,$):(0,L.localize)(23,null,$):f?(0,L.localize)(24,null,$):(0,L.localize)(25,null,$)):S<A?($=Math.floor(S/N),m?$===1?(0,L.localize)(26,null,$):(0,L.localize)(27,null,$):$===1?(0,L.localize)(28,null,$):(0,L.localize)(29,null,$)):S<k?($=Math.floor(S/A),m?$===1?f?(0,L.localize)(30,null,$):(0,L.localize)(31,null,$):f?(0,L.localize)(32,null,$):(0,L.localize)(33,null,$):$===1?f?(0,L.localize)(34,null,$):(0,L.localize)(35,null,$):f?(0,L.localize)(36,null,$):(0,L.localize)(37,null,$)):S<h?($=Math.floor(S/k),m?$===1?f?(0,L.localize)(38,null,$):(0,L.localize)(39,null,$):f?(0,L.localize)(40,null,$):(0,L.localize)(41,null,$):$===1?f?(0,L.localize)(42,null,$):(0,L.localize)(43,null,$):f?(0,L.localize)(44,null,$):(0,L.localize)(45,null,$)):($=Math.floor(S/h),m?$===1?f?(0,L.localize)(46,null,$):(0,L.localize)(47,null,$):f?(0,L.localize)(48,null,$):(0,L.localize)(49,null,$):$===1?f?(0,L.localize)(50,null,$):(0,L.localize)(51,null,$):f?(0,L.localize)(52,null,$):(0,L.localize)(53,null,$))}e.$wm=a;function v(b){return b.getFullYear()+"-"+String(b.getMonth()+1).padStart(2,"0")+"-"+String(b.getDate()).padStart(2,"0")+"T"+String(b.getHours()).padStart(2,"0")+":"+String(b.getMinutes()).padStart(2,"0")+":"+String(b.getSeconds()).padStart(2,"0")+"."+(b.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.$xm=v}),define(ie[79],ne([8,5]),function(J,e){return J.create("vs/base/common/errorMessage",e)}),define(ie[34],ne([0,1,19,3,79]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ti=e.$Si=e.$Ri=void 0;function N(b,m){return m&&(b.stack||b.stacktrace)?R.localize(0,null,k(b),A(b.stack)||A(b.stacktrace)):k(b)}function A(b){return Array.isArray(b)?b.join(`
`):b}function k(b){return b.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${b.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof b.code=="string"&&typeof b.errno=="number"&&typeof b.syscall=="string"?R.localize(1,null,b.message):b.message||R.localize(2,null)}function h(b=null,m=!1){if(!b)return R.localize(3,null);if(Array.isArray(b)){const f=L.$Hb(b),E=h(f[0],m);return f.length>1?R.localize(4,null,E,f.length):E}if(j.$Jf(b))return b;if(b.detail){const f=b.detail;if(f.error)return N(f.error,m);if(f.exception)return N(f.exception,m)}return b.stack?N(b,m):b.message?b.message:R.localize(5,null)}e.$Ri=h;function a(b){const m=b;return m instanceof Error&&Array.isArray(m.actions)}e.$Si=a;function v(b,m){let f;return typeof b=="string"?f=new Error(b):f=b,f.actions=m,f}e.$Ti=v}),define(ie[80],ne([8,5]),function(J,e){return J.create("vs/base/common/jsonErrorMessages",e)}),define(ie[81],ne([0,1,80]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yp=void 0;function j(R){switch(R){case 1:return(0,L.localize)(0,null);case 2:return(0,L.localize)(1,null);case 3:return(0,L.localize)(2,null);case 4:return(0,L.localize)(3,null);case 5:return(0,L.localize)(4,null);case 6:return(0,L.localize)(5,null);case 7:return(0,L.localize)(6,null);case 8:return(0,L.localize)(7,null);case 9:return(0,L.localize)(8,null);default:return""}}e.$Yp=j}),define(ie[55],ne([0,1,12]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Tl=e.$Sl=e.TerminateResponseCode=e.Source=void 0;var j;(function(k){k[k.stdout=0]="stdout",k[k.stderr=1]="stderr"})(j||(e.Source=j={}));var R;(function(k){k[k.Success=0]="Success",k[k.Unknown=1]="Unknown",k[k.AccessDenied=2]="AccessDenied",k[k.ProcessNotFound=3]="ProcessNotFound"})(R||(e.TerminateResponseCode=R={}));function N(k,...h){const a=h.reduce((m,f)=>(m[f]=!0,m),{}),v=[/^ELECTRON_.+$/,/^VSCODE_(?!(PORTABLE|SHELL_LOGIN|ENV_REPLACE|ENV_APPEND|ENV_PREPEND)).+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(k).filter(m=>!a[m]).forEach(m=>{for(let f=0;f<v.length;f++)if(m.search(v[f])!==-1){delete k[m];break}})}e.$Sl=N;function A(k){k&&(delete k.DEBUG,L.$j&&delete k.DYLD_LIBRARY_PATH,L.$k&&delete k.LD_PRELOAD)}e.$Tl=A}),define(ie[82],ne([0,1,11]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.$pq=e.$oq=e.$nq=void 0;function j(a){const v=a;return v&&typeof v.type=="string"&&typeof v.severity=="string"}e.$nq=j;function R(a){const v=[];let b;try{const m=JSON.parse(a.arguments),f=m[m.length-1];f&&f.__$stack&&(m.pop(),b=f.__$stack),v.push(...m)}catch{v.push("Unable to log remote console arguments",a.arguments)}return{args:v,stack:b}}e.$oq=R;function N(a){if(typeof a!="string")return N(R(a).stack);const v=a;if(v){const b=A(v),m=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(b||"");if(m&&m.length===4)return{uri:L.URI.file(m[1]),line:Number(m[2]),column:Number(m[3])}}}e.$pq=N;function A(a){if(!a)return a;const v=a.indexOf(`
`);return v===-1?a:a.substring(0,v)}function k(a,v){const{args:b,stack:m}=R(a),f=typeof b[0]=="string"&&b.length===1;let E=A(m);E&&(E=`(${E.trim()})`);let S=[];if(typeof b[0]=="string"?E&&f?S=[`%c[${v}] %c${b[0]} %c${E}`,h("blue"),h(""),h("grey")]:S=[`%c[${v}] %c${b[0]}`,h("blue"),h(""),...b.slice(1)]:S=[`%c[${v}]%`,h("blue"),...b],E&&!f&&S.push(E),typeof console[a.severity]!="function")throw new Error("Unknown console method");console[a.severity].apply(console,S)}e.log=k;function h(a){return`color: ${a}`}}),define(ie[47],ne([0,1,14,11]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dh=e.$Ch=e.$Bh=void 0;function R(h){return JSON.stringify(h,A)}e.$Bh=R;function N(h){let a=JSON.parse(h);return a=k(a),a}e.$Ch=N;function A(h,a){return a instanceof RegExp?{$mid:2,source:a.source,flags:a.flags}:a}function k(h,a=0){if(!h||a>200)return h;if(typeof h=="object"){switch(h.$mid){case 1:return j.URI.revive(h);case 2:return new RegExp(h.source,h.flags);case 17:return new Date(h.source)}if(h instanceof L.$ke||h instanceof Uint8Array)return h;if(Array.isArray(h))for(let v=0;v<h.length;++v)h[v]=k(h[v],a+1);else for(const v in h)Object.hasOwnProperty.call(h,v)&&(h[v]=k(h[v],a+1))}return h}e.$Dh=k}),define(ie[83],ne([0,1,70,15,12,11]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$iD=void 0;class A{constructor(m,f,E){this.id=m,this.dependencies=f,this.callback=E}}class k{static{this.INSTANCE=new k}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(m,f,E)=>{typeof m!="string"&&(E=f,f=m,m=null),(typeof f!="object"||!Array.isArray(f))&&(E=f,f=null),this.c.push(new A(m,f,E))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(m){if(m.startsWith(window.location.origin)||m.startsWith("vscode-file://vscode-app"))return m;throw new Error(`[trusted_script_src] Invalid script url: ${m}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(m){return m}})))}async load(m){this.g();const f=await(this.a?this.i(m):this.b?this.h(m):this.j(m));if(!f)throw new Error(`Did not receive a define call from script ${m}`);if(Array.isArray(f.dependencies)&&f.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${m}. The dependencies are: ${f.dependencies.join(", ")}`);return typeof f.callback=="function"?f.callback([]):f.callback}h(m){return new Promise((f,E)=>{const S=document.createElement("script");S.setAttribute("async","async"),S.setAttribute("type","text/javascript");const $=()=>{S.removeEventListener("load",l),S.removeEventListener("error",w)},l=p=>{$(),f(this.c.pop())},w=p=>{$(),E(p)};S.addEventListener("load",l),S.addEventListener("error",w),this.f&&(m=this.f.createScriptURL(m)),S.setAttribute("src",m),window.document.getElementsByTagName("head")[0].appendChild(S)})}i(m){return new Promise((f,E)=>{try{this.f&&(m=this.f.createScriptURL(m)),importScripts(m),f(this.c.pop())}catch(S){E(S)}})}async j(m){try{const f=globalThis._VSCODE_NODE_MODULES.fs,E=globalThis._VSCODE_NODE_MODULES.vm,S=globalThis._VSCODE_NODE_MODULES.module,$=N.URI.parse(m).fsPath,l=f.readFileSync($).toString(),w=S.wrap(l.replace(/^#!.*/,""));return new E.Script(w).runInThisContext().apply(),this.c.pop()}catch(f){throw f}}}const h=new Map;let a={};typeof globalThis.require=="object"&&(a=globalThis.require.paths??{});async function v(b,m,f){if(L.$T){f===void 0&&(f=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),a[b]&&(b=a[b]);const E=`${b}/${m}`;if(h.has(E))return h.get(E);let S;if(/^\w[\w\d+.-]*:\/\//.test(E))S=E;else{const p=`${f&&!R.$o?j.$mg:j.$lg}/${E}`;S=j.$pg.asBrowserUri(p).toString(!0)}const $=k.INSTANCE.load(S);return h.set(E,$),$}else return await new Promise((E,S)=>{J([b],E,S)})}e.$iD=v}),define(ie[84],ne([0,1,33,48,28,76,12]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$an=e.$_m=e.$$m=void 0,e.$$m=new class{c(m){return this.a||(this.a=j.$ai.forStrings(),this.a.set("00-50-56",!0),this.a.set("00-0C-29",!0),this.a.set("00-05-69",!0),this.a.set("00-03-FF",!0),this.a.set("00-1C-42",!0),this.a.set("00-16-3E",!0),this.a.set("08-00-27",!0),this.a.set("00:50:56",!0),this.a.set("00:0C:29",!0),this.a.set("00:05:69",!0),this.a.set("00:03:FF",!0),this.a.set("00:1C:42",!0),this.a.set("00:16:3E",!0),this.a.set("08:00:27",!0)),!!this.a.findSubstr(m)}value(){if(this.b===void 0){let m=0,f=0;const E=(0,L.networkInterfaces)();for(const S in E){const $=E[S];if($)for(const{mac:l,internal:w}of $)w||(f+=1,this.c(l.toUpperCase())&&(m+=1))}this.b=f>0?m/f:0}return this.b}};let k;async function h(m){return k||(k=(async()=>await a(m)||R.$rg())()),k}e.$_m=h;async function a(m){try{const f=await new Promise((S,$)=>{J(["crypto"],S,$)}),E=(0,N.$0m)();return f.createHash("sha256").update(E,"utf8").digest("hex")}catch(f){m(f);return}}const v="Software\\Microsoft\\SQMClient";async function b(m){if(A.$i){const f=await new Promise((E,S)=>{J(["@vscode/windows-registry"],E,S)});try{return f.GetStringRegKey("HKEY_LOCAL_MACHINE",v,"MachineId")||""}catch(E){return m(E),""}}return""}e.$an=b}),define(ie[85],ne([0,1,33,16,24]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rl=e.$Ql=void 0;const N=/^\d+$/,A=/^Microsoft.PowerShell_.*/,k=/^Microsoft.PowerShellPreview_.*/;var h;(function(u){u[u.x64=0]="x64",u[u.x86=1]="x86",u[u.ARM=2]="ARM"})(h||(h={}));let a;switch(process.arch){case"ia32":a=1;break;case"arm":case"arm64":a=2;break;default:a=0;break}let v;process.env.PROCESSOR_ARCHITEW6432?v=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?v=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?v=1:v=0;class b{constructor(g,i,r){this.exePath=g,this.displayName=i,this.a=r}async exists(){return this.a===void 0&&(this.a=await R.SymlinkSupport.existsFile(this.exePath)),this.a}}function m({useAlternateBitness:u=!1}={}){return u?a===0?process.env["ProgramFiles(x86)"]||null:v===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function f({useAlternateBitness:u=!1,findPreview:g=!1}={}){const i=m({useAlternateBitness:u});if(!i)return null;const r=j.$jc(i,"PowerShell");if(!await R.SymlinkSupport.existsDirectory(r))return null;let t=-1,n=null;for(const c of await R.Promises.readdir(r)){let I=-1;if(g){const y=c.indexOf("-");if(y<0)continue;const D=c.substring(0,y);if(!N.test(D)||c.substring(y+1)!=="preview")continue;I=parseInt(D,10)}else{if(!N.test(c))continue;I=parseInt(c,10)}if(I<=t)continue;const O=j.$jc(r,c,"pwsh.exe");await R.SymlinkSupport.existsFile(O)&&(n=O,t=I)}if(!n)return null;const s=i.includes("x86")?" (x86)":"",o=g?" Preview":"";return new b(n,`PowerShell${o}${s}`,!0)}async function E({findPreview:u}={}){if(!process.env.LOCALAPPDATA)return null;const g=j.$jc(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await R.SymlinkSupport.existsDirectory(g))return null;const{pwshMsixDirRegex:i,pwshMsixName:r}=u?{pwshMsixDirRegex:k,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:A,pwshMsixName:"PowerShell (Store)"};for(const t of await R.Promises.readdir(g))if(i.test(t)){const n=j.$jc(g,t,"pwsh.exe");return new b(n,r)}return null}function S(){const u=j.$jc(L.homedir(),".dotnet","tools","pwsh.exe");return new b(u,".NET Core PowerShell Global Tool")}function $(){const u=j.$jc(process.env.windir,a===1&&v!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new b(u,"Windows PowerShell",!0)}async function*l(){let u=await f();u&&(yield u),u=await f({useAlternateBitness:!0}),u&&(yield u),u=await E(),u&&(yield u),u=S(),u&&(yield u),u=await f({findPreview:!0}),u&&(yield u),u=await E({findPreview:!0}),u&&(yield u),u=await f({useAlternateBitness:!0,findPreview:!0}),u&&(yield u),u=$(),u&&(yield u)}async function*w(){for await(const u of l())await u.exists()&&(yield u)}e.$Ql=w;async function p(){for await(const u of w())return u;return null}e.$Rl=p}),define(ie[56],ne([0,1,16,12,35,55,3,24]),function(J,e,L,j,R,N,A,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.$Vl=e.$Ul=e.TerminateResponseCode=e.Source=void 0,Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return N.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return N.TerminateResponseCode}});function h(b=R.env){return b.comspec||"cmd.exe"}e.$Ul=h;function a(b){let m=[],f=!1;const E=function(S){if(f){m.push(S);return}(!b.send(S,l=>{if(l&&console.error(l),f=!1,m.length>0){const w=m.slice(0);m=[],w.forEach(p=>E(p))}})||j.$i)&&(f=!0)};return{send:E}}e.$Vl=a;var v;(function(b){async function m(f,E,S){if(L.$ic(f))return f;if(E===void 0&&(E=R.cwd()),L.$mc(f)!=="."||(S===void 0&&A.$Jf(R.env.PATH)&&(S=R.env.PATH.split(L.$tc)),S===void 0||S.length===0))return L.$jc(E,f);async function l(w){if(await k.Promises.exists(w)){let p;try{p=await k.Promises.stat(w)}catch(u){u.message.startsWith("EACCES")&&(p=await k.Promises.lstat(w))}return p?!p.isDirectory():!1}return!1}for(const w of S){let p;if(L.$ic(w)?p=L.$jc(w,f):p=L.$jc(E,w,f),await l(p))return p;let u=p+".com";if(await l(u)||(u=p+".exe",await l(u)))return u}return L.$jc(E,f)}b.findExecutable=m})(v||(e.win32=v={}))}),define(ie[86],ne([0,1,33,12,85,56]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wl=void 0;async function A(b,m){return b===1?j.$i?v():N.$Ul(m):h(b,m)}e.$Wl=A;let k=null;function h(b,m){if(j.$k&&b===2||j.$j&&b===3)return"/bin/bash";if(!k){let f;if(j.$i)f="/bin/bash";else{if(f=m.SHELL,!f)try{f=(0,L.userInfo)().shell}catch{}f||(f="sh"),f==="/bin/false"&&(f="/bin/bash")}k=f}return k}let a=null;async function v(){return a||(a=(await(0,R.$Rl)()).exePath),a}});var me=this&&this.__decorate||function(J,e,L,j){var R=arguments.length,N=R<3?e:j===null?j=Object.getOwnPropertyDescriptor(e,L):j,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(J,e,L,j);else for(var k=J.length-1;k>=0;k--)(A=J[k])&&(N=(R<3?A(N):R>3?A(e,L,N):A(e,L))||N);return R>3&&N&&Object.defineProperty(e,L,N),N};define(ie[57],ne([0,1,19,9,14,20,53,7,6,2,47,30,3]),function(J,e,L,j,R,N,A,k,h,a,v,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ph=e.ProxyChannel=e.$Oh=e.$Nh=e.$Mh=e.$Lh=e.$Kh=e.$Jh=e.RequestInitiator=e.$Ih=e.$Hh=e.$Gh=e.$Fh=e.$Eh=void 0;var f;(function(M){M[M.Promise=100]="Promise",M[M.PromiseCancel=101]="PromiseCancel",M[M.EventListen=102]="EventListen",M[M.EventDispose=103]="EventDispose"})(f||(f={}));function E(M){switch(M){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var S;(function(M){M[M.Initialize=200]="Initialize",M[M.PromiseSuccess=201]="PromiseSuccess",M[M.PromiseError=202]="PromiseError",M[M.PromiseErrorObj=203]="PromiseErrorObj",M[M.EventFire=204]="EventFire"})(S||(S={}));function $(M){switch(M){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var l;(function(M){M[M.Uninitialized=0]="Uninitialized",M[M.Idle=1]="Idle"})(l||(l={}));function w(M){let C=0;for(let V=0;;V+=7){const X=M.read(1);if(C|=(X.buffer[0]&127)<<V,!(X.buffer[0]&128))return C}}const p=t(0);function u(M,C){if(C===0){M.write(p);return}let V=0;for(let Q=C;Q!==0;Q=Q>>>7)V++;const X=R.$ke.alloc(V);for(let Q=0;C!==0;Q++)X.buffer[Q]=C&127,C=C>>>7,C>0&&(X.buffer[Q]|=128);M.write(X)}class g{constructor(C){this.b=C,this.a=0}read(C){const V=this.b.slice(this.a,this.a+C);return this.a+=V.byteLength,V}}e.$Eh=g;class i{constructor(){this.a=[]}get buffer(){return R.$ke.concat(this.a)}write(C){this.a.push(C)}}e.$Fh=i;var r;(function(M){M[M.Undefined=0]="Undefined",M[M.String=1]="String",M[M.Buffer=2]="Buffer",M[M.VSBuffer=3]="VSBuffer",M[M.Array=4]="Array",M[M.Object=5]="Object",M[M.Int=6]="Int"})(r||(r={}));function t(M){const C=R.$ke.alloc(1);return C.writeUInt8(M,0),C}const n={Undefined:t(r.Undefined),String:t(r.String),Buffer:t(r.Buffer),VSBuffer:t(r.VSBuffer),Array:t(r.Array),Object:t(r.Object),Uint:t(r.Int)},s=typeof Buffer<"u";function o(M,C){if(typeof C>"u")M.write(n.Undefined);else if(typeof C=="string"){const V=R.$ke.fromString(C);M.write(n.String),u(M,V.byteLength),M.write(V)}else if(s&&Buffer.isBuffer(C)){const V=R.$ke.wrap(C);M.write(n.Buffer),u(M,V.byteLength),M.write(V)}else if(C instanceof R.$ke)M.write(n.VSBuffer),u(M,C.byteLength),M.write(C);else if(Array.isArray(C)){M.write(n.Array),u(M,C.length);for(const V of C)o(M,V)}else if(typeof C=="number"&&(C|0)===C)M.write(n.Uint),u(M,C);else{const V=R.$ke.fromString(JSON.stringify(C));M.write(n.Object),u(M,V.byteLength),M.write(V)}}e.$Gh=o;function c(M){switch(M.read(1).readUInt8(0)){case r.Undefined:return;case r.String:return M.read(w(M)).toString();case r.Buffer:return M.read(w(M)).buffer;case r.VSBuffer:return M.read(w(M));case r.Array:{const V=w(M),X=[];for(let Q=0;Q<V;Q++)X.push(c(M));return X}case r.Object:return JSON.parse(M.read(w(M)).toString());case r.Int:return w(M)}}e.$Hh=c;class I{constructor(C,V,X=null,Q=1e3){this.h=C,this.j=V,this.k=X,this.l=Q,this.b=new Map,this.d=new Map,this.g=new Map,this.f=this.h.onMessage(K=>this.q(K)),this.m({type:200})}registerChannel(C,V){this.b.set(C,V),setTimeout(()=>this.w(C),0)}m(C){switch(C.type){case 200:{const V=this.o([C.type]);this.k?.logOutgoing(V,0,1,$(C.type));return}case 201:case 202:case 204:case 203:{const V=this.o([C.type,C.id],C.data);this.k?.logOutgoing(V,C.id,1,$(C.type),C.data);return}}}o(C,V=void 0){const X=new i;return o(X,C),o(X,V),this.p(X.buffer)}p(C){try{return this.h.send(C),C.byteLength}catch{return 0}}q(C){const V=new g(C),X=c(V),Q=c(V),K=X[0];switch(K){case 100:return this.k?.logIncoming(C.byteLength,X[1],1,`${E(K)}: ${X[2]}.${X[3]}`,Q),this.s({type:K,id:X[1],channelName:X[2],name:X[3],arg:Q});case 102:return this.k?.logIncoming(C.byteLength,X[1],1,`${E(K)}: ${X[2]}.${X[3]}`,Q),this.t({type:K,id:X[1],channelName:X[2],name:X[3],arg:Q});case 101:return this.k?.logIncoming(C.byteLength,X[1],1,`${E(K)}`),this.u({type:K,id:X[1]});case 103:return this.k?.logIncoming(C.byteLength,X[1],1,`${E(K)}`),this.u({type:K,id:X[1]})}}s(C){const V=this.b.get(C.channelName);if(!V){this.v(C);return}const X=new N.$7d;let Q;try{Q=V.call(this.j,C.name,C.arg,X.token)}catch(F){Q=Promise.reject(F)}const K=C.id;Q.then(F=>{this.m({id:K,data:F,type:201})},F=>{F instanceof Error?this.m({id:K,data:{message:F.message,name:F.name,stack:F.stack?F.stack.split?F.stack.split(`
`):F.stack:void 0},type:202}):this.m({id:K,data:F,type:203})}).finally(()=>{U.dispose(),this.d.delete(C.id)});const U=(0,a.$Rc)(()=>X.cancel());this.d.set(C.id,U)}t(C){const V=this.b.get(C.channelName);if(!V){this.v(C);return}const X=C.id,K=V.listen(this.j,C.name,C.arg)(U=>this.m({id:X,data:U,type:204}));this.d.set(C.id,K)}u(C){const V=this.d.get(C.id);V&&(V.dispose(),this.d.delete(C.id))}v(C){let V=this.g.get(C.channelName);V||(V=[],this.g.set(C.channelName,V));const X=setTimeout(()=>{console.error(`Unknown channel: ${C.channelName}`),C.type===100&&this.m({id:C.id,data:{name:"Unknown channel",message:`Channel name '${C.channelName}' timed out after ${this.l}ms`,stack:void 0},type:202})},this.l);V.push({request:C,timeoutTimer:X})}w(C){const V=this.g.get(C);if(V){for(const X of V)switch(clearTimeout(X.timeoutTimer),X.request.type){case 100:this.s(X.request);break;case 102:this.t(X.request);break}this.g.delete(C)}}dispose(){this.f&&(this.f.dispose(),this.f=null),(0,a.$Oc)(this.d.values()),this.d.clear()}}e.$Ih=I;var O;(function(M){M[M.LocalSide=0]="LocalSide",M[M.OtherSide=1]="OtherSide"})(O||(e.RequestInitiator=O={}));class y{constructor(C,V=null){this.l=C,this.a=!1,this.b=l.Uninitialized,this.d=new Set,this.f=new Map,this.g=0,this.k=new h.$Wd,this.onDidInitialize=this.k.event,this.h=this.l.onMessage(X=>this.s(X)),this.j=V}getChannel(C){const V=this;return{call(X,Q,K){return V.a?Promise.reject(new k.$5):V.m(C,X,Q,K)},listen(X,Q){return V.a?h.Event.None:V.o(C,X,Q)}}}m(C,V,X,Q=N.CancellationToken.None){const K=this.g++,F={id:K,type:100,channelName:C,name:V,arg:X};if(Q.isCancellationRequested)return Promise.reject(new k.$5);let d;return new Promise((z,T)=>{if(Q.isCancellationRequested)return T(new k.$5);const H=()=>{const fe=$e=>{switch($e.type){case 201:this.f.delete(K),z($e.data);break;case 202:{this.f.delete(K);const we=new Error($e.data.message);we.stack=Array.isArray($e.data.stack)?$e.data.stack.join(`
`):$e.data.stack,we.name=$e.data.name,T(we);break}case 203:this.f.delete(K),T($e.data);break}};this.f.set(K,fe),this.p(F)};let G=null;this.b===l.Idle?H():(G=(0,j.$Ug)(fe=>this.u()),G.then(()=>{G=null,H()}));const ee=()=>{G?(G.cancel(),G=null):this.p({id:K,type:101}),T(new k.$5)},ue=Q.onCancellationRequested(ee);d=(0,a.$Qc)((0,a.$Rc)(ee),ue),this.d.add(d)}).finally(()=>{d.dispose(),this.d.delete(d)})}o(C,V,X){const Q=this.g++,U={id:Q,type:102,channelName:C,name:V,arg:X};let F=null;const d=new h.$Wd({onWillAddFirstListener:()=>{F=(0,j.$Ug)(z=>this.u()),F.then(()=>{F=null,this.d.add(d),this.p(U)})},onDidRemoveLastListener:()=>{F?(F.cancel(),F=null):(this.d.delete(d),this.p({id:Q,type:103}))}}),P=z=>d.fire(z.data);return this.f.set(Q,P),d.event}p(C){switch(C.type){case 100:case 102:{const V=this.q([C.type,C.id,C.channelName,C.name],C.arg);this.j?.logOutgoing(V,C.id,0,`${E(C.type)}: ${C.channelName}.${C.name}`,C.arg);return}case 101:case 103:{const V=this.q([C.type,C.id]);this.j?.logOutgoing(V,C.id,0,E(C.type));return}}}q(C,V=void 0){const X=new i;return o(X,C),o(X,V),this.r(X.buffer)}r(C){try{return this.l.send(C),C.byteLength}catch{return 0}}s(C){const V=new g(C),X=c(V),Q=c(V),K=X[0];switch(K){case 200:return this.j?.logIncoming(C.byteLength,0,0,$(K)),this.t({type:X[0]});case 201:case 202:case 204:case 203:return this.j?.logIncoming(C.byteLength,X[1],0,$(K),Q),this.t({type:X[0],id:X[1],data:Q})}}t(C){if(C.type===200){this.b=l.Idle,this.k.fire();return}this.f.get(C.id)?.(C)}get onDidInitializePromise(){return h.Event.toPromise(this.onDidInitialize)}u(){return this.b===l.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.a=!0,this.h&&(this.h.dispose(),this.h=null),(0,a.$Oc)(this.d.values()),this.d.clear()}}e.$Jh=y,me([A.$yh],y.prototype,"onDidInitializePromise",null);class D{get connections(){const C=[];return this.f.forEach(V=>C.push(V)),C}constructor(C){this.a=new Map,this.f=new Set,this.g=new h.$Wd,this.onDidAddConnection=this.g.event,this.h=new h.$Wd,this.onDidRemoveConnection=this.h.event,this.j=new a.$Sc,this.j.add(C(({protocol:V,onDidClientDisconnect:X})=>{const Q=h.Event.once(V.onMessage);this.j.add(Q(K=>{const U=new g(K),F=c(U),d=new I(V,F),P=new y(V);this.a.forEach((T,H)=>d.registerChannel(H,T));const z={channelServer:d,channelClient:P,ctx:F};this.f.add(z),this.g.fire(z),this.j.add(X(()=>{d.dispose(),P.dispose(),this.f.delete(z),this.h.fire(z)}))}))}))}getChannel(C,V){const X=this;return{call(Q,K,U){let F;if((0,m.$Xf)(V)){const P=(0,L.$4b)(X.connections.filter(V));F=P?Promise.resolve(P):h.Event.toPromise(h.Event.filter(X.onDidAddConnection,V))}else F=V.routeCall(X,Q,K);const d=F.then(P=>P.channelClient.getChannel(C));return te(d).call(Q,K,U)},listen(Q,K){if((0,m.$Xf)(V))return X.k(C,V,Q,K);const U=V.routeEvent(X,Q,K).then(F=>F.channelClient.getChannel(C));return te(U).listen(Q,K)}}}k(C,V,X,Q){const K=this;let U;const F=new h.$Wd({onWillAddFirstListener:()=>{U=new a.$Sc;const d=new h.$3d,P=new Map,z=H=>{const ee=H.channelClient.getChannel(C).listen(X,Q),ue=d.add(ee);P.set(H,ue)},T=H=>{const G=P.get(H);G&&(G.dispose(),P.delete(H))};K.connections.filter(V).forEach(z),h.Event.filter(K.onDidAddConnection,V)(z,void 0,U),K.onDidRemoveConnection(T,void 0,U),d.event(F.fire,F,U),U.add(d)},onDidRemoveLastListener:()=>{U?.dispose(),U=void 0}});return F.event}registerChannel(C,V){this.a.set(C,V);for(const X of this.f)X.channelServer.registerChannel(C,V)}dispose(){this.j.dispose();for(const C of this.f)C.channelClient.dispose(),C.channelServer.dispose();this.f.clear(),this.a.clear(),this.g.dispose(),this.h.dispose()}}e.$Kh=D;class W{constructor(C,V,X=null){const Q=new i;o(Q,V),C.send(Q.buffer),this.a=new y(C,X),this.d=new I(C,V,X)}getChannel(C){return this.a.getChannel(C)}registerChannel(C,V){this.d.registerChannel(C,V)}dispose(){this.a.dispose(),this.d.dispose()}}e.$Lh=W;function te(M){return{call(C,V,X){return M.then(Q=>Q.call(C,V,X))},listen(C,V){const X=new h.$6d;return M.then(Q=>X.input=Q.listen(C,V)),X.event}}}e.$Mh=te;function _(M){let C=!1;return{call(V,X,Q){return C?M.call(V,X,Q):(0,j.$8g)(0).then(()=>C=!0).then(()=>M.call(V,X,Q))},listen(V,X){if(C)return M.listen(V,X);const Q=new h.$6d;return(0,j.$8g)(0).then(()=>C=!0).then(()=>Q.input=M.listen(V,X)),Q.event}}}e.$Nh=_;class oe{constructor(C){this.a=C}routeCall(C){return this.b(C)}routeEvent(C){return this.b(C)}async b(C){for(const V of C.connections)if(await Promise.resolve(this.a(V.ctx)))return Promise.resolve(V);return await h.Event.toPromise(C.onDidAddConnection),await this.b(C)}}e.$Oh=oe;var re;(function(M){function C(K,U,F){const d=K,P=F&&F.disableMarshalling,z=new Map;for(const T in d)X(T)&&z.set(T,h.Event.buffer(d[T],!0,void 0,U));return new class{listen(T,H,G){const ee=z.get(H);if(ee)return ee;if(Q(H)){const ue=d[H];if(typeof ue=="function")return ue.call(d,G)}throw new k.$bb(`Event not found: ${H}`)}call(T,H,G){const ee=d[H];if(typeof ee=="function"){if(!P&&Array.isArray(G))for(let fe=0;fe<G.length;fe++)G[fe]=(0,v.$Dh)(G[fe]);let ue=ee.apply(d,G);return ue instanceof Promise||(ue=Promise.resolve(ue)),ue}throw new k.$bb(`Method not found: ${H}`)}}}M.fromService=C;function V(K,U){const F=U&&U.disableMarshalling;return new Proxy({},{get(d,P){if(typeof P=="string")return U?.properties?.has(P)?U.properties.get(P):Q(P)?function(z){return K.listen(P,z)}:X(P)?K.listen(P):async function(...z){let T;U&&!(0,m.$Sf)(U.context)?T=[U.context,...z]:T=z;const H=await K.call(P,T);return F?H:(0,v.$Dh)(H)};throw new k.$bb(`Property not found: ${String(P)}`)}})}M.toService=V;function X(K){return K[0]==="o"&&K[1]==="n"&&b.$_e(K.charCodeAt(2))}function Q(K){return/^onDynamic/.test(K)&&b.$_e(K.charCodeAt(9))}})(re||(e.ProxyChannel=re={}));const he=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function ce(M){if(Array.isArray(M))return M;if(M&&typeof M=="object"&&typeof M.toString=="function"){const C=M.toString();if(C!=="[object Object]")return C}return M}function ae(M){return Array.isArray(M)?M.map(ce):ce(M)}function q(M,C,V,X,Q,K,U){U=ae(U);const F=he[Q],d=F[X%F.length];let P=[`%c[${M}]%c[${String(C).padStart(7," ")}]%c[len: ${String(V).padStart(5," ")}]%c${String(X).padStart(5," ")} - ${K}`,"color: darkgreen","color: grey","color: grey",`color: ${d}`];/\($/.test(K)?(P=P.concat(U),P.push(")")):P.push(U),console.log.apply(console,P)}class Z{constructor(C,V){this.d=C,this.f=V,this.a=0,this.b=0}logOutgoing(C,V,X,Q,K){this.b+=C,q(this.d,this.b,C,V,X,Q,K)}logIncoming(C,V,X,Q,K){this.a+=C,q(this.f,this.a,C,V,X,Q,K)}}e.$Ph=Z}),define(ie[87],ne([0,1,58,9,14,20,82,7,6,2,27,56,55,57]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sq=e.$rq=void 0;class E extends f.$Ih{constructor(l){super({send:w=>{try{process.send?.(w.buffer.toString("base64"))}catch{}},onMessage:h.Event.fromNodeEventEmitter(process,"message",w=>R.$ke.wrap(Buffer.from(w,"base64")))},l),process.once("disconnect",()=>this.dispose())}}e.$rq=E;class S{constructor(l,w){this.i=l,this.j=w,this.c=new Set,this.g=new Map,this.h=new h.$Wd,this.onDidProcessExit=this.h.event;const p=w&&w.timeout?w.timeout:6e4;this.b=new j.$4g(p),this.d=null,this.f=null}getChannel(l){const w=this;return{call(p,u,g){return w.k(l,p,u,g)},listen(p,u){return w.l(l,p,u)}}}k(l,w,p,u=N.CancellationToken.None){if(!this.b)return Promise.reject(new Error("disposed"));if(u.isCancellationRequested)return Promise.reject(k.$6());this.b.cancel();const g=this.n(l),i=(0,j.$Ug)(n=>g.call(w,p,n)),r=u.onCancellationRequested(()=>i.cancel()),t=(0,a.$Rc)(()=>i.cancel());return this.c.add(t),i.finally(()=>{r.dispose(),this.c.delete(t),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}),i}l(l,w,p){if(!this.b)return h.Event.None;this.b.cancel();let u;const g=new h.$Wd({onWillAddFirstListener:()=>{u=this.n(l).listen(w,p)(g.fire,g),this.c.add(u)},onDidRemoveLastListener:()=>{this.c.delete(u),u.dispose(),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}});return g.event}get m(){if(!this.f){const l=this.j&&this.j.args?this.j.args:[],w=Object.create(null);w.env={...(0,v.$wn)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.j&&this.j.env&&(w.env={...w.env,...this.j.env}),this.j&&this.j.freshExecArgv&&(w.execArgv=[]),this.j&&typeof this.j.debug=="number"&&(w.execArgv=["--nolazy","--inspect="+this.j.debug]),this.j&&typeof this.j.debugBrk=="number"&&(w.execArgv=["--nolazy","--inspect-brk="+this.j.debugBrk]),w.execArgv===void 0&&(w.execArgv=process.execArgv.filter(s=>!/^--inspect(-brk)?=/.test(s)).filter(s=>!s.startsWith("--vscode-"))),(0,m.$Tl)(w.env),this.d=(0,L.fork)(this.i,l,w);const p=new h.$Wd;h.Event.fromNodeEventEmitter(this.d,"message",s=>s)(s=>{if((0,A.$nq)(s)){(0,A.log)(s,`IPC Library: ${this.j.serverName}`);return}p.fire(R.$ke.wrap(Buffer.from(s,"base64")))});const g=this.j.useQueue?(0,b.$Vl)(this.d):this.d,i=s=>this.d&&this.d.connected&&g.send(s.buffer.toString("base64")),r=p.event,t={send:i,onMessage:r};this.f=new f.$Jh(t);const n=()=>this.o();process.once("exit",n),this.d.on("error",s=>console.warn('IPC "'+this.j.serverName+'" errored with '+s)),this.d.on("exit",(s,o)=>{process.removeListener("exit",n),this.c.forEach(c=>(0,a.$Oc)(c)),this.c.clear(),s!==0&&o!=="SIGTERM"&&console.warn('IPC "'+this.j.serverName+'" crashed with exit code '+s+" and signal "+o),this.b?.cancel(),this.o(),this.h.fire({code:s,signal:o})})}return this.f}n(l){let w=this.g.get(l);return w||(w=this.m.getChannel(l),this.g.set(l,w)),w}o(){this.f&&(this.d&&(this.d.kill(),this.d=null),this.f=null,this.g.clear())}dispose(){this.h.dispose(),this.b?.cancel(),this.b=void 0,this.o(),this.c.clear()}}e.$sq=S}),define(ie[88],ne([0,1,9,6,2,47,3]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sp=e.$rp=e.StorageState=e.$qp=e.StorageHint=void 0;var k;(function(m){m[m.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",m[m.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(k||(e.StorageHint=k={}));function h(m){const f=m;return f?.changed instanceof Map||f?.deleted instanceof Set}e.$qp=h;var a;(function(m){m[m.None=0]="None",m[m.Initialized=1]="Initialized",m[m.Closed=2]="Closed"})(a||(e.StorageState=a={}));class v extends R.$Tc{static{this.a=100}constructor(f,E=Object.create(null)){super(),this.r=f,this.s=E,this.b=this.B(new j.$Zd),this.onDidChangeStorage=this.b.event,this.c=a.None,this.f=new Map,this.g=this.B(new L.$5g(v.a)),this.h=new Set,this.j=new Map,this.m=void 0,this.n=[],this.t()}t(){this.B(this.r.onDidChangeItemsExternal(f=>this.u(f)))}u(f){this.b.pause();try{f.changed?.forEach((E,S)=>this.w(S,E)),f.deleted?.forEach(E=>this.w(E,void 0))}finally{this.b.resume()}}w(f,E){if(this.c===a.Closed)return;let S=!1;(0,A.$Sf)(E)?S=this.f.delete(f):this.f.get(f)!==E&&(this.f.set(f,E),S=!0),S&&this.b.fire({key:f,external:!0})}get items(){return this.f}get size(){return this.f.size}async init(){this.c===a.None&&(this.c=a.Initialized,this.s.hint!==k.STORAGE_DOES_NOT_EXIST&&(this.f=await this.r.getItems()))}get(f,E){const S=this.f.get(f);return(0,A.$Sf)(S)?E:S}getBoolean(f,E){const S=this.get(f);return(0,A.$Sf)(S)?E:S==="true"}getNumber(f,E){const S=this.get(f);return(0,A.$Sf)(S)?E:parseInt(S,10)}getObject(f,E){const S=this.get(f);return(0,A.$Sf)(S)?E:(0,N.$Ch)(S)}async set(f,E,S=!1){if(this.c===a.Closed)return;if((0,A.$Sf)(E))return this.delete(f,S);const $=(0,A.$Lf)(E)||Array.isArray(E)?(0,N.$Bh)(E):String(E);if(this.f.get(f)!==$)return this.f.set(f,$),this.j.set(f,$),this.h.delete(f),this.b.fire({key:f,external:S}),this.D()}async delete(f,E=!1){if(!(this.c===a.Closed||!this.f.delete(f)))return this.h.has(f)||this.h.add(f),this.j.delete(f),this.b.fire({key:f,external:E}),this.D()}async optimize(){if(this.c!==a.Closed)return await this.flush(0),this.r.optimize()}async close(){return this.m||(this.m=this.y()),this.m}async y(){this.c=a.Closed;try{await this.D(0)}catch{}await this.r.close(()=>this.f)}get z(){return this.j.size>0||this.h.size>0}async C(){if(!this.z)return;const f={insert:this.j,delete:this.h};return this.h=new Set,this.j=new Map,this.r.updateItems(f).finally(()=>{if(!this.z)for(;this.n.length;)this.n.pop()?.()})}async flush(f){if(this.z)return this.D(f)}async D(f){return this.s.hint===k.STORAGE_IN_MEMORY?this.C():this.g.trigger(()=>this.C(),f)}async whenFlushed(){if(this.z)return new Promise(f=>this.n.push(f))}isInMemory(){return this.s.hint===k.STORAGE_IN_MEMORY}}e.$rp=v;class b{constructor(){this.onDidChangeItemsExternal=j.Event.None,this.a=new Map}async getItems(){return this.a}async updateItems(f){f.insert?.forEach((E,S)=>this.a.set(S,E)),f.delete?.forEach(E=>this.a.delete(E))}async optimize(){}async close(){}}e.$sp=b}),define(ie[89],ne([8,5]),function(J,e){return J.create("vs/base/node/zip",e)}),define(ie[49],ne([0,1,90,9,16,3,24,89]),function(J,e,L,j,R,N,A,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qp=e.$Pp=e.zip=e.$Np=e.$Mp=void 0,e.$Mp="end of central directory record signature not found";const h=new RegExp(e.$Mp);class a extends Error{constructor(g,i){let r=i.message;switch(g){case"CorruptZip":r=`Corrupt ZIP: ${r}`;break}super(r),this.type=g,this.cause=i}}e.$Np=a;function v(u){const g=u.externalFileAttributes>>16||33188;return[448,56,7].map(i=>g&i).reduce((i,r)=>i+r,g&61440)}function b(u){if(u instanceof a)return u;let g;return h.test(u.message)&&(g="CorruptZip"),new a(g,u)}function m(u,g,i,r,t,n){const s=R.$mc(g),o=R.$jc(r,s);if(!o.startsWith(r))return Promise.reject(new Error(k.localize(0,null,g)));const c=R.$jc(r,g);let I;return n.onCancellationRequested(()=>{I?.destroy()}),Promise.resolve(A.Promises.mkdir(o,{recursive:!0})).then(()=>new Promise((O,y)=>{if(!n.isCancellationRequested)try{I=(0,L.createWriteStream)(c,{mode:i}),I.once("close",()=>O()),I.once("error",y),u.once("error",y),u.pipe(I)}catch(D){y(D)}}))}function f(u,g,i,r){let t=(0,j.$Ug)(()=>Promise.resolve()),n=0;const s=r.onCancellationRequested(()=>{t.cancel(),u.close()});return new Promise((o,c)=>{const I=new j.$2g,O=y=>{y.isCancellationRequested||(n++,u.readEntry())};u.once("error",c),u.once("close",()=>t.then(()=>{r.isCancellationRequested||u.entryCount===n?o():c(new a("Incomplete",new Error(k.localize(1,null,n,u.entryCount))))},c)),u.readEntry(),u.on("entry",y=>{if(r.isCancellationRequested)return;if(!i.sourcePathRegex.test(y.fileName)){O(r);return}const D=y.fileName.replace(i.sourcePathRegex,"");if(/\/$/.test(D)){const _=R.$jc(g,D);t=(0,j.$Ug)(oe=>A.Promises.mkdir(_,{recursive:!0}).then(()=>O(oe)).then(void 0,c));return}const W=S(u,y),te=v(y);t=(0,j.$Ug)(_=>I.queue(()=>W.then(oe=>m(oe,D,te,g,i,_).then(()=>O(_)))).then(null,c))})}).finally(()=>s.dispose())}async function E(u,g=!1){const{open:i}=await new Promise((r,t)=>{J(["yauzl"],r,t)});return new Promise((r,t)=>{i(u,g?{lazyEntries:!0}:void 0,(n,s)=>{n?t(b(n)):r((0,N.$Uf)(s))})})}function S(u,g){return new Promise((i,r)=>{u.openReadStream(g,(t,n)=>{t?r(b(t)):i((0,N.$Uf)(n))})})}async function $(u,g){const{ZipFile:i}=await new Promise((r,t)=>{J(["yazl"],r,t)});return new Promise((r,t)=>{const n=new i;g.forEach(o=>{o.contents?n.addBuffer(typeof o.contents=="string"?Buffer.from(o.contents,"utf8"):o.contents,o.path):o.localPath&&n.addFile(o.localPath,o.path)}),n.end();const s=(0,L.createWriteStream)(u);n.outputStream.pipe(s),n.outputStream.once("error",t),s.once("error",t),s.once("finish",()=>r(u))})}e.zip=$;function l(u,g,i={},r){const t=new RegExp(i.sourcePath?`^${i.sourcePath}`:"");let n=E(u,!0);return i.overwrite&&(n=n.then(s=>A.Promises.rm(g).then(()=>s))),n.then(s=>f(s,g,{sourcePathRegex:t},r))}e.$Pp=l;function w(u,g){return E(u).then(i=>new Promise((r,t)=>{i.on("entry",n=>{n.fileName===g&&S(i,n).then(s=>r(s),s=>t(s))}),i.once("close",()=>t(new Error(k.localize(2,null,g))))}))}function p(u,g){return w(u,g).then(i=>new Promise((r,t)=>{const n=[];i.once("error",t),i.on("data",s=>n.push(s)),i.on("end",()=>r(Buffer.concat(n)))}))}e.$Qp=p}),define(ie[91],ne([8,5]),function(J,e){return J.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ie[92],ne([8,5]),function(J,e){return J.create("vs/platform/contextkey/common/contextkey",e)}),define(ie[93],ne([8,5]),function(J,e){return J.create("vs/platform/contextkey/common/scanner",e)}),define(ie[94],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/abstractExtensionManagementService",e)}),define(ie[95],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ie[96],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionManagementCLI",e)}),define(ie[97],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionNls",e)}),define(ie[98],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionsScannerService",e)}),define(ie[99],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(ie[100],ne([8,5]),function(J,e){return J.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(ie[101],ne([8,5]),function(J,e){return J.create("vs/platform/extensions/common/extensionValidator",e)}),define(ie[102],ne([8,5]),function(J,e){return J.create("vs/platform/files/common/fileService",e)}),define(ie[103],ne([8,5]),function(J,e){return J.create("vs/platform/files/common/io",e)}),define(ie[104],ne([8,5]),function(J,e){return J.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(ie[105],ne([8,5]),function(J,e){return J.create("vs/platform/languagePacks/common/languagePacks",e)}),define(ie[106],ne([8,5]),function(J,e){return J.create("vs/platform/request/common/request",e)}),define(ie[107],ne([8,5]),function(J,e){return J.create("vs/platform/shell/node/shellEnv",e)}),define(ie[108],ne([8,5]),function(J,e){return J.create("vs/platform/telemetry/common/telemetryService",e)}),define(ie[109],ne([8,5]),function(J,e){return J.create("vs/platform/userDataProfile/common/userDataProfile",e)}),define(ie[110],ne([8,5]),function(J,e){return J.create("vs/platform/workspace/common/workspace",e)}),define(ie[111],ne([0,1,7,93]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2i=e.TokenType=void 0;var R;(function(a){a[a.LParen=0]="LParen",a[a.RParen=1]="RParen",a[a.Neg=2]="Neg",a[a.Eq=3]="Eq",a[a.NotEq=4]="NotEq",a[a.Lt=5]="Lt",a[a.LtEq=6]="LtEq",a[a.Gt=7]="Gt",a[a.GtEq=8]="GtEq",a[a.RegexOp=9]="RegexOp",a[a.RegexStr=10]="RegexStr",a[a.True=11]="True",a[a.False=12]="False",a[a.In=13]="In",a[a.Not=14]="Not",a[a.And=15]="And",a[a.Or=16]="Or",a[a.Str=17]="Str",a[a.QuotedStr=18]="QuotedStr",a[a.Error=19]="Error",a[a.EOF=20]="EOF"})(R||(e.TokenType=R={}));function N(...a){switch(a.length){case 1:return(0,j.localize)(0,null,a[0]);case 2:return(0,j.localize)(1,null,a[0],a[1]);case 3:return(0,j.localize)(2,null,a[0],a[1],a[2]);default:return}}const A=(0,j.localize)(3,null),k=(0,j.localize)(4,null);class h{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,L.$8)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(v=>v.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(v){return this.c=v,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const b=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:b})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const b=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:b})}else this.h(126)?this.k(9):this.l(N("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(N("&&"));break;case 124:this.h(124)?this.k(16):this.l(N("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(v){return this.r()||this.c.charCodeAt(this.e)!==v?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(v){this.f.push({type:v,offset:this.d})}l(v){const b=this.d,m=this.c.substring(this.d,this.e),f={type:19,offset:this.d,lexeme:m};this.g.push({offset:b,lexeme:m,additionalInfo:v}),this.f.push(f)}n(){this.m.lastIndex=this.d;const v=this.m.exec(this.c);if(v){this.e=this.d+v[0].length;const b=this.c.substring(this.d,this.e),m=h.b.get(b);m?this.k(m):this.f.push({type:17,lexeme:b,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(A);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let v=this.e,b=!1,m=!1;for(;;){if(v>=this.c.length){this.e=v,this.l(k);return}const E=this.c.charCodeAt(v);if(b)b=!1;else if(E===47&&!m){v++;break}else E===91?m=!0:E===92?b=!0:E===93&&(m=!1);v++}for(;v<this.c.length&&h.a.has(this.c.charCodeAt(v));)v++;this.e=v;const f=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:f,offset:this.d})}r(){return this.e>=this.c.length}}e.$2i=h}),define(ie[112],ne([0,1,78,53,15,16,35,17,11]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bm=e.$Am=e.$zm=e.$ym=void 0,e.$ym=/^([^.]+\..+)[:=](.+)$/;class a{get appRoot(){return(0,N.$mc)(R.$pg.asFileUri("").fsPath)}get userHome(){return h.URI.file(this.b.homeDir)}get userDataPath(){return this.b.userDataDir}get appSettingsHome(){return h.URI.file((0,N.$jc)(this.userDataPath,"User"))}get tmpDir(){return h.URI.file(this.b.tmpDir)}get cacheHome(){return h.URI.file(this.userDataPath)}get stateResource(){return(0,k.$Ig)(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:R.Schemas.vscodeUserData})}get userDataSyncHome(){return(0,k.$Ig)(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){const f=(0,L.$xm)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,N.$jc)(this.userDataPath,"logs",f)}return h.URI.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return(0,k.$Ig)(h.URI.file((0,N.$jc)(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return(0,k.$Ig)(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return(0,k.$Ig)(this.appSettingsHome,"History")}get keyboardLayoutResource(){return(0,k.$Ig)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const f=A.env.VSCODE_PORTABLE;return f?h.URI.file((0,N.$jc)(f,"argv.json")):(0,k.$Ig)(this.userHome,this.c.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return h.URI.file((0,N.$jc)(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){const f=this.args["builtin-extensions-dir"];return f?(0,N.$kc)(f):(0,N.$hc)((0,N.$jc)(R.$pg.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){const f=this.args["extensions-download-dir"];return f?h.URI.file((0,N.$kc)(f)):h.URI.file((0,N.$jc)(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){const f=this.args["extensions-dir"];if(f)return(0,N.$kc)(f);const E=A.env.VSCODE_EXTENSIONS;if(E)return E;const S=A.env.VSCODE_PORTABLE;return S?(0,N.$jc)(S,"extensions"):(0,k.$Ig)(this.userHome,this.c.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const f=this.args.extensionDevelopmentPath;if(Array.isArray(f))return f.map(E=>/^[^:/?#]+?:\/\//.test(E)?h.URI.parse(E):h.URI.file((0,N.$hc)(E)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(f=>f==="ui"||f==="workspace"||f==="web"?f:"workspace")}get extensionTestsLocationURI(){const f=this.args.extensionTestsPath;if(f)return/^[^:/?#]+?:\/\//.test(f)?h.URI.parse(f):h.URI.file((0,N.$hc)(f))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const f=this.args["disable-extension"];if(f){if(typeof f=="string")return[f];if(Array.isArray(f)&&f.length>0)return f}return!1}get debugExtensionHost(){return v(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!A.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(f=>!e.$ym.test(f))}get extensionLogLevel(){const f=[];for(const E of this.args.log||[]){const S=e.$ym.exec(E);S&&S[1]&&S[2]&&f.push([S[1],S[2]])}return f.length?f:void 0}get serviceMachineIdResource(){return(0,k.$Ig)(h.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){const f=A.env.VSCODE_PORTABLE;return f?h.URI.file((0,N.$jc)(f,"policy.json")):(0,k.$Ig)(this.userHome,this.c.dataFolderName,"policy.json")}}get continueOn(){return this.args.continueOn}set continueOn(f){this.args.continueOn=f}get args(){return this.a}constructor(f,E,S){this.a=f,this.b=E,this.c=S,this.editSessionId=this.args.editSessionId}}e.$zm=a,me([j.$yh],a.prototype,"appRoot",null),me([j.$yh],a.prototype,"userHome",null),me([j.$yh],a.prototype,"userDataPath",null),me([j.$yh],a.prototype,"appSettingsHome",null),me([j.$yh],a.prototype,"tmpDir",null),me([j.$yh],a.prototype,"cacheHome",null),me([j.$yh],a.prototype,"stateResource",null),me([j.$yh],a.prototype,"userRoamingDataHome",null),me([j.$yh],a.prototype,"userDataSyncHome",null),me([j.$yh],a.prototype,"sync",null),me([j.$yh],a.prototype,"machineSettingsResource",null),me([j.$yh],a.prototype,"workspaceStorageHome",null),me([j.$yh],a.prototype,"localHistoryHome",null),me([j.$yh],a.prototype,"keyboardLayoutResource",null),me([j.$yh],a.prototype,"argvResource",null),me([j.$yh],a.prototype,"isExtensionDevelopment",null),me([j.$yh],a.prototype,"untitledWorkspacesHome",null),me([j.$yh],a.prototype,"builtinExtensionsPath",null),me([j.$yh],a.prototype,"extensionsPath",null),me([j.$yh],a.prototype,"extensionDevelopmentLocationURI",null),me([j.$yh],a.prototype,"extensionDevelopmentKind",null),me([j.$yh],a.prototype,"extensionTestsLocationURI",null),me([j.$yh],a.prototype,"debugExtensionHost",null),me([j.$yh],a.prototype,"logLevel",null),me([j.$yh],a.prototype,"extensionLogLevel",null),me([j.$yh],a.prototype,"serviceMachineIdResource",null),me([j.$yh],a.prototype,"disableTelemetry",null),me([j.$yh],a.prototype,"disableWorkspaceTrust",null),me([j.$yh],a.prototype,"useInMemorySecretStorage",null),me([j.$yh],a.prototype,"policyFile",null);function v(m,f){return b(m["inspect-extensions"],m["inspect-brk-extensions"],5870,f,m.debugId,m.extensionEnvironment)}e.$Am=v;function b(m,f,E,S,$,l){const p=Number(f||m)||(S?null:E),u=p?!!f:!1;let g;if(l)try{g=JSON.parse(l)}catch{}return{port:p,break:u,debugId:$,env:g}}e.$Bm=b}),function(){"use strict";function J(e,L,j){function R(A,k){const h=N(A,k),a=[h];return e.isAbsolute(h)||a.unshift(j),e.resolve(...a)}function N(A,k){process.env.VSCODE_DEV&&(k="code-oss-dev");const h=process.env.VSCODE_PORTABLE;if(h)return e.join(h,"user-data");let a=process.env.VSCODE_APPDATA;if(a)return e.join(a,k);const v=A["user-data-dir"];if(v)return v;switch(process.platform){case"win32":if(a=process.env.APPDATA,!a){const b=process.env.USERPROFILE;if(typeof b!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");a=e.join(b,"AppData","Roaming")}break;case"darwin":a=e.join(L.homedir(),"Library","Application Support");break;case"linux":a=process.env.XDG_CONFIG_HOME||e.join(L.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(a,k)}return{getUserDataPath:R}}if(typeof define=="function")define(ie[113],ne([167,33,35]),function(e,L,j){return J(e,L,j.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),L=require("os");module.exports=J(e,L,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(ie[114],ne([0,1,33,112,113]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Em=e.$Dm=e.$Cm=void 0;class N extends j.$zm{constructor(a,v){super(a,{homeDir:(0,L.homedir)(),tmpDir:(0,L.tmpdir)(),userDataDir:(0,R.getUserDataPath)(a,v.nameShort)},v)}}e.$Cm=N;function A(h,a){return(0,j.$Bm)(h["inspect-ptyhost"],h["inspect-brk-ptyhost"],5877,a,h.extensionEnvironment)}e.$Dm=A;function k(h,a){return(0,j.$Bm)(h["inspect-sharedprocess"],h["inspect-brk-sharedprocess"],5879,a,h.extensionEnvironment)}e.$Em=k}),define(ie[115],ne([0,1,3,97]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zp=void 0;function R(A,k,h,a){try{N(A,k,h,a)}catch(v){A.error(v?.message??v)}return k}e.$Zp=R;function N(A,k,h,a){const v=(b,m,f)=>{const E=b[m];if((0,L.$Jf)(E)){const S=E,$=S.length;if($>1&&S[0]==="%"&&S[$-1]==="%"){const l=S.substr(1,$-2);let w=h[l];w===void 0&&a&&(w=a[l]);const p=typeof w=="string"?w:w?.message,u=a?.[l],g=typeof u=="string"?u:u?.message;if(!p){g||A.warn(`[${k.name}]: ${(0,j.localize)(0,null,l)}`);return}if(f&&(m==="title"||m==="category")&&g&&g!==p){const i={value:p,original:g};b[m]=i}else b[m]=p}}else if((0,L.$Lf)(E))for(const S in E)E.hasOwnProperty(S)&&(S==="commands"?v(E,S,!0):v(E,S,f));else if(Array.isArray(E))for(let S=0;S<E.length;S++)v(E,S,f)};for(const b in k)k.hasOwnProperty(b)&&v(k,b)}}),define(ie[116],ne([0,1,49,100]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8p=void 0;function R(N){return(0,L.$Qp)(N,"extension/package.json").then(A=>{try{return JSON.parse(A.toString("utf8"))}catch{throw new Error((0,j.localize)(0,null))}})}e.$8p=R}),define(ie[50],ne([0,1,17,54,101,44]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hp=e.$gp=e.$fp=e.$ep=e.$dp=e.$cp=e.$bp=void 0;const A=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,k=/^-(\d{4})(\d{2})(\d{2})$/;function h(l){return l=l.trim(),l==="*"||A.test(l)}e.$bp=h;function a(l){if(!h(l))return null;if(l=l.trim(),l==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const w=l.match(A);return w?{hasCaret:w[1]==="^",hasGreaterEquals:w[1]===">=",majorBase:w[2]==="x"?0:parseInt(w[2],10),majorMustEqual:w[2]!=="x",minorBase:w[4]==="x"?0:parseInt(w[4],10),minorMustEqual:w[4]!=="x",patchBase:w[6]==="x"?0:parseInt(w[6],10),patchMustEqual:w[6]!=="x",preRelease:w[8]||null}:null}e.$cp=a;function v(l){if(!l)return null;const w=l.majorBase,p=l.majorMustEqual,u=l.minorBase;let g=l.minorMustEqual;const i=l.patchBase;let r=l.patchMustEqual;l.hasCaret&&(w===0||(g=!1),r=!1);let t=0;if(l.preRelease){const n=k.exec(l.preRelease);if(n){const[,s,o,c]=n;t=Date.UTC(Number(s),Number(o)-1,Number(c))}}return{majorBase:w,majorMustEqual:p,minorBase:u,minorMustEqual:g,patchBase:i,patchMustEqual:r,isMinimum:l.hasGreaterEquals,notBefore:t}}e.$dp=v;function b(l,w,p){let u;typeof l=="string"?u=v(a(l)):u=l;let g;w instanceof Date?g=w.getTime():typeof w=="string"&&(g=new Date(w).getTime());let i;if(typeof p=="string"?i=v(a(p)):i=p,!u||!i)return!1;const r=u.majorBase,t=u.minorBase,n=u.patchBase;let s=i.majorBase,o=i.minorBase,c=i.patchBase;const I=i.notBefore;let O=i.majorMustEqual,y=i.minorMustEqual,D=i.patchMustEqual;return i.isMinimum?r>s?!0:r<s?!1:t>o?!0:t<o||g&&g<I?!1:n>=c:(r===1&&s===0&&(!O||!y||!D)&&(s=1,o=0,c=0,O=!0,y=!1,D=!1),r<s?!1:r>s?!O:t<o?!1:t>o?!y:n<c?!1:n>c?!D:!(g&&g<I))}e.$ep=b;function m(l,w,p,u,g){const i=[];if(typeof u.publisher<"u"&&typeof u.publisher!="string")return i.push([j.default.Error,R.localize(0,null)]),i;if(typeof u.name!="string")return i.push([j.default.Error,R.localize(1,null,"name")]),i;if(typeof u.version!="string")return i.push([j.default.Error,R.localize(2,null,"version")]),i;if(!u.engines)return i.push([j.default.Error,R.localize(3,null,"engines")]),i;if(typeof u.engines.vscode!="string")return i.push([j.default.Error,R.localize(4,null,"engines.vscode")]),i;if(typeof u.extensionDependencies<"u"&&!$(u.extensionDependencies))return i.push([j.default.Error,R.localize(5,null,"extensionDependencies")]),i;if(typeof u.activationEvents<"u"){if(!$(u.activationEvents))return i.push([j.default.Error,R.localize(6,null,"activationEvents")]),i;if(typeof u.main>"u"&&typeof u.browser>"u")return i.push([j.default.Error,R.localize(7,null,"activationEvents","main","browser")]),i}if(typeof u.extensionKind<"u"&&typeof u.main>"u"&&i.push([j.default.Warning,R.localize(8,null,"extensionKind")]),typeof u.main<"u"){if(typeof u.main!="string")return i.push([j.default.Error,R.localize(9,null,"main")]),i;{const n=(0,L.$Ig)(p,u.main);(0,L.$Cg)(n,p)||i.push([j.default.Warning,R.localize(10,null,n.path,p.path)])}}if(typeof u.browser<"u"){if(typeof u.browser!="string")return i.push([j.default.Error,R.localize(11,null,"browser")]),i;{const n=(0,L.$Ig)(p,u.browser);(0,L.$Cg)(n,p)||i.push([j.default.Warning,R.localize(12,null,n.path,p.path)])}}if(!N.valid(u.version))return i.push([j.default.Error,R.localize(13,null)]),i;const r=[];if(!f(l,w,u,g,r))for(const n of r)i.push([j.default.Error,n]);return i}e.$fp=m;function f(l,w,p,u,g){return u||typeof p.main>"u"&&typeof p.browser>"u"?!0:S(l,w,p.engines.vscode,g)}e.$gp=f;function E(l,w,p){return l==="*"||S(w,p,l)}e.$hp=E;function S(l,w,p,u=[]){const g=v(a(p));if(!g)return u.push(R.localize(14,null,p)),!1;if(g.majorBase===0){if(!g.majorMustEqual||!g.minorMustEqual)return u.push(R.localize(15,null,p)),!1}else if(!g.majorMustEqual)return u.push(R.localize(16,null,p)),!1;return b(l,w,g)?!0:(u.push(R.localize(17,null,l,p)),!1)}function $(l){if(!Array.isArray(l))return!1;for(let w=0,p=l.length;w<p;w++)if(typeof l[w]!="string")return!1;return!0}}),define(ie[117],ne([0,1,14,28]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bp=void 0;async function R(N,A,k){let h=k&&k.get("storage.serviceMachineId",-1)||null;if(h)return h;try{const v=(await A.readFile(N.serviceMachineIdResource)).value.toString();h=(0,j.$qg)(v)?v:null}catch{h=null}if(!h){h=(0,j.$rg)();try{await A.writeFile(N.serviceMachineIdResource,L.$ke.fromString(h))}catch{}}return k?.store("storage.serviceMachineId",h,-1,1),h}e.$Bp=R}),define(ie[51],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4h=void 0;class L{constructor(R,N=[],A=!1){this.ctor=R,this.staticArguments=N,this.supportsDelayedInstantiation=A}}e.$4h=L}),define(ie[118],ne([0,1,51]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1r=e.$Zr=e.InstantiationType=void 0;const j=[];var R;(function(k){k[k.Eager=0]="Eager",k[k.Delayed=1]="Delayed"})(R||(e.InstantiationType=R={}));function N(k,h,a){h instanceof L.$4h||(h=new L.$4h(h,[],!!a)),j.push([k,h])}e.$Zr=N;function A(){return j}e.$1r=A}),define(ie[119],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Eq=e.$Dq=void 0;class L{constructor(N,A){this.key=N,this.data=A,this.incoming=new Map,this.outgoing=new Map}}e.$Dq=L;class j{constructor(N){this.b=N,this.a=new Map}roots(){const N=[];for(const A of this.a.values())A.outgoing.size===0&&N.push(A);return N}insertEdge(N,A){const k=this.lookupOrInsertNode(N),h=this.lookupOrInsertNode(A);k.outgoing.set(h.key,h),h.incoming.set(k.key,k)}removeNode(N){const A=this.b(N);this.a.delete(A);for(const k of this.a.values())k.outgoing.delete(A),k.incoming.delete(A)}lookupOrInsertNode(N){const A=this.b(N);let k=this.a.get(A);return k||(k=new L(A,N),this.a.set(A,k)),k}lookup(N){return this.a.get(this.b(N))}isEmpty(){return this.a.size===0}toString(){const N=[];for(const[A,k]of this.a)N.push(`${A}
	(-> incoming)[${[...k.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...k.outgoing.keys()].join(",")}]
`);return N.join(`
`)}findCycleSlow(){for(const[N,A]of this.a){const k=new Set([N]),h=this.c(A,k);if(h)return h}}c(N,A){for(const[k,h]of N.outgoing){if(A.has(k))return[...A,k].join(" -> ");A.add(k);const a=this.c(h,A);if(a)return a;A.delete(k)}}}e.$Eq=j}),define(ie[29],ne([0,1,3,11,10]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ki=e.$Ji=e.$Ii=e.$Hi=e.$Gi=e.$Fi=e.$Ei=e.$Di=e.ConfigurationTarget=e.$Ci=e.$Bi=e.$Ai=void 0,e.$Ai=(0,R.$7h)("configurationService");function N(l){return l&&typeof l=="object"&&(!l.overrideIdentifier||typeof l.overrideIdentifier=="string")&&(!l.resource||l.resource instanceof j.URI)}e.$Bi=N;function A(l){return l&&typeof l=="object"&&(!l.overrideIdentifiers||Array.isArray(l.overrideIdentifiers))&&!l.overrideIdentifier&&(!l.resource||l.resource instanceof j.URI)}e.$Ci=A;var k;(function(l){l[l.APPLICATION=1]="APPLICATION",l[l.USER=2]="USER",l[l.USER_LOCAL=3]="USER_LOCAL",l[l.USER_REMOTE=4]="USER_REMOTE",l[l.WORKSPACE=5]="WORKSPACE",l[l.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",l[l.DEFAULT=7]="DEFAULT",l[l.MEMORY=8]="MEMORY"})(k||(e.ConfigurationTarget=k={}));function h(l){switch(l){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}e.$Di=h;function a(l){return l.applicationValue!==void 0||l.userValue!==void 0||l.userLocalValue!==void 0||l.userRemoteValue!==void 0||l.workspaceValue!==void 0||l.workspaceFolderValue!==void 0}e.$Ei=a;function v(l,w){const p=Object.create(null);for(const u in l)b(p,u,l[u],w);return p}e.$Fi=v;function b(l,w,p,u){const g=w.split("."),i=g.pop();let r=l;for(let t=0;t<g.length;t++){const n=g[t];let s=r[n];switch(typeof s){case"undefined":s=r[n]=Object.create(null);break;case"object":break;default:u(`Ignoring ${w} as ${g.slice(0,t+1).join(".")} is ${JSON.stringify(s)}`);return}r=s}if(typeof r=="object"&&r!==null)try{r[i]=p}catch{u(`Ignoring ${w} as ${g.join(".")} is ${JSON.stringify(r)}`)}else u(`Ignoring ${w} as ${g.join(".")} is ${JSON.stringify(r)}`)}e.$Gi=b;function m(l,w){const p=w.split(".");f(l,p)}e.$Hi=m;function f(l,w){const p=w.shift();if(w.length===0){delete l[p];return}if(Object.keys(l).indexOf(p)!==-1){const u=l[p];typeof u=="object"&&!Array.isArray(u)&&(f(u,w),Object.keys(u).length===0&&delete l[p])}}function E(l,w,p){function u(r,t){let n=r;for(const s of t){if(typeof n!="object"||n===null)return;n=n[s]}return n}const g=w.split("."),i=u(l,g);return typeof i>"u"?p:i}e.$Ii=E;function S(l,w,p){Object.keys(w).forEach(u=>{u!=="__proto__"&&(u in l?L.$Lf(l[u])&&L.$Lf(w[u])?S(l[u],w[u],p):p&&(l[u]=w[u]):l[u]=w[u])})}e.$Ji=S;function $(l){return l.replace(/[\[\]]/g,"")}e.$Ki=$}),define(ie[120],ne([0,1,12,30,111,10,92,7]),function(J,e,L,j,R,N,A,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=e.$7i=e.$6i=e.$5i=e.$4i=e.ContextKeyExprType=e.$3i=void 0;const h=new Map;h.set("false",!1),h.set("true",!0),h.set("isMac",L.$j),h.set("isLinux",L.$k),h.set("isWindows",L.$i),h.set("isWeb",L.$o),h.set("isMacNative",L.$j&&!L.$o),h.set("isEdge",L.$H),h.set("isFirefox",L.$F),h.set("isChrome",L.$E),h.set("isSafari",L.$G);function a(F,d){if(h.get(F)!==void 0)throw(0,k.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");h.set(F,d)}e.$3i=a;const v=Object.prototype.hasOwnProperty;var b;(function(F){F[F.False=0]="False",F[F.True=1]="True",F[F.Defined=2]="Defined",F[F.Not=3]="Not",F[F.Equals=4]="Equals",F[F.NotEquals=5]="NotEquals",F[F.And=6]="And",F[F.Regex=7]="Regex",F[F.NotRegex=8]="NotRegex",F[F.Or=9]="Or",F[F.In=10]="In",F[F.NotIn=11]="NotIn",F[F.Greater=12]="Greater",F[F.GreaterEquals=13]="GreaterEquals",F[F.Smaller=14]="Smaller",F[F.SmallerEquals=15]="SmallerEquals"})(b||(e.ContextKeyExprType=b={}));const m={regexParsingWithErrorRecovery:!0},f=(0,A.localize)(0,null),E=(0,A.localize)(1,null),S=(0,A.localize)(2,null),$=(0,A.localize)(3,null),l=(0,A.localize)(4,null),w=(0,A.localize)(5,null),p=(0,A.localize)(6,null),u=(0,A.localize)(7,null);class g{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(d=m){this.k=d,this.d=new R.$2i,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(d){if(d===""){this.h.push({message:f,offset:0,lexeme:"",additionalInfo:E});return}this.f=this.d.reset(d).scan(),this.g=0,this.h=[];try{const P=this.l();if(!this.E()){const z=this.D(),T=z.type===17?w:void 0;throw this.h.push({message:l,offset:z.offset,lexeme:R.$2i.getLexeme(z),additionalInfo:T}),g.c}return P}catch(P){if(P!==g.c)throw P;return}}l(){return this.m()}m(){const d=[this.o()];for(;this.y(16);){const P=this.o();d.push(P)}return d.length===1?d[0]:i.or(...d)}o(){const d=[this.s()];for(;this.y(15);){const P=this.s();d.push(P)}return d.length===1?d[0]:i.and(...d)}s(){if(this.y(2)){const d=this.D();switch(d.type){case 11:return this.z(),s.INSTANCE;case 12:return this.z(),o.INSTANCE;case 0:{this.z();const P=this.l();return this.A(1,$),P?.negate()}case 17:return this.z(),W.create(d.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",d)}}return this.t()}t(){const d=this.D();switch(d.type){case 11:return this.z(),i.true();case 12:return this.z(),i.false();case 0:{this.z();const P=this.l();return this.A(1,$),P}case 17:{const P=d.lexeme;if(this.z(),this.y(9)){const T=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),T.type!==10)throw this.B("REGEX",T);const H=T.lexeme,G=H.lastIndexOf("/"),ee=G===H.length-1?void 0:this.w(H.substring(G+1));let ue;try{ue=new RegExp(H.substring(1,G),ee)}catch{throw this.B("REGEX",T)}return ce.create(P,ue)}switch(T.type){case 10:case 19:{const H=[T.lexeme];this.z();let G=this.D(),ee=0;for(let de=0;de<T.lexeme.length;de++)T.lexeme.charCodeAt(de)===40?ee++:T.lexeme.charCodeAt(de)===41&&ee--;for(;!this.E()&&G.type!==15&&G.type!==16;){switch(G.type){case 0:ee++;break;case 1:ee--;break;case 10:case 18:for(let de=0;de<G.lexeme.length;de++)G.lexeme.charCodeAt(de)===40?ee++:T.lexeme.charCodeAt(de)===41&&ee--}if(ee<0)break;H.push(R.$2i.getLexeme(G)),this.z(),G=this.D()}const ue=H.join(""),fe=ue.lastIndexOf("/"),$e=fe===ue.length-1?void 0:this.w(ue.substring(fe+1));let we;try{we=new RegExp(ue.substring(1,fe),$e)}catch{throw this.B("REGEX",T)}return i.regex(P,we)}case 18:{const H=T.lexeme;this.z();let G=null;if(!(0,j.$Ke)(H)){const ee=H.indexOf("/"),ue=H.lastIndexOf("/");if(ee!==ue&&ee>=0){const fe=H.slice(ee+1,ue),$e=H[ue+1]==="i"?"i":"";try{G=new RegExp(fe,$e)}catch{throw this.B("REGEX",T)}}}if(G===null)throw this.B("REGEX",T);return ce.create(P,G)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,S);const T=this.u();return i.notIn(P,T)}switch(this.D().type){case 3:{this.z();const T=this.u();if(this.x().type===18)return i.equals(P,T);switch(T){case"true":return i.has(P);case"false":return i.not(P);default:return i.equals(P,T)}}case 4:{this.z();const T=this.u();if(this.x().type===18)return i.notEquals(P,T);switch(T){case"true":return i.not(P);case"false":return i.has(P);default:return i.notEquals(P,T)}}case 5:return this.z(),re.create(P,this.u());case 6:return this.z(),he.create(P,this.u());case 7:return this.z(),_.create(P,this.u());case 8:return this.z(),oe.create(P,this.u());case 13:return this.z(),i.in(P,this.u());default:return i.has(P)}}case 20:throw this.h.push({message:p,offset:d.offset,lexeme:"",additionalInfo:u}),g.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const d=this.D();switch(d.type){case 17:case 18:return this.z(),d.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(d){return d.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(d){return this.C(d)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(d,P){if(this.C(d))return this.z();throw this.B(P,this.D())}B(d,P,z){const T=(0,A.localize)(8,null,d,R.$2i.getLexeme(P)),H=P.offset,G=R.$2i.getLexeme(P);return this.h.push({message:T,offset:H,lexeme:G,additionalInfo:z}),g.c}C(d){return this.D().type===d}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$4i=g;class i{static false(){return s.INSTANCE}static true(){return o.INSTANCE}static has(d){return c.create(d)}static equals(d,P){return I.create(d,P)}static notEquals(d,P){return D.create(d,P)}static regex(d,P){return ce.create(d,P)}static in(d,P){return O.create(d,P)}static notIn(d,P){return y.create(d,P)}static not(d){return W.create(d)}static and(...d){return Z.create(d,null,!0)}static or(...d){return M.create(d,null,!0)}static greater(d,P){return _.create(d,P)}static greaterEquals(d,P){return oe.create(d,P)}static smaller(d,P){return re.create(d,P)}static smallerEquals(d,P){return he.create(d,P)}static{this.c=new g({regexParsingWithErrorRecovery:!1})}static deserialize(d){return d==null?void 0:this.c.parse(d)}}e.$5i=i;function r(F){const d=new g({regexParsingWithErrorRecovery:!1});return F.map(P=>(d.parse(P),d.lexingErrors.length>0?d.lexingErrors.map(z=>({errorMessage:z.additionalInfo?(0,A.localize)(9,null,z.additionalInfo):(0,A.localize)(10,null),offset:z.offset,length:z.lexeme.length})):d.parsingErrors.length>0?d.parsingErrors.map(z=>({errorMessage:z.additionalInfo?`${z.message}. ${z.additionalInfo}`:z.message,offset:z.offset,length:z.lexeme.length})):[]))}e.$6i=r;function t(F,d){const P=F?F.substituteConstants():void 0,z=d?d.substituteConstants():void 0;return!P&&!z?!0:!P||!z?!1:P.equals(z)}e.$7i=t;function n(F,d){return F.cmp(d)}class s{static{this.INSTANCE=new s}constructor(){this.type=0}cmp(d){return this.type-d.type}equals(d){return d.type===this.type}substituteConstants(){return this}evaluate(d){return!1}serialize(){return"false"}keys(){return[]}map(d){return this}negate(){return o.INSTANCE}}e.$8i=s;class o{static{this.INSTANCE=new o}constructor(){this.type=1}cmp(d){return this.type-d.type}equals(d){return d.type===this.type}substituteConstants(){return this}evaluate(d){return!0}serialize(){return"true"}keys(){return[]}map(d){return this}negate(){return s.INSTANCE}}e.$9i=o;class c{static create(d,P=null){const z=h.get(d);return typeof z=="boolean"?z?o.INSTANCE:s.INSTANCE:new c(d,P)}constructor(d,P){this.key=d,this.c=P,this.type=2}cmp(d){return d.type!==this.type?this.type-d.type:V(this.key,d.key)}equals(d){return d.type===this.type?this.key===d.key:!1}substituteConstants(){const d=h.get(this.key);return typeof d=="boolean"?d?o.INSTANCE:s.INSTANCE:this}evaluate(d){return!!d.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(d){return d.mapDefined(this.key)}negate(){return this.c||(this.c=W.create(this.key,this)),this.c}}e.$0i=c;class I{static create(d,P,z=null){if(typeof P=="boolean")return P?c.create(d,z):W.create(d,z);const T=h.get(d);return typeof T=="boolean"?P===(T?"true":"false")?o.INSTANCE:s.INSTANCE:new I(d,P,z)}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=4}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){const d=h.get(this.c);if(typeof d=="boolean"){const P=d?"true":"false";return this.d===P?o.INSTANCE:s.INSTANCE}return this}evaluate(d){return d.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(d){return d.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=D.create(this.c,this.d,this)),this.f}}e.$$i=I;class O{static create(d,P){return new O(d,P)}constructor(d,P){this.d=d,this.f=P,this.type=10,this.c=null}cmp(d){return d.type!==this.type?this.type-d.type:X(this.d,this.f,d.d,d.f)}equals(d){return d.type===this.type?this.d===d.d&&this.f===d.f:!1}substituteConstants(){return this}evaluate(d){const P=d.getValue(this.f),z=d.getValue(this.d);return Array.isArray(P)?P.includes(z):typeof z=="string"&&typeof P=="object"&&P!==null?v.call(P,z):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(d){return d.mapIn(this.d,this.f)}negate(){return this.c||(this.c=y.create(this.d,this.f)),this.c}}e.$_i=O;class y{static create(d,P){return new y(d,P)}constructor(d,P){this.d=d,this.f=P,this.type=11,this.c=O.create(d,P)}cmp(d){return d.type!==this.type?this.type-d.type:this.c.cmp(d.c)}equals(d){return d.type===this.type?this.c.equals(d.c):!1}substituteConstants(){return this}evaluate(d){return!this.c.evaluate(d)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(d){return d.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$aj=y;class D{static create(d,P,z=null){if(typeof P=="boolean")return P?W.create(d,z):c.create(d,z);const T=h.get(d);return typeof T=="boolean"?P===(T?"true":"false")?s.INSTANCE:o.INSTANCE:new D(d,P,z)}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=5}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){const d=h.get(this.c);if(typeof d=="boolean"){const P=d?"true":"false";return this.d===P?s.INSTANCE:o.INSTANCE}return this}evaluate(d){return d.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(d){return d.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=I.create(this.c,this.d,this)),this.f}}e.$bj=D;class W{static create(d,P=null){const z=h.get(d);return typeof z=="boolean"?z?s.INSTANCE:o.INSTANCE:new W(d,P)}constructor(d,P){this.c=d,this.d=P,this.type=3}cmp(d){return d.type!==this.type?this.type-d.type:V(this.c,d.c)}equals(d){return d.type===this.type?this.c===d.c:!1}substituteConstants(){const d=h.get(this.c);return typeof d=="boolean"?d?s.INSTANCE:o.INSTANCE:this}evaluate(d){return!d.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(d){return d.mapNot(this.c)}negate(){return this.d||(this.d=c.create(this.c,this)),this.d}}e.$cj=W;function te(F,d){if(typeof F=="string"){const P=parseFloat(F);isNaN(P)||(F=P)}return typeof F=="string"||typeof F=="number"?d(F):s.INSTANCE}class _{static create(d,P,z=null){return te(P,T=>new _(d,T,z))}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=12}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){return this}evaluate(d){return typeof this.d=="string"?!1:parseFloat(d.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(d){return d.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=he.create(this.c,this.d,this)),this.f}}e.$dj=_;class oe{static create(d,P,z=null){return te(P,T=>new oe(d,T,z))}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=13}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){return this}evaluate(d){return typeof this.d=="string"?!1:parseFloat(d.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(d){return d.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$ej=oe;class re{static create(d,P,z=null){return te(P,T=>new re(d,T,z))}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=14}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){return this}evaluate(d){return typeof this.d=="string"?!1:parseFloat(d.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(d){return d.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=oe.create(this.c,this.d,this)),this.f}}e.$fj=re;class he{static create(d,P,z=null){return te(P,T=>new he(d,T,z))}constructor(d,P,z){this.c=d,this.d=P,this.f=z,this.type=15}cmp(d){return d.type!==this.type?this.type-d.type:X(this.c,this.d,d.c,d.d)}equals(d){return d.type===this.type?this.c===d.c&&this.d===d.d:!1}substituteConstants(){return this}evaluate(d){return typeof this.d=="string"?!1:parseFloat(d.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(d){return d.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}e.$gj=he;class ce{static create(d,P){return new ce(d,P)}constructor(d,P){this.d=d,this.f=P,this.type=7,this.c=null}cmp(d){if(d.type!==this.type)return this.type-d.type;if(this.d<d.d)return-1;if(this.d>d.d)return 1;const P=this.f?this.f.source:"",z=d.f?d.f.source:"";return P<z?-1:P>z?1:0}equals(d){if(d.type===this.type){const P=this.f?this.f.source:"",z=d.f?d.f.source:"";return this.d===d.d&&P===z}return!1}substituteConstants(){return this}evaluate(d){const P=d.getValue(this.d);return this.f?this.f.test(P):!1}serialize(){const d=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${d}`}keys(){return[this.d]}map(d){return d.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=ae.create(this)),this.c}}e.$hj=ce;class ae{static create(d){return new ae(d)}constructor(d){this.c=d,this.type=8}cmp(d){return d.type!==this.type?this.type-d.type:this.c.cmp(d.c)}equals(d){return d.type===this.type?this.c.equals(d.c):!1}substituteConstants(){return this}evaluate(d){return!this.c.evaluate(d)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(d){return new ae(this.c.map(d))}negate(){return this.c}}e.$ij=ae;function q(F){let d=null;for(let P=0,z=F.length;P<z;P++){const T=F[P].substituteConstants();if(F[P]!==T&&d===null){d=[];for(let H=0;H<P;H++)d[H]=F[H]}d!==null&&(d[P]=T)}return d===null?F:d}class Z{static create(d,P,z){return Z.d(d,P,z)}constructor(d,P){this.expr=d,this.c=P,this.type=6}cmp(d){if(d.type!==this.type)return this.type-d.type;if(this.expr.length<d.expr.length)return-1;if(this.expr.length>d.expr.length)return 1;for(let P=0,z=this.expr.length;P<z;P++){const T=n(this.expr[P],d.expr[P]);if(T!==0)return T}return 0}equals(d){if(d.type===this.type){if(this.expr.length!==d.expr.length)return!1;for(let P=0,z=this.expr.length;P<z;P++)if(!this.expr[P].equals(d.expr[P]))return!1;return!0}return!1}substituteConstants(){const d=q(this.expr);return d===this.expr?this:Z.create(d,this.c,!1)}evaluate(d){for(let P=0,z=this.expr.length;P<z;P++)if(!this.expr[P].evaluate(d))return!1;return!0}static d(d,P,z){const T=[];let H=!1;for(const G of d)if(G){if(G.type===1){H=!0;continue}if(G.type===0)return s.INSTANCE;if(G.type===6){T.push(...G.expr);continue}T.push(G)}if(T.length===0&&H)return o.INSTANCE;if(T.length!==0){if(T.length===1)return T[0];T.sort(n);for(let G=1;G<T.length;G++)T[G-1].equals(T[G])&&(T.splice(G,1),G--);if(T.length===1)return T[0];for(;T.length>1;){const G=T[T.length-1];if(G.type!==9)break;T.pop();const ee=T.pop(),ue=T.length===0,fe=M.create(G.expr.map($e=>Z.create([$e,ee],null,z)),null,ue);fe&&(T.push(fe),T.sort(n))}if(T.length===1)return T[0];if(z){for(let G=0;G<T.length;G++)for(let ee=G+1;ee<T.length;ee++)if(T[G].negate().equals(T[ee]))return s.INSTANCE;if(T.length===1)return T[0]}return new Z(T,P)}}serialize(){return this.expr.map(d=>d.serialize()).join(" && ")}keys(){const d=[];for(const P of this.expr)d.push(...P.keys());return d}map(d){return new Z(this.expr.map(P=>P.map(d)),null)}negate(){if(!this.c){const d=[];for(const P of this.expr)d.push(P.negate());this.c=M.create(d,this,!0)}return this.c}}e.$jj=Z;class M{static create(d,P,z){return M.d(d,P,z)}constructor(d,P){this.expr=d,this.c=P,this.type=9}cmp(d){if(d.type!==this.type)return this.type-d.type;if(this.expr.length<d.expr.length)return-1;if(this.expr.length>d.expr.length)return 1;for(let P=0,z=this.expr.length;P<z;P++){const T=n(this.expr[P],d.expr[P]);if(T!==0)return T}return 0}equals(d){if(d.type===this.type){if(this.expr.length!==d.expr.length)return!1;for(let P=0,z=this.expr.length;P<z;P++)if(!this.expr[P].equals(d.expr[P]))return!1;return!0}return!1}substituteConstants(){const d=q(this.expr);return d===this.expr?this:M.create(d,this.c,!1)}evaluate(d){for(let P=0,z=this.expr.length;P<z;P++)if(this.expr[P].evaluate(d))return!0;return!1}static d(d,P,z){let T=[],H=!1;if(d){for(let G=0,ee=d.length;G<ee;G++){const ue=d[G];if(ue){if(ue.type===0){H=!0;continue}if(ue.type===1)return o.INSTANCE;if(ue.type===9){T=T.concat(ue.expr);continue}T.push(ue)}}if(T.length===0&&H)return s.INSTANCE;T.sort(n)}if(T.length!==0){if(T.length===1)return T[0];for(let G=1;G<T.length;G++)T[G-1].equals(T[G])&&(T.splice(G,1),G--);if(T.length===1)return T[0];if(z){for(let G=0;G<T.length;G++)for(let ee=G+1;ee<T.length;ee++)if(T[G].negate().equals(T[ee]))return o.INSTANCE;if(T.length===1)return T[0]}return new M(T,P)}}serialize(){return this.expr.map(d=>d.serialize()).join(" || ")}keys(){const d=[];for(const P of this.expr)d.push(...P.keys());return d}map(d){return new M(this.expr.map(P=>P.map(d)),null)}negate(){if(!this.c){const d=[];for(const P of this.expr)d.push(P.negate());for(;d.length>1;){const P=d.shift(),z=d.shift(),T=[];for(const H of U(P))for(const G of U(z))T.push(Z.create([H,G],null,!1));d.unshift(M.create(T,null,!1))}this.c=M.create(d,this,!0)}return this.c}}e.$kj=M;class C extends c{static{this.d=[]}static all(){return C.d.values()}constructor(d,P,z){super(d,null),this.f=P,typeof z=="object"?C.d.push({...z,key:d}):z!==!0&&C.d.push({key:d,description:z,type:P!=null?typeof P:void 0})}bindTo(d){return d.createKey(this.key,this.f)}getValue(d){return d.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(d){return I.create(this.key,d)}notEqualsTo(d){return D.create(this.key,d)}}e.$lj=C,e.$mj=(0,N.$7h)("contextKeyService");function V(F,d){return F<d?-1:F>d?1:0}function X(F,d,P,z){return F<P?-1:F>P?1:d<z?-1:d>z?1:0}function Q(F,d){if(F.type===0||d.type===1)return!0;if(F.type===9)return d.type===9?K(F.expr,d.expr):!1;if(d.type===9){for(const P of d.expr)if(Q(F,P))return!0;return!1}if(F.type===6){if(d.type===6)return K(d.expr,F.expr);for(const P of F.expr)if(Q(P,d))return!0;return!1}return F.equals(d)}e.$nj=Q;function K(F,d){let P=0,z=0;for(;P<F.length&&z<d.length;){const T=F[P].cmp(d[z]);if(T<0)return!1;T===0&&P++,z++}return P===F.length}function U(F){return F.type===9?F.expr:[F]}}),define(ie[59],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eo=void 0,e.$eo=(0,L.$7h)("downloadService")}),define(ie[18],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ci=e.$bi=void 0,e.$bi=(0,L.$7h)("environmentService"),e.$ci=(0,L.$8h)(e.$bi)}),define(ie[21],ne([0,1,95,10]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jo=e.$Io=e.$Ho=e.$Go=e.$Fo=e.$Eo=e.$Do=e.$Co=e.$Bo=e.ExtensionGalleryErrorCode=e.$Ao=e.ExtensionSignaturetErrorCode=e.ExtensionManagementErrorCode=e.$zo=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.$yo=e.$xo=e.$wo=e.$vo=e.$uo=e.$to=e.$so=e.$ro=e.$qo=e.$po=e.$oo=e.$no=void 0,e.$no="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.$oo=new RegExp(e.$no),e.$po="__web_extension",e.$qo="skipWalkthrough",e.$ro="extensionsSync",e.$so="dependecyOrPackExtensionInstall";function R(p){switch(p){case"win32-x64":return"Windows 64 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.$to=R;function N(p){switch(p){case"win32-x64":return"win32-x64";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.$uo=N;function A(p,u){switch(p){case 3:return u==="x64"?"win32-x64":u==="arm64"?"win32-arm64":"unknown";case 2:return u==="x64"?"linux-x64":u==="arm64"?"linux-arm64":u==="arm"?"linux-armhf":"unknown";case"alpine":return u==="x64"?"alpine-x64":u==="arm64"?"alpine-arm64":"unknown";case 1:return u==="x64"?"darwin-x64":u==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.$vo=A;function k(p,u){return u==="web"&&!p.includes("web")}e.$wo=k;function h(p,u,g){return k(u,g)?!1:p==="undefined"||p==="universal"?!0:p==="unknown"?!1:p===g}e.$xo=h;function a(p){return p&&typeof p=="object"&&typeof p.id=="string"&&(!p.uuid||typeof p.uuid=="string")}e.$yo=a;var v;(function(p){p[p.NoneOrRelevance=0]="NoneOrRelevance",p[p.LastUpdatedDate=1]="LastUpdatedDate",p[p.Title=2]="Title",p[p.PublisherName=3]="PublisherName",p[p.InstallCount=4]="InstallCount",p[p.PublishedDate=10]="PublishedDate",p[p.AverageRating=6]="AverageRating",p[p.WeightedRating=12]="WeightedRating"})(v||(e.SortBy=v={}));var b;(function(p){p[p.Default=0]="Default",p[p.Ascending=1]="Ascending",p[p.Descending=2]="Descending"})(b||(e.SortOrder=b={}));var m;(function(p){p.Install="install",p.Uninstall="uninstall"})(m||(e.StatisticType=m={}));var f;(function(p){p[p.None=1]="None",p[p.Install=2]="Install",p[p.Update=3]="Update",p[p.Migrate=4]="Migrate"})(f||(e.InstallOperation=f={})),e.$zo=(0,j.$7h)("extensionGalleryService");var E;(function(p){p.Unsupported="Unsupported",p.Deprecated="Deprecated",p.Malicious="Malicious",p.Incompatible="Incompatible",p.IncompatibleTargetPlatform="IncompatibleTargetPlatform",p.ReleaseVersionNotFound="ReleaseVersionNotFound",p.Invalid="Invalid",p.Download="Download",p.DownloadSignature="DownloadSignature",p.UpdateMetadata="UpdateMetadata",p.Extract="Extract",p.Scanning="Scanning",p.Delete="Delete",p.Rename="Rename",p.CorruptZip="CorruptZip",p.IncompleteZip="IncompleteZip",p.Signature="Signature",p.NotAllowed="NotAllowed",p.Gallery="Gallery",p.Unknown="Unknown",p.Internal="Internal"})(E||(e.ExtensionManagementErrorCode=E={}));var S;(function(p){p.UnknownError="UnknownError",p.PackageIsInvalidZip="PackageIsInvalidZip",p.SignatureArchiveIsInvalidZip="SignatureArchiveIsInvalidZip"})(S||(e.ExtensionSignaturetErrorCode=S={}));class $ extends Error{constructor(u,g){super(u),this.code=g,this.name=g}}e.$Ao=$;var l;(function(p){p.Timeout="Timeout",p.Cancelled="Cancelled",p.Failed="Failed"})(l||(e.ExtensionGalleryErrorCode=l={}));class w extends Error{constructor(u,g){super(u),this.code=g,this.name=g}}e.$Bo=w,e.$Co=(0,j.$7h)("extensionManagementService"),e.$Do="extensionsIdentifiers/disabled",e.$Eo="extensionsIdentifiers/enabled",e.$Fo=(0,j.$7h)("IGlobalExtensionEnablementService"),e.$Go=(0,j.$7h)("IExtensionTipsService"),e.$Ho=(0,L.localize)(0,null),e.$Io={value:e.$Ho,original:"Extensions"},e.$Jo=(0,L.localize2)(1,"Preferences")}),define(ie[60],ne([0,1,14,7,103,13]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cq=void 0;async function A(v,b,m,f,E,S){let $;try{await k(v,b,m,f,E,S)}catch(l){$=l}finally{$&&E.errorTransformer&&($=E.errorTransformer($)),typeof $<"u"&&m.error($),m.end()}}e.$cq=A;async function k(v,b,m,f,E,S){h(S);const $=await v.open(b,{create:!1});try{h(S);let l=0,w=0,p=E&&typeof E.length=="number"?E.length:void 0,u=L.$ke.alloc(Math.min(E.bufferSize,typeof p=="number"?p:E.bufferSize)),g=E&&typeof E.position=="number"?E.position:0,i=0;do w=await v.read($,g,u.buffer,i,u.byteLength-i),g+=w,i+=w,l+=w,typeof p=="number"&&(p-=w),i===u.byteLength&&(await m.write(f(u)),u=L.$ke.alloc(Math.min(E.bufferSize,typeof p=="number"?p:E.bufferSize)),i=0);while(w>0&&(typeof p!="number"||p>0)&&h(S)&&a(l,E));if(i>0){let r=i;typeof p=="number"&&(r=Math.min(i,p)),m.write(f(u.slice(0,r)))}}catch(l){throw(0,N.$Fk)(l)}finally{await v.close($)}}function h(v){if(v.isCancellationRequested)throw(0,j.$6)();return!0}function a(v,b){if(typeof b?.limits?.size=="number"&&v>b.limits.size)throw(0,N.$Ek)((0,R.localize)(0,null),N.FileSystemProviderErrorCode.FileTooLarge);return!0}}),define(ie[121],ne([0,1,6,168,2,12,169]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Aq=void 0;class k extends R.$Tc{constructor(){super(...arguments),this.a=this.B(new L.$Wd),this.onDidChangeFile=this.a.event,this.b=this.B(new L.$Wd),this.onDidLogMessage=this.b.event,this.onDidError=L.Event.None,this.c=new Map,this.f=!1}async watch(a){const v=this.j(a),b=v.filter(f=>{const E=this.c.get(f.path);return E?!(0,j.$Rj)(E.request.excludes,f.excludes)||!(0,j.$Rj)(E.request.includes,f.includes):!0}),m=Array.from(this.c.values()).filter(({request:f})=>!v.find(E=>E.path===f.path&&(0,j.$Rj)(E.excludes,f.excludes)&&(0,j.$Rj)(E.includes,f.includes))).map(({request:f})=>f.path);b.length&&this.m(`Request to start watching: ${b.map(f=>`${f.path} (excludes: ${f.excludes.length>0?f.excludes:"<none>"}, includes: ${f.includes&&f.includes.length>0?JSON.stringify(f.includes):"<all>"}, correlationId: ${typeof f.correlationId=="number"?f.correlationId:"<none>"})`).join(",")}`),m.length&&this.m(`Request to stop watching: ${m.join(",")}`);for(const f of m)this.h(f);for(const f of b)this.g(f)}g(a){const v=new A.$yq(a,m=>this.a.fire(m),m=>this.b.fire(m),this.f),b={request:a,instance:v};this.c.set(a.path,b)}async stop(){for(const[a]of this.c)this.h(a);this.c.clear()}h(a){const v=this.c.get(a);v&&(this.c.delete(a),v.instance.dispose())}j(a){const v=new Map;for(const b of a){const m=N.$k?b.path:b.path.toLowerCase();let f=v.get(b.correlationId);f||(f=new Map,v.set(b.correlationId,f)),f.set(m,b)}return Array.from(v.values()).map(b=>Array.from(b.values())).flat()}async setVerboseLogging(a){this.f=a;for(const[,v]of this.c)v.instance.setVerboseLogging(a)}m(a){this.f&&this.b.fire({type:"trace",message:this.n(a)})}n(a,v){return v?`[File Watcher (node.js)] ${a} (path: ${v.request.path})`:`[File Watcher (node.js)] ${a}`}}e.$Aq=k}),define(ie[122],ne([0,1,61,121]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bq=void 0;class R extends L.$gq{constructor(A,k,h){super(A,k,h),this.s()}r(A){return A.add(new j.$Aq)}}e.$Bq=R}),define(ie[123],ne([0,1,15,57,87,61]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tq=void 0;class A extends N.$hq{constructor(h,a,v){super(h,a,v),this.s()}r(h){const a=h.add(new R.$sq(L.$pg.asFileUri("bootstrap-fork").fsPath,{serverName:"File Watcher",args:["--type=fileWatcher"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/watcherMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));return h.add(a.onDidProcessExit(({code:v,signal:b})=>this.t(`terminated by itself with code ${v}, signal: ${b}`))),j.ProxyChannel.toService((0,j.$Nh)(a.getChannel("watcher")))}}e.$tq=A}),define(ie[62],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5h=void 0;class L{constructor(...R){this.a=new Map;for(const[N,A]of R)this.set(N,A)}set(R,N){const A=this.a.get(R);return this.a.set(R,N),A}has(R){return this.a.has(R)}get(R){return this.a.get(R)}}e.$5h=L}),define(ie[124],ne([0,1,9,7,2,51,119,10,62,170]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Gq=e.$Fq=void 0;const v=!1;class b extends Error{constructor($){super("cyclic dependency between services"),this.message=$.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${$.toString()}`}}class m{constructor($=new h.$5h,l=!1,w,p=v){this.f=$,this.g=l,this.h=w,this.i=p,this.o=new Set,this.f.set(k.$6h,this),this._globalGraph=p?w?._globalGraph??new A.$Eq(u=>u):void 0}createChild($){return new m($,this.g,this,this.i)}invokeFunction($,...l){const w=E.traceInvocation(this.i,$);let p=!1;try{return $({get:g=>{if(p)throw(0,j.$8)("service accessor is only valid during the invocation of its target method");const i=this.m(g,w);if(!i)throw new Error(`[invokeFunction] unknown service '${g}'`);return i}},...l)}finally{p=!0,w.stop()}}createInstance($,...l){let w,p;return $ instanceof N.$4h?(w=E.traceCreation(this.i,$.ctor),p=this.j($.ctor,$.staticArguments.concat(l),w)):(w=E.traceCreation(this.i,$),p=this.j($,l,w)),w.stop(),p}j($,l=[],w){const p=k._util.getServiceDependencies($).sort((i,r)=>i.index-r.index),u=[];for(const i of p){const r=this.m(i.id,w);r||this.u(`[createInstance] ${$.name} depends on UNKNOWN service ${i.id}.`,!1),u.push(r)}const g=p.length>0?p[0].index:l.length;if(l.length!==g){console.trace(`[createInstance] First service dependency of ${$.name} at position ${g+1} conflicts with ${l.length} static arguments`);const i=g-l.length;i>0?l=l.concat(new Array(i)):l=l.slice(0,g)}return Reflect.construct($,l.concat(u))}k($,l){if(this.f.get($)instanceof N.$4h)this.f.set($,l);else if(this.h)this.h.k($,l);else throw new Error("illegalState - setting UNKNOWN service instance")}l($){const l=this.f.get($);return!l&&this.h?this.h.l($):l}m($,l){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String($));const w=this.l($);return w instanceof N.$4h?this.q($,w,l.branch($,!0)):(l.branch($,!1),w)}q($,l,w){if(this.o.has($))throw new Error(`illegal state - RECURSIVELY instantiating service '${$}'`);this.o.add($);try{return this.r($,l,w)}finally{this.o.delete($)}}r($,l,w){const p=new A.$Eq(i=>i.id.toString());let u=0;const g=[{id:$,desc:l,_trace:w}];for(;g.length;){const i=g.pop();if(p.lookupOrInsertNode(i),u++>1e3)throw new b(p);for(const r of k._util.getServiceDependencies(i.desc.ctor)){const t=this.l(r.id);if(t||this.u(`[createInstance] ${$} depends on ${r.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(i.id),String(r.id)),t instanceof N.$4h){const n={id:r.id,desc:t,_trace:i._trace.branch(r.id,!0)};p.insertEdge(i,n),g.push(n)}}}for(;;){const i=p.roots();if(i.length===0){if(!p.isEmpty())throw new b(p);break}for(const{data:r}of i){if(this.l(r.id)instanceof N.$4h){const n=this.s(r.id,r.desc.ctor,r.desc.staticArguments,r.desc.supportsDelayedInstantiation,r._trace);this.k(r.id,n)}p.removeNode(r)}}return this.l($)}s($,l,w=[],p,u){if(this.f.get($)instanceof N.$4h)return this.t($,l,w,p,u);if(this.h)return this.h.s($,l,w,p,u);throw new Error(`illegalState - creating UNKNOWN service instance ${l.name}`)}t($,l,w=[],p,u){if(p){const g=new m(void 0,this.g,this,this.i);g.c=String($);const i=new Map,r=new L.$nh(()=>{const t=g.j(l,w,u);for(const[n,s]of i){const o=t[n];if(typeof o=="function")for(const c of s)c.disposable=o.apply(t,c.listener)}return i.clear(),t});return new Proxy(Object.create(null),{get(t,n){if(!r.isInitialized&&typeof n=="string"&&(n.startsWith("onDid")||n.startsWith("onWill"))){let c=i.get(n);return c||(c=new a.$4c,i.set(n,c)),(O,y,D)=>{if(r.isInitialized)return r.value[n](O,y,D);{const W={listener:[O,y,D],disposable:void 0},te=c.push(W);return(0,R.$Rc)(()=>{te(),W.disposable?.dispose()})}}}if(n in t)return t[n];const s=r.value;let o=s[n];return typeof o!="function"||(o=o.bind(s),t[n]=o),o},set(t,n,s){return r.value[n]=s,!0},getPrototypeOf(t){return l.prototype}})}else return this.j(l,w,u)}u($,l){if(l&&console.warn($),this.g)throw new Error($)}}e.$Fq=m;var f;(function(S){S[S.None=0]="None",S[S.Creation=1]="Creation",S[S.Invocation=2]="Invocation",S[S.Branch=3]="Branch"})(f||(f={}));class E{static{this.all=new Set}static{this.c=new class extends E{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation($,l){return $?new E(2,l.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):E.c}static traceCreation($,l){return $?new E(1,l.name):E.c}static{this.f=0}constructor($,l){this.type=$,this.name=l,this.g=Date.now(),this.h=[]}branch($,l){const w=new E(3,$.toString());return this.h.push([$,l,w]),w}stop(){const $=Date.now()-this.g;E.f+=$;let l=!1;function w(u,g){const i=[],r=new Array(u+1).join("	");for(const[t,n,s]of g.h)if(n&&s){l=!0,i.push(`${r}CREATES -> ${t}`);const o=w(u+1,s);o&&i.push(o)}else i.push(`${r}uses -> ${t}`);return i.join(`
`)}const p=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${w(1,this)}`,`DONE, took ${$.toFixed(2)}ms (grand total ${E.f.toFixed(2)}ms)`];($>2||l)&&E.all.add(p.join(`
`))}}e.$Gq=E});var se=this&&this.__param||function(J,e){return function(L,j){e(L,j,J)}};define(ie[63],ne([0,1,20,2,12,105,21,10]),function(J,e,L,j,R,N,A,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jr=e.$ir=e.$hr=void 0;function h(v){return v.tags.find(b=>b.startsWith("lp-"))?.split("lp-")[1]}e.$hr=h,e.$ir=(0,k.$7h)("languagePackService");let a=class extends j.$Tc{constructor(b){super(),this.c=b}async getAvailableLanguages(){const b=new L.$7d;setTimeout(()=>b.cancel(),1e3);let m;try{m=await this.c.query({text:'category:"language packs"',pageSize:20},b.token)}catch{return[]}const E=m.firstPage.filter(S=>S.properties.localizedLanguages?.length&&S.tags.some($=>$.startsWith("lp-"))).map(S=>{const $=S.properties.localizedLanguages?.[0],l=h(S);return{...this.f(l,$,S),extensionId:S.identifier.id,galleryExtension:S}});return E.push(this.f("en","English")),E}f(b,m,f){const E=m??b;let S;if(E!==b&&(S=`(${b})`),b.toLowerCase()===R.$w.toLowerCase()&&(S??="",S+=(0,N.localize)(0,null)),f?.installCount){S??="";const $=f.installCount;let l;$>1e6?l=`${Math.floor($/1e5)/10}M`:$>1e3?l=`${Math.floor($/1e3)}K`:l=String($),S+=` $(cloud-download) ${l}`}return{id:b,label:E,description:S}}};e.$jr=a,e.$jr=a=me([se(0,A.$zo)],a)}),define(ie[4],ne([0,1,34,6,43,2,31,12,17,3,11,120,10]),function(J,e,L,j,R,N,A,k,h,a,v,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fj=e.$Ej=e.$Dj=e.$Cj=e.$Bj=e.$Aj=e.$zj=e.$yj=e.$xj=e.$wj=e.$vj=e.$uj=e.$tj=e.log=e.$rj=e.LogLevel=e.$qj=e.$pj=e.$oj=void 0,e.$oj=(0,m.$7h)("logService"),e.$pj=(0,m.$7h)("loggerService");function f(){return new Date().toISOString()}function E(O){return(0,a.$Nf)(O)}e.$qj=E;var S;(function(O){O[O.Off=0]="Off",O[O.Trace=1]="Trace",O[O.Debug=2]="Debug",O[O.Info=3]="Info",O[O.Warning=4]="Warning",O[O.Error=5]="Error"})(S||(e.LogLevel=S={})),e.$rj=S.Info;function $(O,y,D){switch(y){case S.Trace:O.trace(D);break;case S.Debug:O.debug(D);break;case S.Info:O.info(D);break;case S.Warning:O.warn(D);break;case S.Error:O.error(D);break;case S.Off:break;default:throw new Error(`Invalid log level ${y}`)}}e.log=$;function l(O,y=!1){let D="";for(let W=0;W<O.length;W++){let te=O[W];if(te instanceof Error&&(te=(0,L.$Ri)(te,y)),typeof te=="object")try{te=JSON.stringify(te)}catch{}D+=(W>0?" ":"")+te}return D}class w extends N.$Tc{constructor(){super(...arguments),this.b=e.$rj,this.c=this.B(new j.$Wd),this.onDidChangeLogLevel=this.c.event}setLevel(y){this.b!==y&&(this.b=y,this.c.fire(this.b))}getLevel(){return this.b}f(y){return this.b!==S.Off&&this.b<=y}}e.$tj=w;class p extends w{constructor(y){super(),this.h=y}f(y){return this.h||super.f(y)}trace(y,...D){this.f(S.Trace)&&this.g(S.Trace,l([y,...D],!0))}debug(y,...D){this.f(S.Debug)&&this.g(S.Debug,l([y,...D]))}info(y,...D){this.f(S.Info)&&this.g(S.Info,l([y,...D]))}warn(y,...D){this.f(S.Warning)&&this.g(S.Warning,l([y,...D]))}error(y,...D){if(this.f(S.Error))if(y instanceof Error){const W=Array.prototype.slice.call(arguments);W[0]=y.stack,this.g(S.Error,l(W))}else this.g(S.Error,l([y,...D]))}flush(){}}e.$uj=p;class u extends w{constructor(y=e.$rj){super(),this.setLevel(y),this.g=!k.$i}trace(y,...D){this.f(S.Trace)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,y,...D):console.log(`[main ${f()}]`,y,...D))}debug(y,...D){this.f(S.Debug)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,y,...D):console.log(`[main ${f()}]`,y,...D))}info(y,...D){this.f(S.Info)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,y,...D):console.log(`[main ${f()}]`,y,...D))}warn(y,...D){this.f(S.Warning)&&(this.g?console.warn(`\x1B[93m[main ${f()}]\x1B[0m`,y,...D):console.warn(`[main ${f()}]`,y,...D))}error(y,...D){this.f(S.Error)&&(this.g?console.error(`\x1B[91m[main ${f()}]\x1B[0m`,y,...D):console.error(`[main ${f()}]`,y,...D))}flush(){}}e.$vj=u;class g extends w{constructor(y=e.$rj,D=!0){super(),this.g=D,this.setLevel(y)}trace(y,...D){this.f(S.Trace)&&(this.g?console.log("%cTRACE","color: #888",y,...D):console.log(y,...D))}debug(y,...D){this.f(S.Debug)&&(this.g?console.log("%cDEBUG","background: #eee; color: #888",y,...D):console.log(y,...D))}info(y,...D){this.f(S.Info)&&(this.g?console.log("%c INFO","color: #33f",y,...D):console.log(y,...D))}warn(y,...D){this.f(S.Warning)&&(this.g?console.log("%c WARN","color: #993",y,...D):console.log(y,...D))}error(y,...D){this.f(S.Error)&&(this.g?console.log("%c  ERR","color: #f33",y,...D):console.error(y,...D))}flush(){}}e.$wj=g;class i extends w{constructor(y,D=e.$rj){super(),this.g=y,this.setLevel(D)}trace(y,...D){this.f(S.Trace)&&this.g.log(S.Trace,[this.h(y),...D])}debug(y,...D){this.f(S.Debug)&&this.g.log(S.Debug,[this.h(y),...D])}info(y,...D){this.f(S.Info)&&this.g.log(S.Info,[this.h(y),...D])}warn(y,...D){this.f(S.Warning)&&this.g.log(S.Warning,[this.h(y),...D])}error(y,...D){this.f(S.Error)&&this.g.log(S.Error,[this.h(y),...D])}h(y){return typeof y=="string"?y:(0,L.$Ri)(y,this.f(S.Trace))}flush(){}}e.$xj=i;class r extends w{constructor(y){super(),this.g=y,y.length&&this.setLevel(y[0].getLevel())}setLevel(y){for(const D of this.g)D.setLevel(y);super.setLevel(y)}trace(y,...D){for(const W of this.g)W.trace(y,...D)}debug(y,...D){for(const W of this.g)W.debug(y,...D)}info(y,...D){for(const W of this.g)W.info(y,...D)}warn(y,...D){for(const W of this.g)W.warn(y,...D)}error(y,...D){for(const W of this.g)W.error(y,...D)}flush(){for(const y of this.g)y.flush()}dispose(){for(const y of this.g)y.dispose();super.dispose()}}e.$yj=r;class t extends N.$Tc{constructor(y,D,W){if(super(),this.h=y,this.j=D,this.b=new A.$Ac,this.c=this.B(new j.$Wd),this.onDidChangeLoggers=this.c.event,this.f=this.B(new j.$Wd),this.onDidChangeLogLevel=this.f.event,this.g=this.B(new j.$Wd),this.onDidChangeVisibility=this.g.event,W)for(const te of W)this.b.set(te.resource,{logger:void 0,info:te})}m(y){return(0,a.$Jf)(y)?[...this.b.values()].find(D=>D.info.id===y):this.b.get(y)}getLogger(y){return this.m(y)?.logger}createLogger(y,D){const W=this.n(y),te=(0,a.$Jf)(y)?y:D?.id??(0,R.$Ui)(W.toString()).toString(16);let _=this.b.get(W)?.logger;const oe=D?.logLevel==="always"?S.Trace:D?.logLevel;_||(_=this.s(W,oe??this.getLogLevel(W)??this.h,{...D,id:te}));const re={logger:_,info:{resource:W,id:te,logLevel:oe,name:D?.name,hidden:D?.hidden,extensionId:D?.extensionId,when:D?.when}};return this.registerLogger(re.info),this.b.set(W,re),_}n(y){return(0,a.$Jf)(y)?(0,h.$Ig)(this.j,`${y}.log`):y}setLogLevel(y,D){if(v.URI.isUri(y)){const W=y,te=D,_=this.b.get(W);_&&te!==_.info.logLevel&&(_.info.logLevel=te===this.h?void 0:te,_.logger?.setLevel(te),this.b.set(_.info.resource,_),this.f.fire([W,te]))}else{this.h=y;for(const[W,te]of this.b.entries())this.b.get(W)?.info.logLevel===void 0&&te.logger?.setLevel(this.h);this.f.fire(this.h)}}setVisibility(y,D){const W=this.m(y);W&&D!==!W.info.hidden&&(W.info.hidden=!D,this.b.set(W.info.resource,W),this.g.fire([W.info.resource,D]))}getLogLevel(y){let D;return y&&(D=this.b.get(y)?.info.logLevel),D??this.h}registerLogger(y){const D=this.b.get(y.resource);D?D.info.hidden!==y.hidden&&this.setVisibility(y.resource,!y.hidden):(this.b.set(y.resource,{info:y,logger:void 0}),this.c.fire({added:[y],removed:[]}))}deregisterLogger(y){const D=this.b.get(y);D&&(D.logger&&D.logger.dispose(),this.b.delete(y),this.c.fire({added:[],removed:[D.info]}))}*getRegisteredLoggers(){for(const y of this.b.values())yield y.info}getRegisteredLogger(y){return this.b.get(y)?.info}dispose(){this.b.forEach(y=>y.logger?.dispose()),this.b.clear(),super.dispose()}}e.$zj=t;class n{constructor(){this.onDidChangeLogLevel=new j.$Wd().event}setLevel(y){}getLevel(){return S.Info}trace(y,...D){}debug(y,...D){}info(y,...D){}warn(y,...D){}error(y,...D){}critical(y,...D){}dispose(){}flush(){}}e.$Aj=n;class s extends n{}e.$Bj=s;function o(O){if(O.verbose)return S.Trace;if(typeof O.logLevel=="string"){const y=I(O.logLevel.toLowerCase());if(y!==void 0)return y}return e.$rj}e.$Cj=o;function c(O){switch(O){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.$Dj=c;function I(O){switch(O){case"trace":return S.Trace;case"debug":return S.Debug;case"info":return S.Info;case"warn":return S.Warning;case"error":return S.Error;case"critical":return S.Error;case"off":return S.Off}}e.$Ej=I,e.$Fj=new b.$lj("logLevel",c(S.Info))}),define(ie[64],ne([0,1,7,10,4]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hp=e.$Gp=void 0,e.$Gp=(0,j.$7h)("IExtensionSignatureVerificationService");let N=class{constructor(k){this.b=k}c(){return this.a||(this.a=new Promise((k,h)=>J(["node-vsce-sign"],async a=>k(a),h))),this.a}async verify(k,h,a){let v;try{v=await this.c()}catch(b){return this.b.error("Could not load vsce-sign module",(0,L.$0)(b)),!1}return v.verify(k,h,a)}};e.$Hp=N,e.$Hp=N=me([se(0,R.$oj)],N)}),define(ie[125],ne([0,1,19,9,7,6,2,16,61,4]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mq=void 0;class v extends A.$Tc{constructor(m,f){super(),this.a=m,this.b=f,this.c=this.B(new N.$Wd),this.onDidChangeFile=this.c.event,this.g=this.B(new N.$Wd),this.onDidWatchError=this.g.event,this.j=[],this.m=this.B(new j.$5g(0)),this.w=[],this.y=this.B(new j.$5g(0))}watch(m,f){return f.recursive||this.b?.watcher?.forceUniversal?this.n(m,f):this.z(m,f)}n(m,f){const E={path:this.H(m),excludes:f.excludes,includes:f.includes,recursive:f.recursive,correlationId:f.correlationId},S=(0,L.$Ub)(this.j,E);return this.r(),(0,A.$Rc)(()=>{S(),this.r()})}r(){this.m.trigger(()=>this.s()).catch(m=>(0,R.$1)(m))}s(){this.h||(this.h=this.B(this.t(f=>this.c.fire((0,h.$iq)(f)),f=>this.G(f),this.a.getLevel()===a.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.h?.setVerboseLogging(this.a.getLevel()===a.LogLevel.Trace)})));const m=this.b?.watcher?.recursive?.usePolling;if(m===!0)for(const f of this.j)(0,h.$eq)(f)&&(f.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);else if(Array.isArray(m))for(const f of this.j)(0,h.$eq)(f)&&m.includes(f.path)&&(f.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);return this.h.watch(this.j)}z(m,f){const E={path:this.H(m),excludes:f.excludes,includes:f.includes,recursive:!1,correlationId:f.correlationId},S=(0,L.$Ub)(this.w,E);return this.C(),(0,A.$Rc)(()=>{S(),this.C()})}C(){this.y.trigger(()=>this.D()).catch(m=>(0,R.$1)(m))}D(){return this.u||(this.u=this.B(this.F(m=>this.c.fire((0,h.$iq)(m)),m=>this.G(m),this.a.getLevel()===a.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.u?.setVerboseLogging(this.a.getLevel()===a.LogLevel.Trace)}))),this.u.watch(this.w)}G(m){m.type==="error"&&this.g.fire(m.message),this.a[m.type](m.message)}H(m){return(0,k.$hc)(m.fsPath)}}e.$mq=v}),define(ie[126],ne([0,1,19,9,14,20,6,43,65,2,48,15,127,17,46,102,13,60,4,7]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.$dq=void 0;let g=class extends a.$Tc{static{u=this}constructor(r){super(),this.b=r,this.a=256*1024,this.c=this.B(new A.$Wd),this.onDidChangeFileSystemProviderRegistrations=this.c.event,this.f=this.B(new A.$Wd),this.onWillActivateFileSystemProvider=this.f.event,this.g=this.B(new A.$Wd),this.onDidChangeFileSystemProviderCapabilities=this.g.event,this.h=new Map,this.r=this.B(new A.$Wd),this.onDidRunOperation=this.r.event,this.X=this.B(new A.$Wd),this.Y=this.B(new A.$Wd),this.onDidFilesChange=this.Y.event,this.Z=this.B(new A.$Wd),this.onDidWatchError=this.Z.event,this.$=new Map,this.cb=this.B(new j.$dh)}registerProvider(r,t){if(this.h.has(r))throw new Error(`A filesystem provider for the scheme '${r}' is already registered.`);(0,m.mark)(`code/registerFilesystem/${r}`);const n=new a.$Sc;return this.h.set(r,t),this.c.fire({added:!0,scheme:r,provider:t}),n.add(t.onDidChangeFile(s=>{const o=new $.$Kk(s,!this.S(t));this.X.fire(o),o.hasCorrelation()||this.Y.fire(o)})),typeof t.onDidWatchError=="function"&&n.add(t.onDidWatchError(s=>this.Z.fire(new Error(s)))),n.add(t.onDidChangeCapabilities(()=>this.g.fire({provider:t,scheme:r}))),(0,a.$Rc)(()=>{this.c.fire({added:!1,scheme:r,provider:t}),this.h.delete(r),(0,a.$Oc)(n)})}getProvider(r){return this.h.get(r)}async activateProvider(r){const t=[];this.f.fire({scheme:r,join(n){t.push(n)}}),!this.h.has(r)&&await j.Promises.settled(t)}async canHandleResource(r){return await this.activateProvider(r.scheme),this.hasProvider(r)}hasProvider(r){return this.h.has(r.scheme)}hasCapability(r,t){const n=this.h.get(r.scheme);return!!(n&&n.capabilities&t)}listCapabilities(){return h.Iterable.map(this.h,([r,t])=>({scheme:r,capabilities:t.capabilities}))}async j(r){if(!(0,f.$Mg)(r))throw new $.$Mk((0,S.localize)(0,null,this.sb(r)),8);await this.activateProvider(r.scheme);const t=this.h.get(r.scheme);if(!t){const n=new p.$bb;throw n.message=(0,S.localize)(1,null,r.toString()),n}return t}async m(r){const t=await this.j(r);if((0,$.$xk)(t)||(0,$.$uk)(t)||(0,$.$yk)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async n(r){const t=await this.j(r);if((0,$.$xk)(t)||(0,$.$uk)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(r,t){try{return await this.s(r,t)}catch(n){throw(0,$.$Hk)(n)===$.FileSystemProviderErrorCode.FileNotFound?new $.$Mk((0,S.localize)(2,null,this.sb(r)),1):(0,$.$Fk)(n)}}async s(r,t){const n=await this.j(r),s=this.S(n),o=t?.resolveTo,c=t?.resolveSingleChildDescendants,I=t?.resolveMetadata,O=await n.stat(r);let y;return this.t(n,r,O,void 0,!!I,(D,W)=>(y||(y=v.$ai.forUris(()=>!s),y.set(r,!0),o&&y.fill(!0,o)),y.get(D.resource)||y.findSuperstr(D.resource.with({query:null,fragment:null}))?!0:D.isDirectory&&c?W===1:!1))}async t(r,t,n,s,o,c){const{providerExtUri:I}=this.R(r),O={resource:t,name:I.basename(t),isFile:(n.type&$.FileType.File)!==0,isDirectory:(n.type&$.FileType.Directory)!==0,isSymbolicLink:(n.type&$.FileType.SymbolicLink)!==0,mtime:n.mtime,ctime:n.ctime,size:n.size,readonly:!!((n.permissions??0)&$.FilePermission.Readonly)||!!(r.capabilities&2048),locked:!!((n.permissions??0)&$.FilePermission.Locked),etag:(0,$.$Xk)({mtime:n.mtime,size:n.size}),children:void 0};if(O.isDirectory&&c(O,s)){try{const y=await r.readdir(t),D=await j.Promises.settled(y.map(async([W,te])=>{try{const _=I.joinPath(t,W),oe=o?await r.stat(_):{type:te};return await this.t(r,_,oe,y.length,o,c)}catch(_){return this.b.trace(_),null}}));O.children=(0,L.$Hb)(D)}catch(y){this.b.trace(y),O.children=[]}return O}return O}async resolveAll(r){return j.Promises.settled(r.map(async t=>{try{return{stat:await this.s(t.resource,t.options),success:!0}}catch(n){return this.b.trace(n),{stat:void 0,success:!1}}}))}async stat(r){const t=await this.j(r),n=await t.stat(r);return this.t(t,r,n,void 0,!0,()=>!1)}async exists(r){const t=await this.j(r);try{return!!await t.stat(r)}catch{return!1}}async canCreateFile(r,t){try{await this.u(r,t)}catch(n){return n}return!0}async u(r,t){if(!t?.overwrite&&await this.exists(r))throw new $.$Mk((0,S.localize)(3,null,this.sb(r)),3,t)}async createFile(r,t=R.$ke.fromString(""),n){await this.u(r,n);const s=await this.writeFile(r,t);return this.r.fire(new $.$Jk(r,0,s)),s}async writeFile(r,t,n){const s=this.qb(await this.n(r),r),{providerExtUri:o}=this.R(s);let c=n;if((0,$.$Ak)(s)&&!c?.atomic){const I=s.enforceAtomicWriteFile?.(r);I&&(c={...n,atomic:I})}try{await this.w(s,r,c)||await this.U(s,o.dirname(r));let O;if((0,$.$uk)(s)&&!(t instanceof R.$ke))if((0,E.$9d)(t)){const y=await(0,E.$de)(t,3);y.ended?O=R.$ke.concat(y.buffer):O=y}else O=(0,E.$ae)(t,y=>R.$ke.concat(y),3);else O=t;!(0,$.$xk)(s)||(0,$.$uk)(s)&&O instanceof R.$ke||(0,$.$uk)(s)&&(0,$.$Ak)(s)&&c?.atomic?await this.hb(s,r,c,O):await this.db(s,r,c,O instanceof R.$ke?(0,R.$ve)(O):O),this.r.fire(new $.$Jk(r,4))}catch(I){throw new $.$Mk((0,S.localize)(4,null,this.sb(r),(0,$.$Fk)(I).toString()),(0,$.$Ik)(I),c)}return this.resolve(r,{resolveMetadata:!0})}async w(r,t,n){const s=!!n?.unlock;if(s&&!(r.capabilities&8192))throw new Error((0,S.localize)(5,null,this.sb(t)));if(!!n?.atomic){if(!(r.capabilities&32768))throw new Error((0,S.localize)(6,null,this.sb(t)));if(!(r.capabilities&2))throw new Error((0,S.localize)(7,null,this.sb(t)));if(s)throw new Error((0,S.localize)(8,null,this.sb(t)))}let c;try{c=await r.stat(t)}catch{return}if(c.type&$.FileType.Directory)throw new $.$Mk((0,S.localize)(9,null,this.sb(t)),0,n);if(this.rb(t,c),typeof n?.mtime=="number"&&typeof n.etag=="string"&&n.etag!==$.$Wk&&typeof c.mtime=="number"&&typeof c.size=="number"&&n.mtime<c.mtime&&n.etag!==(0,$.$Xk)({mtime:n.mtime,size:c.size}))throw new $.$Mk((0,S.localize)(10,null),3,n);return c}async readFile(r,t,n){const s=await this.m(r);return t?.atomic?this.z(s,r,t,n):this.C(s,r,t,n)}async z(r,t,n,s){return new Promise((o,c)=>{this.cb.queueFor(t,async()=>{try{const I=await this.C(r,t,n,s);o(I)}catch(I){c(I)}},this.R(r).providerExtUri)})}async C(r,t,n,s){const o=await this.D(r,t,{...n,preferUnbuffered:!0},s);return{...o,value:await(0,R.$we)(o.value)}}async readFileStream(r,t,n){const s=await this.m(r);return this.D(s,r,t,n)}async D(r,t,n,s){const o=new N.$7d(s);let c=n;(0,$.$zk)(r)&&r.enforceAtomicReadFile?.(t)&&(c={...n,atomic:!0});const I=this.J(t,c).then(y=>y,y=>{throw o.dispose(!0),y});let O;try{return typeof c?.etag=="string"&&c.etag!==$.$Wk&&await I,c?.atomic&&(0,$.$zk)(r)||!((0,$.$xk)(r)||(0,$.$yk)(r))||(0,$.$uk)(r)&&c?.preferUnbuffered?O=this.I(r,t,c):(0,$.$yk)(r)?O=this.G(r,t,o.token,c):O=this.H(r,t,o.token,c),O.on("end",()=>o.dispose()),O.on("error",()=>o.dispose()),{...await I,value:O}}catch(y){throw O&&await(0,E.$be)(O),this.F(y,t,c)}}F(r,t,n){const s=(0,S.localize)(11,null,this.sb(t),(0,$.$Fk)(r).toString());return r instanceof $.$Ok?new $.$Ok(s,r.stat,n):r instanceof $.$Nk?new $.$Nk(s,r.fileOperationResult,r.size,r.options):new $.$Mk(s,(0,$.$Ik)(r),n)}G(r,t,n,s=Object.create(null)){const o=r.readFileStream(t,s,n);return(0,E.$he)(o,{data:c=>c instanceof R.$ke?c:R.$ke.wrap(c),error:c=>this.F(c,t,s)},c=>R.$ke.concat(c))}H(r,t,n,s=Object.create(null)){const o=(0,R.$Ae)();return(0,l.$cq)(r,t,o,c=>c,{...s,bufferSize:this.a,errorTransformer:c=>this.F(c,t,s)},n),o}I(r,t,n){const s=(0,E.$$d)(o=>R.$ke.concat(o));return(async()=>{try{let o;n?.atomic&&(0,$.$zk)(r)?o=await r.readFile(t,{atomic:!0}):o=await r.readFile(t),typeof n?.position=="number"&&(o=o.slice(n.position)),typeof n?.length=="number"&&(o=o.slice(0,n.length)),this.L(t,o.byteLength,n),s.end(R.$ke.wrap(o))}catch(o){s.error(o),s.end()}})(),s}async J(r,t){const n=await this.resolve(r,{resolveMetadata:!0});if(n.isDirectory)throw new $.$Mk((0,S.localize)(12,null,this.sb(r)),0,t);if(typeof t?.etag=="string"&&t.etag!==$.$Wk&&t.etag===n.etag)throw new $.$Ok((0,S.localize)(13,null),n,t);return this.L(r,n.size,t),n}L(r,t,n){if(typeof n?.limits?.size=="number"&&t>n.limits.size)throw new $.$Nk((0,S.localize)(14,null,this.sb(r)),7,t,n)}async canMove(r,t,n){return this.M(r,t,"move",n)}async canCopy(r,t,n){return this.M(r,t,"copy",n)}async M(r,t,n,s){if(r.toString()!==t.toString())try{const o=n==="move"?this.qb(await this.n(r),r):await this.m(r),c=this.qb(await this.n(t),t);await this.Q(o,r,c,t,n,s)}catch(o){return o}return!0}async move(r,t,n){const s=this.qb(await this.n(r),r),o=this.qb(await this.n(t),t),c=await this.N(s,r,o,t,"move",!!n),I=await this.resolve(t,{resolveMetadata:!0});return this.r.fire(new $.$Jk(r,c==="move"?2:3,I)),I}async copy(r,t,n){const s=await this.m(r),o=this.qb(await this.n(t),t),c=await this.N(s,r,o,t,"copy",!!n),I=await this.resolve(t,{resolveMetadata:!0});return this.r.fire(new $.$Jk(r,c==="copy"?3:2,I)),I}async N(r,t,n,s,o,c){if(t.toString()===s.toString())return o;const{exists:I,isSameResourceWithDifferentPathCase:O}=await this.Q(r,t,n,s,o,c);if(I&&!O&&c&&await this.del(s,{recursive:!0}),await this.U(n,this.R(n).providerExtUri.dirname(s)),o==="copy"){if(r===n&&(0,$.$vk)(r))await r.copy(t,s,{overwrite:c});else{const y=await this.resolve(t);y.isDirectory?await this.P(r,y,n,s):await this.O(r,t,n,s)}return o}else return r===n?(await r.rename(t,s,{overwrite:c}),o):(await this.N(r,t,n,s,"copy",c),await this.del(t,{recursive:!0}),"copy")}async O(r,t,n,s){if((0,$.$xk)(r)&&(0,$.$xk)(n))return this.jb(r,t,n,s);if((0,$.$xk)(r)&&(0,$.$uk)(n))return this.pb(r,t,n,s);if((0,$.$uk)(r)&&(0,$.$xk)(n))return this.nb(r,t,n,s);if((0,$.$uk)(r)&&(0,$.$uk)(n))return this.lb(r,t,n,s)}async P(r,t,n,s){await n.mkdir(s),Array.isArray(t.children)&&await j.Promises.settled(t.children.map(async o=>{const c=this.R(n).providerExtUri.joinPath(s,o.name);return o.isDirectory?this.P(r,await this.resolve(o.resource),n,c):this.O(r,o.resource,n,c)}))}async Q(r,t,n,s,o,c){let I=!1;if(r===n){const{providerExtUri:y,isPathCaseSensitive:D}=this.R(r);if(D||(I=y.isEqual(t,s)),I&&o==="copy")throw new Error((0,S.localize)(15,null,this.sb(t),this.sb(s)));if(!I&&y.isEqualOrParent(s,t))throw new Error((0,S.localize)(16,null,this.sb(t),this.sb(s)))}const O=await this.exists(s);if(O&&!I){if(!c)throw new $.$Mk((0,S.localize)(17,null,this.sb(t),this.sb(s)),4);if(r===n){const{providerExtUri:y}=this.R(r);if(y.isEqualOrParent(t,s))throw new Error((0,S.localize)(18,null,this.sb(t),this.sb(s)))}}return{exists:O,isSameResourceWithDifferentPathCase:I}}R(r){const t=this.S(r);return{providerExtUri:t?f.$yg:f.$Ag,isPathCaseSensitive:t}}S(r){return!!(r.capabilities&1024)}async createFolder(r){const t=this.qb(await this.j(r),r);await this.U(t,r);const n=await this.resolve(r,{resolveMetadata:!0});return this.r.fire(new $.$Jk(r,0,n)),n}async U(r,t){const n=[],{providerExtUri:s}=this.R(r);for(;!s.isEqual(t,s.dirname(t));)try{if(!((await r.stat(t)).type&$.FileType.Directory))throw new Error((0,S.localize)(19,null,this.sb(t)));break}catch(o){if((0,$.$Hk)(o)!==$.FileSystemProviderErrorCode.FileNotFound)throw o;n.push(s.basename(t)),t=s.dirname(t)}for(let o=n.length-1;o>=0;o--){t=s.joinPath(t,n[o]);try{await r.mkdir(t)}catch(c){if((0,$.$Hk)(c)!==$.FileSystemProviderErrorCode.FileExists)throw c}}}async canDelete(r,t){try{await this.W(r,t)}catch(n){return n}return!0}async W(r,t){const n=this.qb(await this.j(r),r),s=!!t?.useTrash;if(s&&!(n.capabilities&4096))throw new Error((0,S.localize)(20,null,this.sb(r)));const o=t?.atomic;if(o&&!(n.capabilities&65536))throw new Error((0,S.localize)(21,null,this.sb(r)));if(s&&o)throw new Error((0,S.localize)(22,null,this.sb(r)));let c;try{c=await n.stat(r)}catch{}if(c)this.rb(r,c);else throw new $.$Mk((0,S.localize)(23,null,this.sb(r)),1);if(!!!t?.recursive){const O=await this.resolve(r);if(O.isDirectory&&Array.isArray(O.children)&&O.children.length>0)throw new Error((0,S.localize)(24,null,this.sb(r)))}return n}async del(r,t){const n=await this.W(r,t);let s=t;if((0,$.$Bk)(n)&&!s?.atomic){const O=n.enforceAtomicDelete?.(r);O&&(s={...t,atomic:O})}const o=!!s?.useTrash,c=!!s?.recursive,I=s?.atomic??!1;await n.delete(r,{recursive:c,useTrash:o,atomic:I}),this.r.fire(new $.$Jk(r,1))}async cloneFile(r,t){const n=await this.j(r),s=this.qb(await this.n(t),t);if(!(n===s&&this.R(n).providerExtUri.isEqual(r,t)))return n===s&&(0,$.$wk)(n)?n.cloneFile(r,t):(await this.U(s,this.R(s).providerExtUri.dirname(t)),n===s&&(0,$.$vk)(n)?this.cb.queueFor(r,()=>n.copy(r,t,{overwrite:!0}),this.R(n).providerExtUri):this.cb.queueFor(r,()=>this.O(n,r,s,t),this.R(n).providerExtUri))}static{this.ab=0}createWatcher(r,t){return this.watch(r,{...t,correlationId:u.ab++})}watch(r,t={recursive:!1,excludes:[]}){const n=new a.$Sc;let s=!1,o=()=>{s=!0};n.add((0,a.$Rc)(()=>o())),(async()=>{try{const I=await this.bb(r,t);s?(0,a.$Oc)(I):o=()=>(0,a.$Oc)(I)}catch(I){this.b.error(I)}})();const c=t.correlationId;if(typeof c=="number"){const I=n.add(new A.$Wd);return n.add(this.X.event(y=>{y.correlates(c)&&I.fire(y)})),{onDidChange:I.event,dispose:()=>n.dispose()}}return n}async bb(r,t){const n=await this.j(r),s=(0,k.$Ui)([this.R(n).providerExtUri.getComparisonKey(r),t]);let o=this.$.get(s);return o||(o={count:0,disposable:n.watch(r,t)},this.$.set(s,o)),o.count+=1,(0,a.$Rc)(()=>{o&&(o.count--,o.count===0&&((0,a.$Oc)(o.disposable),this.$.delete(s)))})}dispose(){super.dispose();for(const[,r]of this.$)(0,a.$Oc)(r.disposable);this.$.clear()}async db(r,t,n,s){return this.cb.queueFor(t,async()=>{const o=await r.open(t,{create:!0,unlock:n?.unlock??!1});try{(0,E.$9d)(s)||(0,E.$0d)(s)?await this.eb(r,o,s):await this.fb(r,o,s)}catch(c){throw(0,$.$Fk)(c)}finally{await r.close(o)}},this.R(r).providerExtUri)}async eb(r,t,n){let s=0,o;if((0,E.$0d)(n)){if(n.buffer.length>0){const c=R.$ke.concat(n.buffer);await this.gb(r,t,c,c.byteLength,s,0),s+=c.byteLength}if(n.ended)return;o=n.stream}else o=n;return new Promise((c,I)=>{(0,E.$ce)(o,{onData:async O=>{o.pause();try{await this.gb(r,t,O,O.byteLength,s,0)}catch(y){return I(y)}s+=O.byteLength,setTimeout(()=>o.resume())},onError:O=>I(O),onEnd:()=>c()})})}async fb(r,t,n){let s=0,o;for(;(o=n.read())!==null;)await this.gb(r,t,o,o.byteLength,s,0),s+=o.byteLength}async gb(r,t,n,s,o,c){let I=0;for(;I<s;){const O=await r.write(t,o+I,n.buffer,c+I,s-I);I+=O}}async hb(r,t,n,s){return this.cb.queueFor(t,()=>this.ib(r,t,n,s),this.R(r).providerExtUri)}async ib(r,t,n,s){let o;s instanceof R.$ke?o=s:(0,E.$9d)(s)?o=await(0,R.$we)(s):(0,E.$0d)(s)?o=await(0,R.$xe)(s):o=(0,R.$ue)(s),await r.writeFile(t,o.buffer,{create:!0,overwrite:!0,unlock:n?.unlock??!1,atomic:n?.atomic??!1})}async jb(r,t,n,s){return this.cb.queueFor(s,()=>this.kb(r,t,n,s),this.R(n).providerExtUri)}async kb(r,t,n,s){let o,c;try{o=await r.open(t,{create:!1}),c=await n.open(s,{create:!0,unlock:!1});const I=R.$ke.alloc(this.a);let O=0,y=0,D=0;do D=await r.read(o,O,I.buffer,y,I.byteLength-y),await this.gb(n,c,I,D,O,y),O+=D,y+=D,y===I.byteLength&&(y=0);while(D>0)}catch(I){throw(0,$.$Fk)(I)}finally{await j.Promises.settled([typeof o=="number"?r.close(o):Promise.resolve(),typeof c=="number"?n.close(c):Promise.resolve()])}}async lb(r,t,n,s){return this.cb.queueFor(s,()=>this.mb(r,t,n,s),this.R(n).providerExtUri)}async mb(r,t,n,s){return n.writeFile(s,await r.readFile(t),{create:!0,overwrite:!0,unlock:!1,atomic:!1})}async nb(r,t,n,s){return this.cb.queueFor(s,()=>this.ob(r,t,n,s),this.R(n).providerExtUri)}async ob(r,t,n,s){const o=await n.open(s,{create:!0,unlock:!1});try{const c=await r.readFile(t);await this.gb(n,o,R.$ke.wrap(c),c.byteLength,0,0)}catch(c){throw(0,$.$Fk)(c)}finally{await n.close(o)}}async pb(r,t,n,s){const o=await(0,R.$we)(this.H(r,t,N.CancellationToken.None));await this.hb(n,s,void 0,o)}qb(r,t){if(r.capabilities&2048)throw new $.$Mk((0,S.localize)(25,null,this.sb(t)),6);return r}rb(r,t){if((t.permissions??0)&$.FilePermission.Readonly)throw new $.$Mk((0,S.localize)(26,null,this.sb(r)),6)}sb(r){return r.scheme===b.Schemas.file?r.fsPath:r.toString(!0)}};e.$dq=g,e.$dq=g=u=me([se(0,w.$oj)],g)}),define(ie[128],ne([0,1,90,171,9,31,14,6,172,2,16,12,17,46,24,104,13,60,125,34,123,122]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Cq=void 0,(()=>{try{(0,j.gracefulify)(L)}catch(r){console.error(`Error enabling graceful-fs: ${(0,p.$Ri)(r)}`)}})();class i extends w.$mq{static{this.I=!1}constructor(t,n){super(t,n),this.onDidChangeCapabilities=k.Event.None,this.N=new N.$Ac(s=>m.$zg.getComparisonKey(s)),this.U=new Map,this.W=new Map,this.X=new Map}get capabilities(){return this.J||(this.J=253982,b.$k&&(this.J|=1024)),this.J}async stat(t){try{const{stat:n,symbolicLink:s}=await E.SymlinkSupport.stat(this.H(t));return{type:this.M(n,s),ctime:n.birthtime.getTime(),mtime:n.mtime.getTime(),size:n.size,permissions:n.mode&128?void 0:$.FilePermission.Locked}}catch(n){throw this.fb(n)}}async L(t){try{return await this.stat(t)}catch{return}}async readdir(t){try{const n=await E.Promises.readdir(this.H(t),{withFileTypes:!0}),s=[];return await Promise.all(n.map(async o=>{try{let c;o.isSymbolicLink()?c=(await this.stat((0,m.$Ig)(t,o.name))).type:c=this.M(o),s.push([o.name,c])}catch(c){this.a.trace(c)}})),s}catch(n){throw this.fb(n)}}M(t,n){let s;return n?.dangling?s=$.FileType.Unknown:t.isFile()?s=$.FileType.File:t.isDirectory()?s=$.FileType.Directory:s=$.FileType.Unknown,n&&(s|=$.FileType.SymbolicLink),s}async O(t){const n=this.H(t);this.P(`[Disk FileSystemProvider]: createResourceLock() - request to acquire resource lock (${n})`);let s;for(;s=this.N.get(t);)this.P(`[Disk FileSystemProvider]: createResourceLock() - waiting for resource lock to be released (${n})`),await s.wait();const o=new R.$6g;return this.N.set(t,o),this.P(`[Disk FileSystemProvider]: createResourceLock() - new resource lock created (${n})`),(0,a.$Rc)(()=>{this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock dispose() (${n})`),this.N.get(t)===o&&(this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock removed from resource-lock map (${n})`),this.N.delete(t)),this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock barrier open() (${n})`),o.open()})}async readFile(t,n){let s;try{n?.atomic&&(this.P(`[Disk FileSystemProvider]: atomic read operation started (${this.H(t)})`),s=await this.O(t));const o=this.H(t);return await E.Promises.readFile(o)}catch(o){throw this.fb(o)}finally{s?.dispose()}}P(t){i.I&&this.a.trace(t)}readFileStream(t,n,s){const o=(0,f.$$d)(c=>A.$ke.concat(c.map(I=>A.$ke.wrap(I))).buffer);return(0,l.$cq)(this,t,o,c=>c.buffer,{...n,bufferSize:256*1024},s),o}async writeFile(t,n,s){return s?.atomic!==!1&&s?.atomic?.postfix&&await this.Q(t)?this.R(t,(0,m.$Ig)((0,m.$Hg)(t),`${(0,m.$Fg)(t)}${s.atomic.postfix}`),n,s):this.S(t,n,s)}async Q(t){try{const n=this.H(t),{symbolicLink:s}=await E.SymlinkSupport.stat(n);if(s)return!1}catch{}return!0}async R(t,n,s,o){const c=new a.$Sc;try{c.add(await this.O(t)),c.add(await this.O(n)),await this.S(n,s,o,!0);try{await this.rename(n,t,{overwrite:!0})}catch(I){try{await this.delete(n,{recursive:!1,useTrash:!1,atomic:!1})}catch{}throw I}}finally{c.dispose()}}async S(t,n,s,o){let c;try{const I=this.H(t);if(!s.create||!s.overwrite){if(await E.Promises.exists(I)){if(!s.overwrite)throw(0,$.$Ek)((0,S.localize)(0,null),$.FileSystemProviderErrorCode.FileExists)}else if(!s.create)throw(0,$.$Ek)((0,S.localize)(1,null),$.FileSystemProviderErrorCode.FileNotFound)}c=await this.open(t,{create:!0,unlock:s.unlock},o),await this.write(c,0,n,0,n.byteLength)}catch(I){throw await this.gb(t,I)}finally{typeof c=="number"&&await this.close(c)}}static{this.Y=!0}static configureFlushOnWrite(t){i.Y=t}async open(t,n,s){const o=this.H(t);let c;(0,$.$sk)(n)&&!s&&(c=await this.O(t));let I;try{if((0,$.$sk)(n)&&n.unlock)try{const{stat:y}=await E.SymlinkSupport.stat(o);y.mode&128||await E.Promises.chmod(o,y.mode|128)}catch(y){y.code!=="ENOENT"&&this.a.trace(y)}let O;if((0,$.$sk)(n)){if(b.$i)try{await E.Promises.truncate(o,0),O="r+"}catch(y){y.code!=="ENOENT"&&this.a.trace(y)}O||(O="w")}else O="r";I=await E.Promises.open(o,O)}catch(O){throw c?.dispose(),(0,$.$sk)(n)?await this.gb(t,O):this.fb(O)}if(this.U.set(I,0),(0,$.$sk)(n)&&this.X.set(I,t),c){const O=this.W.get(I);this.P(`[Disk FileSystemProvider]: open() - storing lock for handle ${I} (${o})`),this.W.set(I,c),O&&(this.P(`[Disk FileSystemProvider]: open() - disposing a previous lock that was still stored on same handle ${I} (${o})`),O.dispose())}return I}async close(t){const n=this.W.get(t);try{if(this.U.delete(t),this.X.delete(t)&&i.Y)try{await E.Promises.fdatasync(t)}catch(s){i.configureFlushOnWrite(!1),this.a.error(s)}return await E.Promises.close(t)}catch(s){throw this.fb(s)}finally{n&&(this.W.get(t)===n&&(this.P(`[Disk FileSystemProvider]: close() - resource lock removed from handle-lock map ${t}`),this.W.delete(t)),this.P(`[Disk FileSystemProvider]: close() - disposing lock for handle ${t}`),n.dispose())}}async read(t,n,s,o,c){const I=this.Z(t,n);let O=null;try{O=(await E.Promises.read(t,s,o,c,I)).bytesRead}catch(y){throw this.fb(y)}finally{this.$(t,I,O)}return O}Z(t,n){return n===this.U.get(t)?null:n}$(t,n,s){const o=this.U.get(t);typeof o=="number"&&(typeof n=="number"||(typeof s=="number"?this.U.set(t,o+s):this.U.delete(t)))}async write(t,n,s,o,c){return(0,R.$oh)(()=>this.ab(t,n,s,o,c),100,3)}async ab(t,n,s,o,c){const I=this.Z(t,n);let O=null;try{O=(await E.Promises.write(t,s,o,c,I)).bytesWritten}catch(y){throw await this.gb(this.X.get(t),y)}finally{this.$(t,I,O)}return O}async mkdir(t){try{await E.Promises.mkdir(this.H(t))}catch(n){throw this.fb(n)}}async delete(t,n){try{const s=this.H(t);if(n.recursive){let o;n?.atomic!==!1&&n.atomic.postfix&&(o=(0,v.$jc)((0,v.$mc)(s),`${(0,v.$nc)(s)}${n.atomic.postfix}`)),await E.Promises.rm(s,E.RimRafMode.MOVE,o)}else try{await E.Promises.unlink(s)}catch(o){if(o.code==="EPERM"||o.code==="EISDIR"){let c=!1;try{const{stat:I,symbolicLink:O}=await E.SymlinkSupport.stat(s);c=I.isDirectory()&&!O}catch{}if(c)await E.Promises.rmdir(s);else throw o}else throw o}}catch(s){throw this.fb(s)}}async rename(t,n,s){const o=this.H(t),c=this.H(n);if(o!==c)try{await this.bb(t,n,"move",s.overwrite),await E.Promises.rename(o,c)}catch(I){throw(I.code==="EINVAL"||I.code==="EBUSY"||I.code==="ENAMETOOLONG")&&(I=new Error((0,S.localize)(2,null,(0,v.$nc)(o),(0,v.$nc)((0,v.$mc)(c)),I.toString()))),this.fb(I)}}async copy(t,n,s){const o=this.H(t),c=this.H(n);if(o!==c)try{await this.bb(t,n,"copy",s.overwrite),await E.Promises.copy(o,c,{preserveSymlinks:!0})}catch(I){throw(I.code==="EINVAL"||I.code==="EBUSY"||I.code==="ENAMETOOLONG")&&(I=new Error((0,S.localize)(3,null,(0,v.$nc)(o),(0,v.$nc)((0,v.$mc)(c)),I.toString()))),this.fb(I)}}async bb(t,n,s,o){const c=this.H(t),I=this.H(n);let O=!1;if(!!(this.capabilities&1024)||(O=(0,h.$8f)(c,I,!0)),O){if(s==="copy")throw(0,$.$Ek)((0,S.localize)(4,null),$.FileSystemProviderErrorCode.FileExists);if(s==="move")return}const D=await this.L(t);if(!D)throw(0,$.$Ek)((0,S.localize)(5,null),$.FileSystemProviderErrorCode.FileNotFound);const W=await this.L(n);if(W){if(!o)throw(0,$.$Ek)((0,S.localize)(6,null),$.FileSystemProviderErrorCode.FileExists);D.type&$.FileType.File&&W.type&$.FileType.File||await this.delete(n,{recursive:!0,useTrash:!1,atomic:!1})}}async cloneFile(t,n){return this.cb(t,n,!1)}async cb(t,n,s){const o=this.H(t),c=this.H(n),I=!!(this.capabilities&1024);if((0,h.$8f)(o,c,!I))return;const O=new a.$Sc;try{O.add(await this.O(t)),O.add(await this.O(n)),s&&await E.Promises.mkdir((0,v.$mc)(c),{recursive:!0}),await E.Promises.copyFile(o,c)}catch(y){if(y.code==="ENOENT"&&!s)return this.cb(t,n,!0);throw this.fb(y)}finally{O.dispose()}}t(t,n,s){return new u.$tq(o=>t(o),o=>n(o),s)}F(t,n,s){return new g.$Bq(o=>t(o),o=>n(o),s)}fb(t){if(t instanceof $.$Dk)return t;let n=t,s;switch(t.code){case"ENOENT":s=$.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":s=$.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":s=$.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":s=$.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":s=$.FileSystemProviderErrorCode.NoPermissions;break;case"ERR_UNC_HOST_NOT_ALLOWED":n=`${t.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`,s=$.FileSystemProviderErrorCode.Unknown;break;default:s=$.FileSystemProviderErrorCode.Unknown}return(0,$.$Ek)(n,s)}async gb(t,n){let s=this.fb(n);if(t&&s.code===$.FileSystemProviderErrorCode.NoPermissions)try{const{stat:o}=await E.SymlinkSupport.stat(this.H(t));o.mode&128||(s=(0,$.$Ek)(n,$.FileSystemProviderErrorCode.FileWriteLocked))}catch(o){this.a.trace(o)}return s}}e.$Cq=i}),define(ie[129],ne([0,1,2,4]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$HO=void 0;class R extends L.$Tc{constructor(A,k=[]){super(),this.a=new j.$yj([A,...k]),this.B(A.onDidChangeLogLevel(h=>this.setLevel(h)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(A){this.a.setLevel(A)}getLevel(){return this.a.getLevel()}trace(A,...k){this.a.trace(A,...k)}debug(A,...k){this.a.debug(A,...k)}info(A,...k){this.a.info(A,...k)}warn(A,...k){this.a.warn(A,...k)}error(A,...k){this.a.error(A,...k)}flush(){this.a.flush()}}e.$HO=R}),define(ie[130],ne([0,1,13,4]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wO=void 0;var R;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warning=3]="Warning",a[a.Error=4]="Error",a[a.Critical=5]="Critical",a[a.Off=6]="Off"})(R||(R={}));async function N(a,v,b,m,f){try{const E=await new Promise(($,l)=>{J(["@vscode/spdlog"],$,l)});E.setFlushOn(R.Trace);const S=await E.createAsyncRotatingLogger(a,v,b,m);return f?S.clearFormatters():S.setPattern("%Y-%m-%d %H:%M:%S.%e [%l] %v"),S}catch(E){console.error(E)}return null}function A(a,v,b){switch(v){case j.LogLevel.Trace:a.trace(b);break;case j.LogLevel.Debug:a.debug(b);break;case j.LogLevel.Info:a.info(b);break;case j.LogLevel.Warning:a.warn(b);break;case j.LogLevel.Error:a.error(b);break;case j.LogLevel.Off:break;default:throw new Error(`Invalid log level ${v}`)}}function k(a,v){switch(v){case j.LogLevel.Trace:a.setLevel(R.Trace);break;case j.LogLevel.Debug:a.setLevel(R.Debug);break;case j.LogLevel.Info:a.setLevel(R.Info);break;case j.LogLevel.Warning:a.setLevel(R.Warning);break;case j.LogLevel.Error:a.setLevel(R.Error);break;case j.LogLevel.Off:a.setLevel(R.Off);break;default:throw new Error(`Invalid log level ${v}`)}}class h extends j.$uj{constructor(v,b,m,f,E){super(),this.m=[],this.setLevel(E),this.n=this.s(v,b,m,f),this.B(this.onDidChangeLogLevel(S=>{this.r&&k(this.r,S)}))}async s(v,b,m,f){const E=m?6:1,S=30/E*L.$Zk.MB,$=await N(v,b,S,E,f);if($){this.r=$,k(this.r,this.getLevel());for(const{level:l,message:w}of this.m)A(this.r,l,w);this.m=[]}}g(v,b){this.r?A(this.r,v,b):this.getLevel()<=v&&this.m.push({level:v,message:b})}flush(){this.r?this.r.flush():this.n.then(()=>this.flush())}dispose(){this.r?this.u():this.n.then(()=>this.u()),super.dispose()}u(){this.r&&(this.r.drop(),this.r=void 0)}}e.$wO=h}),define(ie[131],ne([0,1,28,4,130]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xO=void 0;class N extends j.$zj{s(k,h,a){return new R.$wO((0,L.$rg)(),k.fsPath,!a?.donotRotate,!!a?.donotUseFormatters,h)}}e.$xO=N}),define(ie[39],ne([0,1,6,65,2,10]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Mn=e.$Ln=e.$Kn=void 0,e.$Kn=(0,N.$7h)("policy");class A extends R.$Tc{constructor(){super(...arguments),this.f={},this.g=new Map,this.h=this.B(new L.$Wd),this.onDidChange=this.h.event}async updatePolicyDefinitions(a){const v=Object.keys(this.f).length;return this.f={...a,...this.f},v!==Object.keys(this.f).length&&await this.j(a),j.Iterable.reduce(this.g.entries(),(b,[m,f])=>({...b,[m]:f}),{})}getPolicyValue(a){return this.g.get(a)}serialize(){return j.Iterable.reduce(Object.entries(this.f),(a,[v,b])=>({...a,[v]:{definition:b,value:this.g.get(v)}}),{})}}e.$Ln=A;class k{constructor(){this.onDidChange=L.Event.None}async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}}e.$Mn=k}),define(ie[132],ne([0,1,9,6,65,3,13,4,39]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$S_b=void 0;function a(b,m){const f=[];for(const E of new Set(R.Iterable.concat(b.keys(),m.keys())))b.get(E)!==m.get(E)&&f.push(E);return f}let v=class extends h.$Ln{constructor(m,f,E){super(),this.m=m,this.n=f,this.s=E,this.c=this.B(new L.$5g(500));const S=j.Event.filter(f.onDidFilesChange,$=>$.affects(m));this.B(f.watch(m)),this.B(S(()=>this.c.trigger(()=>this.w())))}async j(){await this.w()}async u(){const m=new Map;try{const f=await this.n.readFile(this.m),E=JSON.parse(f.value.toString());if(!(0,N.$Lf)(E))throw new Error("Policy file isn't a JSON object");for(const S of Object.keys(E))this.f[S]&&m.set(S,E[S])}catch(f){f.fileOperationResult!==1&&this.s.error("[FilePolicyService] Failed to read policies",f)}return m}async w(){const m=await this.u(),f=a(this.g,m);this.g=m,f.length>0&&this.h.fire(f)}};e.$S_b=v,e.$S_b=v=me([se(1,A.$rk),se(2,k.$oj)],v)}),define(ie[133],ne([0,1,39,9,2,4]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$R_b=void 0;let A=class extends L.$Ln{constructor(h,a){super(),this.m=h,this.n=a,this.a=new j.$1g,this.b=this.B(new R.$Uc)}async j(h){this.m.trace(`NativePolicyService#_updatePolicyDefinitions - Found ${Object.keys(h).length} policy definitions`);const{createWatcher:a}=await new Promise((v,b)=>{J(["@vscode/policy-watcher"],v,b)});await this.a.queue(()=>new Promise((v,b)=>{try{this.b.value=a(this.n,h,m=>{this.t(m),v()})}catch(m){this.m.error("NativePolicyService#_updatePolicyDefinitions - Error creating watcher:",m),b(m)}}))}t(h){this.m.trace(`NativePolicyService#_onDidPolicyChange - Updated policy values: ${JSON.stringify(h)}`);for(const a in h){const v=h[a];v===void 0?this.g.delete(a):this.g.set(a,v)}this.h.fire(Object.keys(h))}};e.$R_b=A,e.$R_b=A=me([se(0,N.$oj)],A)}),define(ie[32],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Hj=e.$Gj=void 0,e.$Gj=(0,L.$7h)("productService"),e.$Hj="vscode://schemas/vscode-product"}),define(ie[36],ne([0,1,71,3]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$In=void 0;class R{constructor(){this.a=new Map}add(A,k){L.ok(j.$Jf(A)),L.ok(j.$Lf(k)),L.ok(!this.a.has(A),"There is already an extension with this id"),this.a.set(A,k)}knows(A){return this.a.has(A)}as(A){return this.a.get(A)||null}}e.$In=new R}),define(ie[134],ne([0,1,6,36]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jn=void 0,e.$Jn={JSONContribution:"base.contributions.json"};function R(k){return k.length>0&&k.charAt(k.length-1)==="#"?k.substring(0,k.length-1):k}class N{constructor(){this.b=new L.$Wd,this.onDidChangeSchema=this.b.event,this.a={}}registerSchema(h,a){this.a[R(h)]=a,this.b.fire(h)}notifySchemaChanged(h){this.b.fire(h)}getSchemaContributions(){return{schemas:this.a}}}const A=new N;j.$In.add(e.$Jn.JSONContribution,A)}),define(ie[40],ne([0,1,19,6,3,91,29,134,36]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3n=e.$2n=e.$1n=e.$Zn=e.$Yn=e.$Xn=e.$Wn=e.$Vn=e.$Un=e.$Tn=e.$Sn=e.$Rn=e.$Qn=e.$Pn=e.$On=e.ConfigurationScope=e.$Nn=e.EditPresentationTypes=void 0;var a;(function(g){g.Multiline="multilineText",g.Singleline="singlelineText"})(a||(e.EditPresentationTypes=a={})),e.$Nn={Configuration:"base.contributions.configuration"};var v;(function(g){g[g.APPLICATION=1]="APPLICATION",g[g.MACHINE=2]="MACHINE",g[g.WINDOW=3]="WINDOW",g[g.RESOURCE=4]="RESOURCE",g[g.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",g[g.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(v||(e.ConfigurationScope=v={})),e.$On={properties:{},patternProperties:{}},e.$Pn={properties:{},patternProperties:{}},e.$Qn={properties:{},patternProperties:{}},e.$Rn={properties:{},patternProperties:{}},e.$Sn={properties:{},patternProperties:{}},e.$Tn={properties:{},patternProperties:{}},e.$Un="vscode://schemas/settings/resourceLanguage",e.$Vn="vscode://schemas/settings/configurationDefaults";const b=h.$In.as(k.$Jn.JSONContribution);class m{constructor(){this.h=new Set,this.i=new j.$Wd,this.onDidSchemaChange=this.i.event,this.j=new j.$Wd,this.onDidUpdateConfiguration=this.j.event,this.a=new Map,this.b={id:"defaultOverrides",title:N.localize(0,null),properties:{}},this.c=[this.b],this.g={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.d={},this.e=new Map,this.f={},b.registerSchema(e.$Un,this.g),this.v()}registerConfiguration(i,r=!0){this.registerConfigurations([i],r)}registerConfigurations(i,r=!0){const t=new Set;this.n(i,r,t),b.registerSchema(e.$Un,this.g),this.i.fire(),this.j.fire({properties:t})}deregisterConfigurations(i){const r=new Set;this.o(i,r),b.registerSchema(e.$Un,this.g),this.i.fire(),this.j.fire({properties:r})}updateConfigurations({add:i,remove:r}){const t=new Set;this.o(r,t),this.n(i,!1,t),b.registerSchema(e.$Un,this.g),this.i.fire(),this.j.fire({properties:t})}registerDefaultConfigurations(i){const r=new Set;this.k(i,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}k(i,r){const t=[];for(const{overrides:n,source:s}of i)for(const o in n)if(r.add(o),e.$Xn.test(o)){const c=this.a.get(o),I=c?.valuesSources??new Map;if(s)for(const W of Object.keys(n[o]))I.set(W,s);const O={...c?.value||{},...n[o]};this.a.set(o,{source:s,value:O,valuesSources:I});const y=(0,A.$Ki)(o),D={type:"object",default:O,description:N.localize(1,null,y),$ref:e.$Un,defaultDefaultValue:O,source:R.$Jf(s)?void 0:s,defaultValueSource:s};t.push(...S(o)),this.d[o]=D,this.b.properties[o]=D}else{this.a.set(o,{value:n[o],source:s});const c=this.d[o];c&&(this.w(o,c),this.r(o,c))}this.m(t)}deregisterDefaultConfigurations(i){const r=new Set;this.l(i,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}l(i,r){for(const{overrides:t,source:n}of i)for(const s in t){const o=this.a.get(s),c=R.$Jf(n)?n:n?.id,I=R.$Jf(o?.source)?o?.source:o?.source?.id;if(c===I)if(r.add(s),this.a.delete(s),e.$Xn.test(s))delete this.d[s],delete this.b.properties[s];else{const O=this.d[s];O&&(this.w(s,O),this.r(s,O))}}this.u()}deltaConfiguration(i){let r=!1;const t=new Set;i.removedDefaults&&(this.l(i.removedDefaults,t),r=!0),i.addedDefaults&&(this.k(i.addedDefaults,t),r=!0),i.removedConfigurations&&this.o(i.removedConfigurations,t),i.addedConfigurations&&this.n(i.addedConfigurations,!1,t),this.i.fire(),this.j.fire({properties:t,defaultsOverrides:r})}notifyConfigurationSchemaUpdated(...i){this.i.fire()}registerOverrideIdentifiers(i){this.m(i),this.i.fire()}m(i){for(const r of i)this.h.add(r);this.u()}n(i,r,t){i.forEach(n=>{this.p(n,r,n.extensionInfo,n.restrictedProperties,void 0,t),this.c.push(n),this.q(n)})}o(i,r){const t=n=>{if(n.properties)for(const s in n.properties){r.add(s);const o=this.d[s];o?.policy?.name&&this.e.delete(o.policy.name),delete this.d[s],this.s(s,n.properties[s])}n.allOf?.forEach(s=>t(s))};for(const n of i){t(n);const s=this.c.indexOf(n);s!==-1&&this.c.splice(s,1)}}p(i,r=!0,t,n,s=3,o){s=R.$Sf(i.scope)?s:i.scope;const c=i.properties;if(c)for(const O in c){const y=c[O];if(r&&p(O,y)){delete c[O];continue}if(y.source=t,y.defaultDefaultValue=c[O].default,this.w(O,y),e.$Xn.test(O)?y.scope=void 0:(y.scope=R.$Sf(y.scope)?s:y.scope,y.restricted=R.$Sf(y.restricted)?!!n?.includes(O):y.restricted),c[O].hasOwnProperty("included")&&!c[O].included){this.f[O]=c[O],delete c[O];continue}else this.d[O]=c[O],c[O].policy?.name&&this.e.set(c[O].policy.name,O);!c[O].deprecationMessage&&c[O].markdownDeprecationMessage&&(c[O].deprecationMessage=c[O].markdownDeprecationMessage),o.add(O)}const I=i.allOf;if(I)for(const O of I)this.p(O,r,t,n,s,o)}getConfigurations(){return this.c}getConfigurationProperties(){return this.d}getPolicyConfigurations(){return this.e}getExcludedConfigurationProperties(){return this.f}getConfigurationDefaultsOverrides(){return this.a}q(i){const r=t=>{const n=t.properties;if(n)for(const o in n)this.r(o,n[o]);t.allOf?.forEach(r)};r(i)}r(i,r){switch(e.$On.properties[i]=r,r.scope){case 1:e.$Pn.properties[i]=r;break;case 2:e.$Qn.properties[i]=r;break;case 6:e.$Rn.properties[i]=r;break;case 3:e.$Sn.properties[i]=r;break;case 4:e.$Tn.properties[i]=r;break;case 5:e.$Tn.properties[i]=r,this.g.properties[i]=r;break}}s(i,r){switch(delete e.$On.properties[i],r.scope){case 1:delete e.$Pn.properties[i];break;case 2:delete e.$Qn.properties[i];break;case 6:delete e.$Rn.properties[i];break;case 3:delete e.$Sn.properties[i];break;case 4:case 5:delete e.$Tn.properties[i],delete this.g.properties[i];break}}u(){for(const i of this.h.values()){const r=`[${i}]`,t={type:"object",description:N.localize(2,null),errorMessage:N.localize(3,null),$ref:e.$Un};this.w(r,t),e.$On.properties[r]=t,e.$Pn.properties[r]=t,e.$Qn.properties[r]=t,e.$Rn.properties[r]=t,e.$Sn.properties[r]=t,e.$Tn.properties[r]=t}}v(){const i={type:"object",description:N.localize(4,null),errorMessage:N.localize(5,null),$ref:e.$Un};e.$On.patternProperties[e.$Wn]=i,e.$Pn.patternProperties[e.$Wn]=i,e.$Qn.patternProperties[e.$Wn]=i,e.$Rn.patternProperties[e.$Wn]=i,e.$Sn.patternProperties[e.$Wn]=i,e.$Tn.patternProperties[e.$Wn]=i,this.i.fire()}w(i,r){const t=this.a.get(i);let n=t?.value,s=t?.source;R.$Qf(n)&&(n=r.defaultDefaultValue,s=void 0),R.$Qf(n)&&(n=l(r.type)),r.default=n,r.defaultValueSource=s}}const f="\\[([^\\]]+)\\]",E=new RegExp(f,"g");e.$Wn=`^(${f})+$`,e.$Xn=new RegExp(e.$Wn);function S(g){const i=[];if(e.$Xn.test(g)){let r=E.exec(g);for(;r?.length;){const t=r[1].trim();t&&i.push(t),r=E.exec(g)}}return(0,L.$Mb)(i)}e.$Yn=S;function $(g){return g.reduce((i,r)=>`${i}[${r}]`,"")}e.$Zn=$;function l(g){switch(Array.isArray(g)?g[0]:g){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.$1n=l;const w=new m;h.$In.add(e.$Nn.Configuration,w);function p(g,i){return g.trim()?e.$Xn.test(g)?N.localize(7,null,g):w.getConfigurationProperties()[g]!==void 0?N.localize(8,null,g):i.policy?.name&&w.getPolicyConfigurations().get(i.policy?.name)!==void 0?N.localize(9,null,g,i.policy?.name,w.getPolicyConfigurations().get(i.policy?.name)):null:N.localize(6,null)}e.$2n=p;function u(){const g=[],i=w.getConfigurationProperties();for(const r of Object.keys(i))g.push([r,i[r].scope]);return g.push(["launch",4]),g.push(["task",4]),g}e.$3n=u}),define(ie[66],ne([0,1,19,6,38,2,31,27,3,11,29,40,36]),function(J,e,L,j,R,N,A,k,h,a,v,b,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9n=e.$8n=e.$7n=e.$6n=e.$5n=e.$4n=void 0;function f(r){return Object.isFrozen(r)?r:k.$xn(r)}class E{constructor(t={},n=[],s=[],o){this.b=t,this.c=n,this.d=s,this.raw=o,this.a=new Map}get rawConfiguration(){if(!this.f)if(this.raw?.length){const t=this.raw.map(n=>{if(n instanceof E)return n;const s=new S("");return s.parseRaw(n),s.configurationModel});this.f=t.reduce((n,s)=>s===n?s:n.merge(s),t[0])}else this.f=this;return this.f}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(t){return t?(0,v.$Ii)(this.contents,t):this.contents}inspect(t,n){const s=this.rawConfiguration.getValue(t),o=n?this.rawConfiguration.getOverrideValue(t,n):void 0,c=n?this.rawConfiguration.override(n).getValue(t):s;return{value:s,override:o,merged:c}}getOverrideValue(t,n){const s=this.i(n);return s?t?(0,v.$Ii)(s,t):s:void 0}getKeysForOverrideIdentifier(t){const n=[];for(const s of this.overrides)s.identifiers.includes(t)&&n.push(...s.keys);return L.$Mb(n)}getAllOverrideIdentifiers(){const t=[];for(const n of this.overrides)t.push(...n.identifiers);return L.$Mb(t)}override(t){let n=this.a.get(t);return n||(n=this.g(t),this.a.set(t,n)),n}merge(...t){const n=k.$wn(this.contents),s=k.$wn(this.overrides),o=[...this.keys],c=this.raw?.length?[...this.raw]:[this];for(const I of t)if(c.push(...I.raw?.length?I.raw:[I]),!I.isEmpty()){this.h(n,I.contents);for(const O of I.overrides){const[y]=s.filter(D=>L.$ub(D.identifiers,O.identifiers));y?(this.h(y.contents,O.contents),y.keys.push(...O.keys),y.keys=L.$Mb(y.keys)):s.push(k.$wn(O))}for(const O of I.keys)o.indexOf(O)===-1&&o.push(O)}return new E(n,o,s,c.every(I=>I instanceof E)?void 0:c)}g(t){const n=this.i(t);if(!n||typeof n!="object"||!Object.keys(n).length)return this;const s={};for(const o of L.$Mb([...Object.keys(this.contents),...Object.keys(n)])){let c=this.contents[o];const I=n[o];I&&(typeof c=="object"&&typeof I=="object"?(c=k.$wn(c),this.h(c,I)):c=I),s[o]=c}return new E(s,this.keys,this.overrides)}h(t,n){for(const s of Object.keys(n)){if(s in t&&h.$Lf(t[s])&&h.$Lf(n[s])){this.h(t[s],n[s]);continue}t[s]=k.$wn(n[s])}}i(t){let n=null,s=null;const o=c=>{c&&(s?this.h(s,c):s=k.$wn(c))};for(const c of this.overrides)c.identifiers.length===1&&c.identifiers[0]===t?n=c.contents:c.identifiers.includes(t)&&o(c.contents);return o(n),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,n){this.j(t,n,!0)}setValue(t,n){this.j(t,n,!1)}removeValue(t){const n=this.keys.indexOf(t);n!==-1&&(this.keys.splice(n,1),(0,v.$Hi)(this.contents,t),b.$Xn.test(t)&&this.overrides.splice(this.overrides.findIndex(s=>L.$ub(s.identifiers,(0,b.$Yn)(t))),1))}j(t,n,s){(0,v.$Gi)(this.contents,t,n,o=>console.error(o)),s=s||this.keys.indexOf(t)===-1,s&&this.keys.push(t),b.$Xn.test(t)&&this.overrides.push({identifiers:(0,b.$Yn)(t),keys:Object.keys(this.contents[t]),contents:(0,v.$Fi)(this.contents[t],o=>console.error(o))})}}e.$4n=E;class S{constructor(t){this.f=t,this.a=null,this.b=null,this.c=[],this.d=[]}get configurationModel(){return this.b||new E}get restrictedConfigurations(){return this.c}get errors(){return this.d}parse(t,n){if(!h.$Sf(t)){const s=this.g(t);this.parseRaw(s,n)}}reparse(t){this.a&&this.parseRaw(this.a,t)}parseRaw(t,n){this.a=t;const{contents:s,keys:o,overrides:c,restricted:I,hasExcludedProperties:O}=this.h(t,n);this.b=new E(s,o,c,O?[t]:void 0),this.c=I||[]}g(t){let n={},s=null,o=[];const c=[],I=[];function O(D){Array.isArray(o)?o.push(D):s!==null&&(o[s]=D)}const y={onObjectBegin:()=>{const D={};O(D),c.push(o),o=D,s=null},onObjectProperty:D=>{s=D},onObjectEnd:()=>{o=c.pop()},onArrayBegin:()=>{const D=[];O(D),c.push(o),o=D,s=null},onArrayEnd:()=>{o=c.pop()},onLiteralValue:O,onError:(D,W,te)=>{I.push({error:D,offset:W,length:te})}};if(t)try{R.$kn(t,y),n=o[0]||{}}catch(D){console.error(`Error while parsing settings file ${this.f}: ${D}`),this.d=[D]}return n}h(t,n){const s=m.$In.as(b.$Nn.Configuration).getConfigurationProperties(),o=this.i(t,s,!0,n);t=o.raw;const c=(0,v.$Fi)(t,y=>console.error(`Conflict in settings file ${this.f}: ${y}`)),I=Object.keys(t),O=this.j(t,y=>console.error(`Conflict in settings file ${this.f}: ${y}`));return{contents:c,keys:I,overrides:O,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}i(t,n,s,o){let c=!1;if(!o?.scopes&&!o?.skipRestricted&&!o?.exclude?.length)return{raw:t,restricted:[],hasExcludedProperties:c};const I={},O=[];for(const y in t)if(b.$Xn.test(y)&&s){const D=this.i(t[y],n,!1,o);I[y]=D.raw,c=c||D.hasExcludedProperties,O.push(...D.restricted)}else{const D=n[y],W=D?typeof D.scope<"u"?D.scope:3:void 0;D?.restricted&&O.push(y),!o.exclude?.includes(y)&&(o.include?.includes(y)||(W===void 0||o.scopes===void 0||o.scopes.includes(W))&&!(o.skipRestricted&&D?.restricted))?I[y]=t[y]:c=!0}return{raw:I,restricted:O,hasExcludedProperties:c}}j(t,n){const s=[];for(const o of Object.keys(t))if(b.$Xn.test(o)){const c={};for(const I in t[o])c[I]=t[o][I];s.push({identifiers:(0,b.$Yn)(o),keys:Object.keys(c),contents:(0,v.$Fi)(c,n)})}return s}}e.$5n=S;class $ extends N.$Tc{constructor(t,n,s,o){super(),this.c=t,this.f=n,this.g=o,this.b=this.B(new j.$Wd),this.onDidChange=this.b.event,this.a=new S(this.c.toString()),this.B(this.g.watch(s.dirname(this.c))),this.B(this.g.watch(this.c)),this.B(j.Event.any(j.Event.filter(this.g.onDidFilesChange,c=>c.contains(this.c)),j.Event.filter(this.g.onDidRunOperation,c=>(c.isOperation(0)||c.isOperation(3)||c.isOperation(1)||c.isOperation(4))&&s.isEqual(c.resource,t)))(()=>this.b.fire()))}async loadConfiguration(){try{const t=await this.g.readFile(this.c);return this.a.parse(t.value.toString()||"{}",this.f),this.a.configurationModel}catch{return new E}}reparse(t){return t&&(this.f=t),this.a.reparse(this.f),this.a.configurationModel}getRestrictedSettings(){return this.a.restrictedConfigurations}}e.$6n=$;class l{constructor(t,n,s,o,c,I,O,y,D,W,te,_,oe){this.a=t,this.b=n,this.c=s,this.overrideIdentifiers=o,this.d=c,this.f=I,this.g=O,this.h=y,this.i=D,this.j=W,this.k=te,this.l=_,this.m=oe}get value(){return f(this.c)}n(t,n,s){const o=t.inspect(n,s);return{get value(){return f(o.value)},get override(){return f(o.override)},get merged(){return f(o.merged)}}}get q(){return this.p||(this.p=this.n(this.d,this.a,this.b.overrideIdentifier)),this.p}get defaultValue(){return this.q.merged}get default(){return this.q.value!==void 0||this.q.override!==void 0?{value:this.q.value,override:this.q.override}:void 0}get s(){return this.r===void 0&&(this.r=this.f?this.n(this.f,this.a):null),this.r}get policyValue(){return this.s?.merged}get policy(){return this.s?.value!==void 0?{value:this.s.value}:void 0}get u(){return this.t===void 0&&(this.t=this.g?this.n(this.g,this.a):null),this.t}get applicationValue(){return this.u?.merged}get application(){return this.u?.value!==void 0||this.u?.override!==void 0?{value:this.u.value,override:this.u.override}:void 0}get w(){return this.v||(this.v=this.n(this.h,this.a,this.b.overrideIdentifier)),this.v}get userValue(){return this.w.merged}get user(){return this.w.value!==void 0||this.w.override!==void 0?{value:this.w.value,override:this.w.override}:void 0}get y(){return this.x||(this.x=this.n(this.i,this.a,this.b.overrideIdentifier)),this.x}get userLocalValue(){return this.y.merged}get userLocal(){return this.y.value!==void 0||this.y.override!==void 0?{value:this.y.value,override:this.y.override}:void 0}get A(){return this.z||(this.z=this.n(this.j,this.a,this.b.overrideIdentifier)),this.z}get userRemoteValue(){return this.A.merged}get userRemote(){return this.A.value!==void 0||this.A.override!==void 0?{value:this.A.value,override:this.A.override}:void 0}get D(){return this.B===void 0&&(this.B=this.k?this.n(this.k,this.a,this.b.overrideIdentifier):null),this.B}get workspaceValue(){return this.D?.merged}get workspace(){return this.D?.value!==void 0||this.D?.override!==void 0?{value:this.D.value,override:this.D.override}:void 0}get F(){return this.E===void 0&&(this.E=this.l?this.n(this.l,this.a,this.b.overrideIdentifier):null),this.E}get workspaceFolderValue(){return this.F?.merged}get workspaceFolder(){return this.F?.value!==void 0||this.F?.override!==void 0?{value:this.F.value,override:this.F.override}:void 0}get H(){return this.G===void 0&&(this.G=this.n(this.m,this.a,this.b.overrideIdentifier)),this.G}get memoryValue(){return this.H.merged}get memory(){return this.H.value!==void 0||this.H.override!==void 0?{value:this.H.value,override:this.H.override}:void 0}}class w{constructor(t,n,s,o,c=new E,I=new E,O=new A.$Ac,y=new E,D=new A.$Ac){this.c=t,this.d=n,this.f=s,this.g=o,this.h=c,this.i=I,this.j=O,this.l=y,this.m=D,this.a=null,this.b=new A.$Ac,this.n=null}getValue(t,n,s){return this.p(t,n,s).getValue(t)}updateValue(t,n,s={}){let o;s.resource?(o=this.m.get(s.resource),o||(o=new E,this.m.set(s.resource,o))):o=this.l,n===void 0?o.removeValue(t):o.setValue(t,n),s.resource||(this.a=null)}inspect(t,n,s){const o=this.p(t,n,s),c=this.t(n.resource,s),I=n.resource?this.m.get(n.resource)||this.l:this.l,O=new Set;for(const y of o.overrides)for(const D of y.identifiers)o.getOverrideValue(t,D)!==void 0&&O.add(D);return new l(t,n,o.getValue(t),O.size?[...O]:void 0,this.c,this.d.isEmpty()?void 0:this.d,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,s?this.i:void 0,c||void 0,I)}keys(t){const n=this.t(void 0,t);return{default:this.c.keys.slice(0),user:this.userConfiguration.keys.slice(0),workspace:this.i.keys.slice(0),workspaceFolder:n?n.keys.slice(0):[]}}updateDefaultConfiguration(t){this.c=t,this.a=null,this.b.clear()}updatePolicyConfiguration(t){this.d=t}updateApplicationConfiguration(t){this.f=t,this.a=null,this.b.clear()}updateLocalUserConfiguration(t){this.g=t,this.n=null,this.a=null,this.b.clear()}updateRemoteUserConfiguration(t){this.h=t,this.n=null,this.a=null,this.b.clear()}updateWorkspaceConfiguration(t){this.i=t,this.a=null,this.b.clear()}updateFolderConfiguration(t,n){this.j.set(t,n),this.b.delete(t)}deleteFolderConfiguration(t){this.folderConfigurations.delete(t),this.b.delete(t)}compareAndUpdateDefaultConfiguration(t,n){const s=[];if(!n){const{added:o,updated:c,removed:I}=g(this.c,t);n=[...o,...c,...I]}for(const o of n)for(const c of(0,b.$Yn)(o)){const I=this.c.getKeysForOverrideIdentifier(c),O=t.getKeysForOverrideIdentifier(c),y=[...O.filter(D=>I.indexOf(D)===-1),...I.filter(D=>O.indexOf(D)===-1),...I.filter(D=>!k.$An(this.c.override(c).getValue(D),t.override(c).getValue(D)))];s.push([c,y])}return this.updateDefaultConfiguration(t),{keys:n,overrides:s}}compareAndUpdatePolicyConfiguration(t){const{added:n,updated:s,removed:o}=g(this.d,t),c=[...n,...s,...o];return c.length&&this.updatePolicyConfiguration(t),{keys:c,overrides:[]}}compareAndUpdateApplicationConfiguration(t){const{added:n,updated:s,removed:o,overrides:c}=g(this.applicationConfiguration,t),I=[...n,...s,...o];return I.length&&this.updateApplicationConfiguration(t),{keys:I,overrides:c}}compareAndUpdateLocalUserConfiguration(t){const{added:n,updated:s,removed:o,overrides:c}=g(this.localUserConfiguration,t),I=[...n,...s,...o];return I.length&&this.updateLocalUserConfiguration(t),{keys:I,overrides:c}}compareAndUpdateRemoteUserConfiguration(t){const{added:n,updated:s,removed:o,overrides:c}=g(this.remoteUserConfiguration,t),I=[...n,...s,...o];return I.length&&this.updateRemoteUserConfiguration(t),{keys:I,overrides:c}}compareAndUpdateWorkspaceConfiguration(t){const{added:n,updated:s,removed:o,overrides:c}=g(this.workspaceConfiguration,t),I=[...n,...s,...o];return I.length&&this.updateWorkspaceConfiguration(t),{keys:I,overrides:c}}compareAndUpdateFolderConfiguration(t,n){const s=this.folderConfigurations.get(t),{added:o,updated:c,removed:I,overrides:O}=g(s,n),y=[...o,...c,...I];return(y.length||!s)&&this.updateFolderConfiguration(t,n),{keys:y,overrides:O}}compareAndDeleteFolderConfiguration(t){const n=this.folderConfigurations.get(t);if(!n)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:s,updated:o,removed:c,overrides:I}=g(n,void 0);return{keys:[...s,...o,...c],overrides:I}}get defaults(){return this.c}get applicationConfiguration(){return this.f}get userConfiguration(){return this.n||(this.n=this.h.isEmpty()?this.g:this.g.merge(this.h)),this.n}get localUserConfiguration(){return this.g}get remoteUserConfiguration(){return this.h}get workspaceConfiguration(){return this.i}get folderConfigurations(){return this.j}p(t,n,s){let o=this.q(n,s);return n.overrideIdentifier&&(o=o.override(n.overrideIdentifier)),!this.d.isEmpty()&&this.d.getValue(t)!==void 0&&(o=o.merge(this.d)),o}q({resource:t},n){let s=this.r();if(n&&t){const o=n.getFolder(t);o&&(s=this.s(o.uri)||s);const c=this.m.get(t);c&&(s=s.merge(c))}return s}r(){return this.a||(this.a=this.c.merge(this.applicationConfiguration,this.userConfiguration,this.i,this.l)),this.a}s(t){let n=this.b.get(t);if(!n){const s=this.r(),o=this.j.get(t);o?(n=s.merge(o),this.b.set(t,n)):n=s}return n}t(t,n){if(n&&t){const s=n.getFolder(t);if(s)return this.j.get(s.uri)}}toData(){return{defaults:{contents:this.c.contents,overrides:this.c.overrides,keys:this.c.keys},policy:{contents:this.d.contents,overrides:this.d.overrides,keys:this.d.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.i.contents,overrides:this.i.overrides,keys:this.i.keys},folders:[...this.j.keys()].reduce((t,n)=>{const{contents:s,overrides:o,keys:c}=this.j.get(n);return t.push([n,{contents:s,overrides:o,keys:c}]),t},[])}}allKeys(){const t=new Set;return this.c.keys.forEach(n=>t.add(n)),this.userConfiguration.keys.forEach(n=>t.add(n)),this.i.keys.forEach(n=>t.add(n)),this.j.forEach(n=>n.keys.forEach(s=>t.add(s))),[...t.values()]}u(){const t=new Set;return this.c.getAllOverrideIdentifiers().forEach(n=>t.add(n)),this.userConfiguration.getAllOverrideIdentifiers().forEach(n=>t.add(n)),this.i.getAllOverrideIdentifiers().forEach(n=>t.add(n)),this.j.forEach(n=>n.getAllOverrideIdentifiers().forEach(s=>t.add(s))),[...t.values()]}v(t){const n=new Set;return this.c.getKeysForOverrideIdentifier(t).forEach(s=>n.add(s)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(s=>n.add(s)),this.i.getKeysForOverrideIdentifier(t).forEach(s=>n.add(s)),this.j.forEach(s=>s.getKeysForOverrideIdentifier(t).forEach(o=>n.add(o))),[...n.values()]}static parse(t){const n=this.w(t.defaults),s=this.w(t.policy),o=this.w(t.application),c=this.w(t.user),I=this.w(t.workspace),O=t.folders.reduce((y,D)=>(y.set(a.URI.revive(D[0]),this.w(D[1])),y),new A.$Ac);return new w(n,s,o,c,new E,I,O,new E,new A.$Ac)}static w(t){return new E(t.contents,t.keys,t.overrides)}}e.$7n=w;function p(...r){if(r.length===0)return{keys:[],overrides:[]};if(r.length===1)return r[0];const t=new Set,n=new Map;for(const o of r)o.keys.forEach(c=>t.add(c)),o.overrides.forEach(([c,I])=>{const O=(0,A.$xc)(n,c,new Set);I.forEach(y=>O.add(y))});const s=[];return n.forEach((o,c)=>s.push([c,[...o.values()]])),{keys:[...t.values()],overrides:s}}e.$8n=p;class u{constructor(t,n,s,o){this.change=t,this.f=n,this.g=s,this.h=o,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=".".charCodeAt(0),this.affectedKeys=new Set,this.i=void 0;for(const c of t.keys)this.affectedKeys.add(c);for(const[,c]of t.overrides)for(const I of c)this.affectedKeys.add(I);this.d=this.a;for(const c of this.affectedKeys)this.d+=c+this.a}get previousConfiguration(){return!this.i&&this.f&&(this.i=w.parse(this.f.data)),this.i}affectsConfiguration(t,n){const s=this.a+t,o=this.d.indexOf(s);if(o<0)return!1;const c=o+s.length;if(c>=this.d.length)return!1;const I=this.d.charCodeAt(c);if(I!==this.b&&I!==this.c)return!1;if(n){const O=this.previousConfiguration?this.previousConfiguration.getValue(t,n,this.f?.workspace):void 0,y=this.g.getValue(t,n,this.h);return!k.$An(O,y)}return!0}}e.$9n=u;function g(r,t){const{added:n,removed:s,updated:o}=i(t?.rawConfiguration,r?.rawConfiguration),c=[],I=r?.getAllOverrideIdentifiers()||[],O=t?.getAllOverrideIdentifiers()||[];if(t){const y=O.filter(D=>!I.includes(D));for(const D of y)c.push([D,t.getKeysForOverrideIdentifier(D)])}if(r){const y=I.filter(D=>!O.includes(D));for(const D of y)c.push([D,r.getKeysForOverrideIdentifier(D)])}if(t&&r){for(const y of I)if(O.includes(y)){const D=i({contents:r.getOverrideValue(void 0,y)||{},keys:r.getKeysForOverrideIdentifier(y)},{contents:t.getOverrideValue(void 0,y)||{},keys:t.getKeysForOverrideIdentifier(y)});c.push([y,[...D.added,...D.removed,...D.updated]])}}return{added:n,removed:s,updated:o,overrides:c}}function i(r,t){const n=r?t?r.keys.filter(c=>t.keys.indexOf(c)===-1):[...r.keys]:[],s=t?r?t.keys.filter(c=>r.keys.indexOf(c)===-1):[...t.keys]:[],o=[];if(r&&t){for(const c of t.keys)if(r.keys.indexOf(c)!==-1){const I=(0,v.$Ii)(t.contents,c),O=(0,v.$Ii)(r.contents,c);k.$An(I,O)||o.push(c)}}return{added:n,removed:s,updated:o}}}),define(ie[135],ne([0,1,19,6,2,27,3,66,40,4,39,36]),function(J,e,L,j,R,N,A,k,h,a,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$_n=e.$$n=e.$0n=void 0;class m extends R.$Tc{constructor(){super(...arguments),this.a=this.B(new j.$Wd),this.onDidChangeConfiguration=this.a.event,this.b=new k.$4n}get configurationModel(){return this.b}async initialize(){return this.g(),this.B(b.$In.as(h.$Nn.Configuration).onDidUpdateConfiguration(({properties:$,defaultsOverrides:l})=>this.c(Array.from($),l))),this.configurationModel}reload(){return this.g(),this.configurationModel}c($,l){this.h($,b.$In.as(h.$Nn.Configuration).getConfigurationProperties()),this.a.fire({defaults:this.configurationModel,properties:$})}f(){return{}}g(){this.b=new k.$4n;const $=b.$In.as(h.$Nn.Configuration).getConfigurationProperties();this.h(Object.keys($),$)}h($,l){const w=this.f();for(const p of $){const u=w[p],g=l[p];u!==void 0?this.b.addValue(p,u):g?this.b.addValue(p,g.default):this.b.removeValue(p)}}}e.$0n=m;class f{constructor(){this.onDidChangeConfiguration=j.Event.None,this.configurationModel=new k.$4n}async initialize(){return this.configurationModel}}e.$$n=f;let E=class extends R.$Tc{get configurationModel(){return this.b}constructor($,l,w){super(),this.c=$,this.f=l,this.g=w,this.a=this.B(new j.$Wd),this.onDidChangeConfiguration=this.a.event,this.b=new k.$4n}async initialize(){return this.g.trace("PolicyConfiguration#initialize"),this.m(await this.h(this.c.configurationModel.keys),!1),this.B(this.f.onDidChange($=>this.j($))),this.B(this.c.onDidChangeConfiguration(async({properties:$})=>this.m(await this.h($),!0))),this.b}async h($){this.g.trace("PolicyConfiguration#updatePolicyDefinitions",$);const l={},w=[],p=b.$In.as(h.$Nn.Configuration).getConfigurationProperties();for(const u of $){const g=p[u];if(!g){w.push(u);continue}if(g.policy){if(g.type!=="string"&&g.type!=="number"){this.g.warn(`Policy ${g.policy.name} has unsupported type ${g.type}`);continue}w.push(u),l[g.policy.name]={type:g.type}}}return(0,A.$Wf)(l)||await this.f.updatePolicyDefinitions(l),w}j($){this.g.trace("PolicyConfiguration#onDidChangePolicies",$);const l=b.$In.as(h.$Nn.Configuration).getPolicyConfigurations(),w=(0,L.$Hb)($.map(p=>l.get(p)));this.m(w,!0)}m($,l){this.g.trace("PolicyConfiguration#update",$);const w=b.$In.as(h.$Nn.Configuration).getConfigurationProperties(),p=[],u=this.b.isEmpty();for(const g of $){const i=w[g]?.policy?.name;if(i){const r=this.f.getPolicyValue(i);(u?r!==void 0:!(0,N.$An)(this.b.getValue(g),r))&&p.push([g,r])}else this.b.getValue(g)!==void 0&&p.push([g,void 0])}if(p.length){this.g.trace("PolicyConfiguration#changed",p);const g=this.b;this.b=new k.$4n;for(const i of g.keys)this.b.setValue(i,g.getValue(i));for(const[i,r]of p)r===void 0?this.b.removeValue(i):this.b.setValue(i,r);l&&this.a.fire(this.b)}}};e.$_n=E,e.$_n=E=me([se(1,v.$Kn),se(2,a.$oj)],E)}),define(ie[136],ne([0,1,19,9,14,6,38,73,2,27,12,17,29,66,40,135,39]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ao=void 0;class l extends h.$Tc{constructor(u,g,i,r){super(),this.m=u,this.h=this.B(new N.$Wd),this.onDidChangeConfiguration=this.h.event,this.b=this.B(new S.$0n),this.c=i instanceof $.$Mn?new S.$$n:this.B(new S.$_n(this.b,i,r)),this.f=this.B(new f.$6n(this.m,{},b.$zg,g)),this.a=new f.$7n(this.b.configurationModel,this.c.configurationModel,new f.$4n,new f.$4n),this.j=new w(u,g,this),this.g=this.B(new j.$gh(()=>this.reloadConfiguration(),50)),this.B(this.b.onDidChangeConfiguration(({defaults:t,properties:n})=>this.r(t,n))),this.B(this.c.onDidChangeConfiguration(t=>this.s(t))),this.B(this.f.onDidChange(()=>this.g.schedule()))}async initialize(){const[u,g,i]=await Promise.all([this.b.initialize(),this.c.initialize(),this.f.loadConfiguration()]);this.a=new f.$7n(u,g,new f.$4n,i)}getConfigurationData(){return this.a.toData()}getValue(u,g){const i=typeof u=="string"?u:void 0,r=(0,m.$Bi)(u)?u:(0,m.$Bi)(g)?g:{};return this.a.getValue(i,r,void 0)}async updateValue(u,g,i,r,t){const n=(0,m.$Ci)(i)?i:(0,m.$Bi)(i)?{resource:i.resource,overrideIdentifiers:i.overrideIdentifier?[i.overrideIdentifier]:void 0}:void 0,s=n?r:i;if(s!==void 0&&s!==3&&s!==2)throw new Error(`Unable to write ${u} to target ${s}.`);n?.overrideIdentifiers&&(n.overrideIdentifiers=(0,L.$Mb)(n.overrideIdentifiers),n.overrideIdentifiers=n.overrideIdentifiers.length?n.overrideIdentifiers:void 0);const o=this.inspect(u,{resource:n?.resource,overrideIdentifier:n?.overrideIdentifiers?n.overrideIdentifiers[0]:void 0});if(o.policyValue!==void 0)throw new Error(`Unable to write ${u} because it is configured in system policy.`);if((0,a.$An)(g,o.defaultValue)&&(g=void 0),n?.overrideIdentifiers?.length&&n.overrideIdentifiers.length>1){const I=n.overrideIdentifiers.sort(),O=this.a.localUserConfiguration.overrides.find(y=>(0,L.$ub)([...y.identifiers].sort(),I));O&&(n.overrideIdentifiers=O.identifiers)}const c=n?.overrideIdentifiers?.length?[(0,E.$Zn)(n.overrideIdentifiers),u]:[u];await this.j.write(c,g),await this.reloadConfiguration()}inspect(u,g={}){return this.a.inspect(u,g,void 0)}keys(){return this.a.keys(void 0)}async reloadConfiguration(){const u=await this.f.loadConfiguration();this.n(u)}n(u){const g=this.a.toData(),i=this.a.compareAndUpdateLocalUserConfiguration(u);this.t(i,g,2)}r(u,g){const i=this.a.toData(),r=this.a.compareAndUpdateDefaultConfiguration(u,g);this.t(r,i,7)}s(u){const g=this.a.toData(),i=this.a.compareAndUpdatePolicyConfiguration(u);this.t(i,g,7)}t(u,g,i){const r=new f.$9n(u,{data:g},this.a);r.source=i,this.h.fire(r)}}e.$ao=l;class w{constructor(u,g,i){this.b=u,this.c=g,this.d=i,this.a=new j.$bh}write(u,g){return this.a.queue(()=>this.e(u,g))}async e(u,g){let i;try{i=(await this.c.readFile(this.b)).value.toString()}catch(n){if(n.fileOperationResult===1)i="{}";else throw n}const r=[];if((0,A.$dn)(i,r,{allowTrailingComma:!0,allowEmptyContent:!0}),r.length>0)throw new Error("Unable to write into the settings file. Please open the file to correct errors/warnings in the file and try again.");const t=this.f(i,u,g);i=(0,k.$vn)(i,t),await this.c.writeFile(this.b,R.$ke.fromString(i))}f(u,g,i){const{tabSize:r,insertSpaces:t,eol:n}=this.h;if(!g.length){const s=JSON.stringify(i,null,t?" ".repeat(r):"	");return[{content:s,length:s.length,offset:0}]}return(0,k.$sn)(u,g,i,{tabSize:r,insertSpaces:t,eol:n})}get h(){if(!this.g){let u=v.OS===3||v.OS===2?`
`:`\r
`;const g=this.d.getValue("files.eol",{overrideIdentifier:"jsonc"});g&&typeof g=="string"&&g!=="auto"&&(u=g),this.g={eol:u,insertSpaces:!!this.d.getValue("editor.insertSpaces",{overrideIdentifier:"jsonc"}),tabSize:this.d.getValue("editor.tabSize",{overrideIdentifier:"jsonc"})}}return this.g}}}),define(ie[67],ne([0,1,15]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fl=e.$el=e.$dl=e.$cl=e.$bl=void 0;function j(a){return a.scheme===L.Schemas.vscodeRemote?a.authority:void 0}e.$bl=j;function R(a){if(!a)return;const v=a.indexOf("+");return v<0?a:a.substr(0,v)}e.$cl=R;function N(a){return`/${a.quality??"oss"}-${a.commit??"dev"}`}e.$dl=N;function A(a){const{host:v,port:b}=h(a);if(typeof b>"u")throw new Error(`Invalid remote authority: ${a}. It must either be a remote of form <remoteName>+<arg> or a remote host of form <host>:<port>.`);return{host:v,port:b}}e.$el=A;function k(a,v){let{host:b,port:m}=h(a);return typeof m>"u"&&(m=v),{host:b,port:m}}e.$fl=k;function h(a){const v=a.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(v)return{host:v[1],port:parseInt(v[2],10)};const b=a.match(/^(\[[0-9a-z:]+\])$/);if(b)return{host:b[1],port:void 0};const m=a.match(/(.*):(\d+)$/);return m?{host:m[1],port:parseInt(m[2],10)}:{host:a,port:void 0}}}),define(ie[37],ne([0,1,30,10,67]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tm=e.$sm=e.$rm=e.$qm=e.$pm=e.$om=e.$nm=e.$mm=e.TargetPlatform=e.ExtensionType=e.$lm=e.$km=e.$jm=e.$im=e.$hm=e.$gm=void 0,e.$gm="extensions.user.cache",e.$hm="extensions.builtin.cache",e.$im="undefined_publisher",e.$jm=["ui","workspace","web"];function N(S){if(typeof S=="object"&&S!==null&&S.supported!==!0)return S.description}e.$km=N,e.$lm=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var A;(function(S){S[S.System=0]="System",S[S.User=1]="User"})(A||(e.ExtensionType=A={}));var k;(function(S){S.WIN32_X64="win32-x64",S.WIN32_ARM64="win32-arm64",S.LINUX_X64="linux-x64",S.LINUX_ARM64="linux-arm64",S.LINUX_ARMHF="linux-armhf",S.ALPINE_X64="alpine-x64",S.ALPINE_ARM64="alpine-arm64",S.DARWIN_X64="darwin-x64",S.DARWIN_ARM64="darwin-arm64",S.WEB="web",S.UNIVERSAL="universal",S.UNKNOWN="unknown",S.UNDEFINED="undefined"})(k||(e.TargetPlatform=k={}));class h{constructor($){this.value=$,this._lower=$.toLowerCase()}static equals($,l){if(typeof $>"u"||$===null)return typeof l>"u"||l===null;if(typeof l>"u"||l===null)return!1;if(typeof $=="string"||typeof l=="string"){const w=typeof $=="string"?$:$.value,p=typeof l=="string"?l:l.value;return L.$af(w,p)}return $._lower===l._lower}static toKey($){return typeof $=="string"?$.toLowerCase():$._lower}}e.$mm=h;class a{get size(){return this.c.size}constructor($){if(this.c=new Set,$)for(const l of $)this.add(l)}add($){this.c.add(h.toKey($))}delete($){return this.c.delete(h.toKey($))}has($){return this.c.has(h.toKey($))}}e.$nm=a;class v{constructor(){this.c=new Map}clear(){this.c.clear()}delete($){this.c.delete(h.toKey($))}get($){return this.c.get(h.toKey($))}has($){return this.c.has(h.toKey($))}set($,l){this.c.set(h.toKey($),l)}values(){return this.c.values()}forEach($){this.c.forEach($)}[Symbol.iterator](){return this.c[Symbol.iterator]()}}e.$om=v;function b(S){return m(S)}e.$pm=b;function m(S){return S.contributes&&S.contributes.localizations?S.contributes.localizations.length>0:!1}e.$qm=m;function f(S){return S.contributes&&S.contributes.authentication?S.contributes.authentication.length>0:!1}e.$rm=f;function E(S,$){if($){const l=`onResolveRemoteAuthority:${(0,R.$cl)($)}`;return!!S.activationEvents?.includes(l)}return!1}e.$sm=E,e.$tm=(0,j.$7h)("IBuiltinExtensionsScannerService")}),define(ie[137],ne([0,1,2,37,13]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9p=void 0;class N extends L.$Tc{constructor(k,h,a,v,b){super(),this.a=k,this.b=h,this.c=a,this.f=b,this.B(v.onDidInstallExtensions(m=>this.g(m))),this.B(v.onDidUninstallExtension(m=>this.h(m)))}g(k){for(const h of k)h.local&&this.invalidate(h.profileLocation)}h(k){k.error||this.invalidate(k.profileLocation)}async invalidate(k){if(k)for(const h of this.a.profiles)this.c.extUri.isEqual(h.extensionsResource,k)&&await this.j(h);else await this.j(this.a.defaultProfile)}async j(k){try{await this.b.del(this.c.extUri.joinPath(k.cacheHome,j.$gm))}catch(h){(0,R.$Ik)(h)!==1&&this.f.error(h)}}}e.$9p=N}),define(ie[45],ne([0,1,14,7,2,106,40,10,4,36]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pp=e.$op=e.$np=e.$mp=e.$lp=e.$kp=e.$jp=e.$ip=void 0,e.$ip=(0,k.$7h)("requestService");class v{constructor(g){this.b=g}toJSON(){if(!this.a){const g=Object.create(null);for(const i in this.b)i.toLowerCase()==="authorization"||i.toLowerCase()==="proxy-authorization"?g[i]="*****":g[i]=this.b[i];this.a=g}return this.a}}class b extends R.$Tc{constructor(g){super(),this.b=0,this.a=g.createLogger("network",{name:(0,N.localize)(0,null),when:h.$Fj.isEqualTo((0,h.$Dj)(h.LogLevel.Trace)).serialize()})}async c(g,i,r){const t=`${g} #${++this.b}: ${i.url}`;this.a.trace(`${t} - begin`,i.type,new v(i.headers??{}));try{const n=await r();return this.a.trace(`${t} - end`,i.type,n.res.statusCode,n.res.headers),n}catch(n){throw this.a.error(`${t} - error`,i.type,(0,j.$0)(n)),n}}}e.$jp=b;function m(u){return u.res.statusCode&&u.res.statusCode>=200&&u.res.statusCode<300||u.res.statusCode===1223}e.$kp=m;function f(u){return u.res.statusCode===204}e.$lp=f;async function E(u){return f(u)?null:(await(0,L.$we)(u.stream)).toString()}e.$mp=E;async function S(u){if(!m(u))throw new Error("Server returned "+u.res.statusCode);return E(u)}e.$np=S;async function $(u){if(!m(u))throw new Error("Server returned "+u.res.statusCode);if(f(u))return null;const i=(await(0,L.$we)(u.stream)).toString();try{return JSON.parse(i)}catch(r){throw r.message+=`:
`+i,r}}e.$op=$;function l(u){p(u)}e.$pp=l;let w;function p(u){const g=a.$In.as(A.$Nn.Configuration),i=w;w={id:"http",order:15,title:(0,N.localize)(1,null),type:"object",scope:u,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,N.localize)(2,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,N.localize)(3,null),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:(0,N.localize)(4,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,N.localize)(5,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,N.localize)(6,null),(0,N.localize)(7,null),(0,N.localize)(8,null),(0,N.localize)(9,null)],default:"override",description:(0,N.localize)(10,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,N.localize)(11,null),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:(0,N.localize)(12,null),restricted:!0}}},g.updateConfigurations({add:[w],remove:i?[i]:[]})}p(1)}),define(ie[138],ne([0,1,20,15,13,45]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$WO=void 0;let A=class{constructor(h,a){this.a=h,this.b=a}async download(h,a,v=L.CancellationToken.None){if(h.scheme===j.Schemas.file||h.scheme===j.Schemas.vscodeRemote){await this.b.copy(h,a);return}const b={type:"GET",url:h.toString(!0)},m=await this.a.request(b,v);if(m.res.statusCode===200)await this.b.writeFile(a,m.stream);else{const f=await(0,N.$np)(m);throw new Error(`Expected 200, got back ${m.res.statusCode} instead.

${f}`)}}};e.$WO=A,e.$WO=A=me([se(0,N.$ip),se(1,R.$rk)],A)}),define(ie[139],ne([0,1,140,3]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nr=void 0;function R(A,k){return A.protocol==="http:"?k.HTTP_PROXY||k.http_proxy||null:A.protocol==="https:"&&(k.HTTPS_PROXY||k.https_proxy||k.HTTP_PROXY||k.http_proxy)||null}async function N(A,k,h={}){const a=(0,L.parse)(A),v=h.proxyUrl||R(a,k);if(!v)return null;const b=(0,L.parse)(v);if(!/^https?:$/.test(b.protocol||""))return null;const m={host:b.hostname||"",port:(b.port?+b.port:0)||(b.protocol==="https"?443:80),auth:b.auth,rejectUnauthorized:(0,j.$Pf)(h.strictSSL)?h.strictSSL:!0};return a.protocol==="http:"?new(await new Promise((f,E)=>{J(["http-proxy-agent"],f,E)})).HttpProxyAgent(v,m):new(await new Promise((f,E)=>{J(["https-proxy-agent"],f,E)})).HttpsProxyAgent(v,m)}e.$nr=N}),define(ie[141],ne([0,1,58,16,107,20,34,7,12,28,86,173,9,74]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$am=void 0;let E;async function S(l,w,p,u){return p["force-disable-user-env"]?(w.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):h.$i?(w.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,b.$7l)(u)&&!p["force-user-env"]?(w.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,b.$7l)(u)?w.trace("resolveShellEnv(): running (--force-user-env)"):w.trace("resolveShellEnv(): running (macOS/Linux)"),E||(E=m.Promises.withAsyncBody(async(g,i)=>{const r=new N.$7d;let t=1e4;const n=l.getValue("application.shellEnvironmentResolutionTimeout");typeof n=="number"&&(t=(0,f.$8l)(n,1,120)*1e3);const s=setTimeout(()=>{r.dispose(!0),i(new Error((0,R.localize)(0,null)))},t);try{g(await $(w,r.token))}catch(o){!(0,k.$4)(o)&&!r.token.isCancellationRequested?i(new Error((0,R.localize)(1,null,(0,A.$Ri)(o)))):g({})}finally{clearTimeout(s),r.dispose()}})),E)}e.$am=S;async function $(l,w){const p=process.env.ELECTRON_RUN_AS_NODE;l.trace("getUnixShellEnvironment#runAsNode",p);const u=process.env.ELECTRON_NO_ATTACH_CONSOLE;l.trace("getUnixShellEnvironment#noAttach",u);const g=(0,a.$rg)().replace(/-/g,"").substr(0,12),i=new RegExp(g+"({.*})"+g),r={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};l.trace("getUnixShellEnvironment#env",r);const t=await(0,v.$Wl)(h.OS,r);return l.trace("getUnixShellEnvironment#shell",t),new Promise((n,s)=>{if(w.isCancellationRequested)return s(new k.$5);const o=(0,j.$nc)(t);let c,I;const O="";/^pwsh(-preview)?$/.test(o)?(c=`& '${process.execPath}' ${O} -p '''${g}'' + JSON.stringify(process.env) + ''${g}'''`,I=["-Login","-Command"]):o==="nu"?(c=`^'${process.execPath}' ${O} -p '"${g}" + JSON.stringify(process.env) + "${g}"'`,I=["-i","-l","-c"]):o==="xonsh"?(c=`import os, json; print("${g}", json.dumps(dict(os.environ)), "${g}")`,I=["-i","-l","-c"]):(c=`'${process.execPath}' ${O} -p '"${g}" + JSON.stringify(process.env) + "${g}"'`,o==="tcsh"||o==="csh"?I=["-ic"]:I=["-i","-l","-c"]),l.trace("getUnixShellEnvironment#spawn",JSON.stringify(I),c);const y=(0,L.spawn)(t,[...I,c],{detached:!0,stdio:["ignore","pipe","pipe"],env:r});w.onCancellationRequested(()=>(y.kill(),s(new k.$5))),y.on("error",te=>{l.error("getUnixShellEnvironment#errorChildProcess",(0,A.$Ri)(te)),s(te)});const D=[];y.stdout.on("data",te=>D.push(te));const W=[];y.stderr.on("data",te=>W.push(te)),y.on("close",(te,_)=>{const oe=Buffer.concat(D).toString("utf8");l.trace("getUnixShellEnvironment#raw",oe);const re=Buffer.concat(W).toString("utf8");if(re.trim()&&l.trace("getUnixShellEnvironment#stderr",re),te||_)return s(new Error((0,R.localize)(2,null,te,_)));const he=i.exec(oe),ce=he?he[1]:"{}";try{const ae=JSON.parse(ce);p?ae.ELECTRON_RUN_AS_NODE=p:delete ae.ELECTRON_RUN_AS_NODE,u?ae.ELECTRON_NO_ATTACH_CONSOLE=u:delete ae.ELECTRON_NO_ATTACH_CONSOLE,delete ae.VSCODE_RESOLVING_ENVIRONMENT,delete ae.XDG_RUNTIME_DIR,l.trace("getUnixShellEnvironment#result",ae),n(ae)}catch(ae){l.error("getUnixShellEnvironment#errorCaught",(0,A.$Ri)(ae)),s(ae)}})})}}),define(ie[142],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zO=e.$yO=void 0,e.$yO=(0,L.$7h)("stateReadService"),e.$zO=(0,L.$7h)("stateService")}),define(ie[68],ne([0,1,9,14,2,3,18,13,4]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CO=e.$BO=e.$AO=e.SaveStrategy=void 0;var a;(function(f){f[f.IMMEDIATE=0]="IMMEDIATE",f[f.DELAYED=1]="DELAYED"})(a||(e.SaveStrategy=a={}));class v extends R.$Tc{constructor(E,S,$,l){super(),this.h=E,this.j=S,this.m=$,this.n=l,this.a=Object.create(null),this.b="",this.c=this.B(new L.$5g(this.j===0?0:100)),this.f=void 0,this.g=void 0}init(){return this.f||(this.f=this.r()),this.f}async r(){try{this.b=(await this.n.readFile(this.h)).value.toString(),this.a=JSON.parse(this.b)}catch(E){E.fileOperationResult!==1&&this.m.error(E)}}getItem(E,S){const $=this.a[E];return(0,N.$Sf)($)?S:$}setItem(E,S){this.setItems([{key:E,data:S}])}setItems(E){let S=!1;for(const{key:$,data:l}of E)this.a[$]!==l&&((0,N.$Sf)(l)?(0,N.$Qf)(this.a[$])||(this.a[$]=void 0,S=!0):(this.a[$]=l,S=!0));S&&this.s()}removeItem(E){(0,N.$Qf)(this.a[E])||(this.a[E]=void 0,this.s())}async s(){if(!this.g)return this.c.trigger(()=>this.t())}async t(){if(!this.f)return;await this.f;const E=JSON.stringify(this.a,null,4);if(E!==this.b)try{await this.n.writeFile(this.h,j.$ke.fromString(E),{atomic:{postfix:".vsctmp"}}),this.b=E}catch(S){this.m.error(S)}}async close(){return this.g||(this.g=this.c.trigger(()=>this.t(),0)),this.g}}e.$AO=v;let b=class extends R.$Tc{constructor(E,S,$,l){super(),this.a=this.B(new v(S.stateResource,E,$,l))}async init(){await this.a.init()}getItem(E,S){return this.a.getItem(E,S)}};e.$BO=b,e.$BO=b=me([se(1,A.$bi),se(2,h.$oj),se(3,k.$rk)],b);class m extends b{setItem(E,S){this.a.setItem(E,S)}setItems(E){this.a.setItems(E)}removeItem(E){this.a.removeItem(E)}close(){return this.a.close()}}e.$CO=m}),define(ie[69],ne([0,1,12,35,28]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lo=e.$Ko=void 0;function N(h){if(L.$u===2&&/^penguin(\.|$)/i.test(h))return"chromebook"}function A(h,a,v,b,m,f,E,S,$){const l=Object.create(null);l["common.machineId"]=f,l["common.sqmId"]=E,l.sessionID=(0,R.$rg)()+Date.now(),l.commitHash=b,l.version=m,l["common.platformVersion"]=(h||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),l["common.platform"]=(0,L.$h)(L.$u),l["common.nodePlatform"]=j.$dc,l["common.nodeArch"]=v,l["common.product"]=$||"desktop",S&&(l["common.msftInternal"]=S);let w=0;const p=Date.now();Object.defineProperties(l,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-p,enumerable:!0},"common.sequence":{get:()=>w++,enumerable:!0}}),L.$l&&(l["common.snap"]="true");const u=N(a);return u&&(l["common.platformDetail"]=u),l}e.$Ko=A;function k(h){const a=j.env.USERDNSDOMAIN;if(!a)return!1;const v=a.toLowerCase();return h.some(b=>v===b)}e.$Lo=k}),define(ie[25],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.$Fl=e.$El=e.$Dl=e.$Cl=e.$Bl=e.$Al=e.$zl=e.$yl=e.$xl=e.$wl=e.$vl=void 0,e.$vl=(0,L.$7h)("telemetryService"),e.$wl=(0,L.$7h)("customEndpointTelemetryService"),e.$xl="telemetry.currentSessionDate",e.$yl="telemetry.firstSessionDate",e.$zl="telemetry.lastSessionDate",e.$Al="telemetry.machineId",e.$Bl="telemetry.sqmId",e.$Cl="telemetry",e.$Dl="telemetry.telemetryLevel",e.$El="telemetry.enableCrashReporter",e.$Fl="telemetry.enableTelemetry";var j;(function(N){N[N.NONE=0]="NONE",N[N.CRASH=1]="CRASH",N[N.ERROR=2]="ERROR",N[N.USAGE=3]="USAGE"})(j||(e.TelemetryLevel=j={}));var R;(function(N){N.OFF="off",N.CRASH="crash",N.ERROR="error",N.ON="all"})(R||(e.TelemetryConfiguration=R={}))}),define(ie[41],ne([0,1,27,3,67,69,25]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1o=e.$Zo=e.$Yo=e.$Xo=e.$Wo=e.$Vo=e.$Uo=e.$To=e.$So=e.$Ro=e.$Qo=e.$Po=e.$Oo=e.$No=e.$Mo=void 0;class k{constructor(r){this.value=r,this.isTrustedTelemetryValue=!0}}e.$Mo=k;class h{constructor(){this.telemetryLevel=0,this.sessionId="someValue.sessionId",this.machineId="someValue.machineId",this.sqmId="someValue.sqmId",this.firstSessionDate="someValue.firstSessionDate",this.sendErrorTelemetry=!1}publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}}e.$No=h,e.$Oo=new h;class a{async publicLog(r,t,n){}async publicLogError(r,t,n){}}e.$Po=a,e.$Qo="telemetry",e.$Ro="extensionTelemetryLog",e.$So={log:()=>null,flush:()=>Promise.resolve(null)};function v(i,r){return!r.isBuilt&&!r.disableTelemetry?!0:!(r.disableTelemetry||!i.enableTelemetry)}e.$To=v;function b(i,r){return r.extensionTestsLocationURI?!0:!(r.isBuilt||r.disableTelemetry||i.enableTelemetry&&i.aiConfig?.ariaKey)}e.$Uo=b;function m(i){const r=i.getValue(A.$Dl),t=i.getValue(A.$El);if(i.getValue(A.$Fl)===!1||t===!1)return 0;switch(r??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.$Vo=m;function f(i){const r={},t={},n={};$(i,n);for(let s in n){s=s.length>150?s.substr(s.length-149):s;const o=n[s];typeof o=="number"?t[s]=o:typeof o=="boolean"?t[s]=o?1:0:typeof o=="string"?(o.length>8192&&console.warn(`Telemetry property: ${s} has been trimmed to 8192, the original length is ${o.length}`),r[s]=o.substring(0,8191)):typeof o<"u"&&o!==null&&(r[s]=o)}return{properties:r,measurements:t}}e.$Wo=f;const E=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function S(i){if(!i)return"none";const r=(0,R.$cl)(i);return E.has(r)?r:"other"}e.$Xo=S;function $(i,r,t=0,n){if(i)for(const s of Object.getOwnPropertyNames(i)){const o=i[s],c=n?n+s:s;Array.isArray(o)?r[c]=(0,L.$Bn)(o):o instanceof Date?r[c]=o.toISOString():(0,j.$Lf)(o)?t<2?$(o,r,t+1,c+"."):r[c]=(0,L.$Bn)(o):r[c]=o}}function l(i,r){const t=i.msftInternalDomains||[],n=r.getValue("telemetry.internalTesting");return(0,N.$Lo)(t)||n}e.$Yo=l;function w(i){return[i.appRoot,i.extensionsPath,i.userHome.fsPath,i.tmpDir.fsPath,i.userDataPath]}e.$Zo=w;function p(i,r){if(!i||!i.includes("/")&&!i.includes("\\"))return i;let t=i;const n=[];for(const I of r)for(;;){const O=I.exec(i);if(!O)break;n.push([O.index,I.lastIndex])}const s=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,o=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let c=0;for(t="";;){const I=o.exec(i);if(!I)break;const O=n.some(([y,D])=>I.index<D&&y<o.lastIndex);!s.test(I[0])&&!O&&(t+=i.substring(c,I.index)+"<REDACTED: user-file-path>",c=o.lastIndex)}return c<i.length&&(t+=i.substr(c)),t}function u(i){if(!i)return i;const r=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const t of r)if(t.regex.test(i))return`<REDACTED: ${t.label}>`;return i}function g(i,r){return(0,L.$yn)(i,t=>{if(t instanceof k||Object.hasOwnProperty.call(t,"isTrustedTelemetryValue"))return t.value;if(typeof t=="string"){let n=t.replaceAll("%20"," ");n=p(n,r);for(const s of r)n=n.replace(s,"");return n=u(n),n}})}e.$1o=g}),define(ie[26],ne([0,1,30,21,37,12,11,7,35,41]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ap=e.$_o=e.$$o=e.$0o=e.$9o=e.$8o=e.$7o=e.$6o=e.$5o=e.$4o=e.$3o=e.$2o=void 0;function v(t,n){return t.uuid&&n.uuid?t.uuid===n.uuid:t.id===n.id?!0:(0,L.$8e)(t.id,n.id)===0}e.$2o=v;const b=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class m{static create(n){const s=n.manifest?n.manifest.version:n.version,o=n.manifest?n.targetPlatform:n.properties.targetPlatform;return new m(n.identifier,s,o)}static parse(n){const s=b.exec(n);return s&&s[1]&&s[2]?new m({id:s[1]},s[2],s[4]||void 0):null}constructor(n,s,o="undefined"){this.version=s,this.targetPlatform=o,this.id=n.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(n){return n instanceof m?v(this,n)&&this.version===n.version&&this.targetPlatform===n.targetPlatform:!1}}e.$3o=m;const f=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function E(t){const n=f.exec(t);return n&&n[1]?[$(n[1]),n[2]]:[$(t),void 0]}e.$4o=E;function S(t,n){return`${t}.${n}`}e.$5o=S;function $(t){return t.toLowerCase()}e.$6o=$;function l(t,n){return $(S(t??R.$im,n))}e.$7o=l;function w(t,n){const s=[],o=c=>{for(const I of s)if(I.some(O=>v(n(O),n(c))))return I;return null};for(const c of t){const I=o(c);I?I.push(c):s.push([c])}return s}e.$8o=w;function p(t){return{id:t.identifier.id,name:t.manifest.name,galleryId:null,publisherId:t.publisherId,publisherName:t.manifest.publisher,publisherDisplayName:t.publisherDisplayName,dependencies:t.manifest.extensionDependencies&&t.manifest.extensionDependencies.length>0}}e.$9o=p;function u(t){return{id:new a.$Mo(t.identifier.id),name:new a.$Mo(t.name),galleryId:t.identifier.uuid,publisherId:t.publisherId,publisherName:t.publisher,publisherDisplayName:t.publisherDisplayName,isPreReleaseVersion:t.properties.isPreReleaseVersion,dependencies:!!(t.properties.dependencies&&t.properties.dependencies.length>0),isSigned:t.isSigned,...t.telemetryData}}e.$0o=u,e.$$o=new R.$mm("pprice.better-merge");function g(t,n){const s=[],o=n.manifest.extensionDependencies?.slice(0)??[];for(;o.length;){const c=o.shift();if(c&&s.every(I=>!v(I.identifier,{id:c}))){const I=t.filter(O=>v(O.identifier,{id:c}));I.length===1&&(s.push(I[0]),o.push(...I[0].manifest.extensionDependencies?.slice(0)??[]))}}return s}e.$_o=g;async function i(t,n){if(!N.$k)return!1;let s;try{s=(await t.readFile(A.URI.file("/etc/os-release"))).value.toString()}catch{try{s=(await t.readFile(A.URI.file("/usr/lib/os-release"))).value.toString()}catch(c){n.debug("Error while getting the os-release file.",(0,k.$0)(c))}}return!!s&&(s.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function r(t,n){const s=await i(t,n),o=(0,j.$vo)(s?"alpine":N.$u,h.$ec);return n.debug("ComputeTargetPlatform:",o),o}e.$ap=r}),define(ie[143],ne([0,1,20,7,15,17,44,11,96,21,26,37]),function(J,e,L,j,R,N,A,k,h,a,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ip=void 0;const m=S=>(0,h.localize)(0,null,S),f=(0,h.localize)(1,null,"ms-dotnettools.csharp");let E=class{constructor($,l,w){this.a=$,this.b=l,this.d=w}get f(){}async listExtensions($,l,w){let p=await this.b.getInstalled(1,w);const u=b.$lm.map(i=>i.toLowerCase());if(l&&l!==""){if(u.indexOf(l.toLowerCase())<0){this.a.info("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}p=p.filter(i=>i.manifest.categories?i.manifest.categories.map(t=>t.toLowerCase()).indexOf(l.toLowerCase())>-1:!1)}else if(l===""){this.a.info("Possible Categories: "),u.forEach(i=>{this.a.info(i)});return}this.f&&this.a.info((0,h.localize)(2,null,this.f)),p=p.sort((i,r)=>i.identifier.id.localeCompare(r.identifier.id));let g;for(const i of p)g!==i.identifier.id&&(g=i.identifier.id,this.a.info($?`${g}@${i.manifest.version}`:g))}async installExtensions($,l,w,p){const u=[];try{const g=[];$.length&&this.a.info(this.f?(0,h.localize)(3,null,this.f):(0,h.localize)(4,null));const i=[];let r=[];const t=(s,o,c)=>{r.push({id:s,version:o!=="prerelease"?o:void 0,installOptions:{...w,isBuiltin:c,installPreReleaseVersion:o==="prerelease"||w.installPreReleaseVersion}})};for(const s of $)if(s instanceof k.URI)i.push({vsix:s,installOptions:w});else{const[o,c]=(0,v.$4o)(s);t(o,c,!1)}for(const s of l)if(s instanceof k.URI)i.push({vsix:s,installOptions:{...w,isBuiltin:!0,donotIncludePackAndDependencies:!0}});else{const[o,c]=(0,v.$4o)(s);t(o,c,!0)}const n=await this.b.getInstalled(1,w.profileLocation);if(i.length&&await Promise.all(i.map(async({vsix:s,installOptions:o})=>{try{const c=await this.g(s,o,p,n);c&&g.push(c)}catch(c){this.a.error(c),u.push(s.toString())}})),r.length&&(r=r.filter(({id:s,version:o})=>{const c=n.find(I=>(0,v.$2o)(I.identifier,{id:s}));if(c){if(!p&&(!o||o==="prerelease"&&c.preRelease))return this.a.info((0,h.localize)(5,null,s,c.manifest.version,s)),!1;if(o&&c.manifest.version===o)return this.a.info((0,h.localize)(6,null,`${s}@${o}`)),!1}return!0}),r.length)){const s=await this.h(r);await Promise.all(r.map(async o=>{const c=s.get(o.id.toLowerCase());if(c)try{const I=await this.j(o,c,n);I&&g.push(I)}catch(I){this.a.error(I.message||I.stack||I),u.push(o.id)}else this.a.error(`${m(o.version?`${o.id}@${o.version}`:o.id)}
${f}`),u.push(o.id)}))}}catch(g){throw this.a.error((0,h.localize)(7,null,(0,j.$0)(g))),g}if(u.length)throw new Error((0,h.localize)(8,null,u.join(", ")))}async updateExtensions($){const l=await this.b.getInstalled(1,$),w=[];for(const i of l)i.identifier.uuid&&w.push({...i.identifier,preRelease:i.preRelease});this.a.trace((0,h.localize)(9,null,w.length));const p=await this.d.getExtensions(w,{compatible:!0},L.CancellationToken.None),u=[];for(const i of p)for(const r of l)(0,v.$2o)(r.identifier,i.identifier)&&(0,A.gt)(i.version,r.manifest.version)&&u.push({extension:i,options:{operation:3,installPreReleaseVersion:r.isPreReleaseVersion}});if(!u.length){this.a.info((0,h.localize)(10,null));return}this.a.info((0,h.localize)(11,null,u.map(i=>i.extension.identifier.id).join(", ")));const g=await this.b.installGalleryExtensions(u);for(const i of g)i.error?this.a.error((0,h.localize)(12,null,i.identifier.id,(0,j.$0)(i.error))):this.a.info((0,h.localize)(13,null,i.identifier.id,i.local?.manifest.version))}async g($,l,w,p){const u=await this.b.getManifest($);if(!u)throw new Error("Invalid vsix");if(await this.l(u,w,l.profileLocation,p))try{return await this.b.install($,l),this.a.info((0,h.localize)(14,null,(0,N.$Fg)($))),u}catch(i){if((0,j.$4)(i))return this.a.info((0,h.localize)(15,null,(0,N.$Fg)($))),null;throw i}return null}async h($){const l=new Map,w=$.some(g=>g.installOptions.installPreReleaseVersion),p=await this.b.getTargetPlatform(),u=[];for(const g of $)a.$oo.test(g.id)&&u.push({...g,preRelease:w});if(u.length){const g=await this.d.getExtensions(u,{targetPlatform:p},L.CancellationToken.None);for(const i of g)l.set(i.identifier.id.toLowerCase(),i)}return l}async j({id:$,version:l,installOptions:w},p,u){const g=await this.d.getManifest(p,L.CancellationToken.None);if(g&&!this.k(g))return null;const i=u.find(r=>(0,v.$2o)(r.identifier,p.identifier));if(i){if(p.version===i.manifest.version)return this.a.info((0,h.localize)(16,null,l?`${$}@${l}`:$)),null;this.a.info((0,h.localize)(17,null,$,p.version))}try{w.isBuiltin?this.a.info(l?(0,h.localize)(18,null,$,l):(0,h.localize)(19,null,$)):this.a.info(l?(0,h.localize)(20,null,$,l):(0,h.localize)(21,null,$));const r=await this.b.installFromGallery(p,{...w,installGivenVersion:!!l});return this.a.info((0,h.localize)(22,null,$,r.manifest.version)),g}catch(r){if((0,j.$4)(r))return this.a.info((0,h.localize)(23,null,$)),null;throw r}}k($){return!0}async l($,l,w,p){if(!l){const u={id:(0,v.$7o)($.publisher,$.name)},g=p.find(i=>(0,v.$2o)(u,i.identifier)&&(0,A.gt)(i.manifest.version,$.version));if(g)return this.a.info((0,h.localize)(24,null,g.identifier.id,g.manifest.version,$.version)),!1}return this.k($)}async uninstallExtensions($,l,w){const p=async g=>{if(g instanceof k.URI){const i=await this.b.getManifest(g);return(0,v.$5o)(i.publisher,i.name)}return g},u=[];for(const g of $){const i=await p(g),t=(await this.b.getInstalled(void 0,w)).filter(n=>(0,v.$2o)(n.identifier,{id:i}));if(!t.length)throw new Error(`${this.m(i)}
${f}`);if(t.some(n=>n.type===0)){this.a.info((0,h.localize)(25,null,i));return}if(!l&&t.some(n=>n.isBuiltin)){this.a.info((0,h.localize)(26,null,i));return}this.a.info((0,h.localize)(27,null,i));for(const n of t)await this.b.uninstall(n,{profileLocation:w}),u.push(n);this.f?this.a.info((0,h.localize)(28,null,i,this.f)):this.a.info((0,h.localize)(29,null,i))}}async locateExtension($){const l=await this.b.getInstalled();$.forEach(w=>{l.forEach(p=>{if(p.identifier.id===w&&p.location.scheme===R.Schemas.file){this.a.info(p.location.fsPath);return}})})}m($){return this.f?(0,h.localize)(30,null,$,this.f):(0,h.localize)(31,null,$)}};e.$Ip=E,e.$Ip=E=me([se(1,a.$Co),se(2,a.$zo)],E)}),define(ie[144],ne([0,1,9,7,2,15,17,44,3,28,24,49,29,18,21,26,64,13,4]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.$6p=void 0;let u=class extends R.$Tc{static{p=this}static{this.c=".sigzip"}constructor(i,r,t,n,s,o){super(),this.h=r,this.j=t,this.m=n,this.n=s,this.r=o,this.extensionsDownloadDir=i.extensionsDownloadLocation,this.f=20,this.g=this.y()}async download(i,r,t){await this.g;const n=(0,A.$Ig)(this.extensionsDownloadDir,this.z(i));try{await this.w(i,n,o=>this.j.download(i,o,r))}catch(o){throw new E.$Ao(o.message,E.ExtensionManagementErrorCode.Download)}let s=!1;if(t&&this.t(i)){const o=await this.u(i);try{s=await this.n.verify(n.fsPath,o.fsPath,this.r.getLevel()===w.LogLevel.Trace)}catch(c){const I=c;if(s=I.code,I.output&&this.r.trace(`Extension signature verification details for ${i.identifier.id} ${i.version}:
${I.output}`),s===E.ExtensionSignaturetErrorCode.PackageIsInvalidZip||s===E.ExtensionSignaturetErrorCode.SignatureArchiveIsInvalidZip){try{await this.delete(n)}catch(O){this.r.error(O)}throw new E.$Ao(b.$Mp,E.ExtensionManagementErrorCode.CorruptZip)}}finally{try{await this.delete(o)}catch(c){this.r.error(c)}}}return s===!0?this.r.info(`Extension signature is verified: ${i.identifier.id}`):s===!1?this.r.info(`Extension signature verification is not done: ${i.identifier.id}`):this.r.warn(`Extension signature verification failed with error '${s}': ${i.identifier.id}`),{location:n,verificationStatus:s}}t(i){if(!i.isSigned)return this.r.info(`Extension is not signed: ${i.identifier.id}`),!1;const r=this.m.getValue("extensions.verifySignature");return(0,h.$Pf)(r)?r:!0}async u(i){await this.g;const r=(0,A.$Ig)(this.extensionsDownloadDir,`${this.z(i)}${p.c}`);try{await this.w(i,r,t=>this.j.downloadSignatureArchive(i,t))}catch(t){throw new E.$Ao(t.message,E.ExtensionManagementErrorCode.DownloadSignature)}return r}async w(i,r,t){if(await this.h.exists(r))return;if(r.scheme!==N.Schemas.file){await t(r);return}const n=(0,A.$Ig)(this.extensionsDownloadDir,`.${(0,a.$rg)()}`);await this.h.exists(n)||await t(n);try{await v.Promises.rename(n.fsPath,r.fsPath,2*60*1e3)}catch(s){try{await this.h.del(n)}catch{}if(s.code==="ENOTEMPTY")this.r.info("Rename failed because the file was downloaded by another source. So ignoring renaming.",i.identifier.id,r.path);else throw this.r.info(`Rename failed because of ${(0,j.$0)(s)}. Deleted the file from downloaded location`,n.path),s}}async delete(i){await this.g,await this.h.del(i)}async y(){try{if(!await this.h.exists(this.extensionsDownloadDir)){this.r.trace("Extension VSIX downloads cache dir does not exist");return}const i=await this.h.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(i.children){const r=[],t=[],n=[];for(const c of i.children)if(c.name.endsWith(p.c))n.push(c.resource);else{const I=S.$3o.parse(c.name);I&&t.push([I,c])}const s=(0,S.$8o)(t,([c])=>c),o=[];for(const c of s)c.sort((I,O)=>k.rcompare(I[0].version,O[0].version)),r.push(...c.slice(1).map(I=>I[1].resource)),o.push(c[0][1]);o.sort((c,I)=>c.mtime-I.mtime),r.push(...o.slice(0,Math.max(0,o.length-this.f)).map(c=>c.resource)),r.push(...n),await L.Promises.settled(r.map(c=>(this.r.trace("Deleting from cache",c.path),this.h.del(c))))}}catch(i){this.r.error(i)}}z(i){return this.f?S.$3o.create(i).toString().toLowerCase():(0,a.$rg)()}};e.$6p=u,e.$6p=u=p=me([se(0,f.$ci),se(1,l.$rk),se(2,E.$zo),se(3,m.$Ai),se(4,$.$Gp),se(5,w.$oj)],u)}),define(ie[145],ne([0,1,6,2,31,26,37]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0p=void 0;class k extends j.$Tc{constructor(a,v,b,m,f,E,S){super(),this.f=a,this.g=v,this.h=b,this.j=m,this.m=f,this.n=E,this.r=S,this.a=this.B(new L.$Wd),this.onDidChangeExtensionsByAnotherSource=this.a.event,this.b=new Map,this.c=this.B(new j.$3c),this.s().then(null,$=>S.error($))}async s(){await this.g.initializeDefaultProfileExtensions(),await this.u(this.h.profiles),this.t(),await this.H()}t(){this.B(this.h.onDidChangeProfiles(a=>this.u(a.added))),this.B(this.j.onAddExtensions(a=>this.w(a))),this.B(this.j.onDidAddExtensions(a=>this.y(a))),this.B(this.j.onRemoveExtensions(a=>this.z(a))),this.B(this.j.onDidRemoveExtensions(a=>this.C(a))),this.B(this.n.onDidFilesChange(a=>this.D(a)))}async u(a){try{a.length&&await Promise.all(a.map(v=>(this.c.set(v.id,(0,j.$Qc)(this.n.watch(this.m.extUri.dirname(v.extensionsResource)),this.n.watch(v.extensionsResource))),this.G(v.extensionsResource))))}catch(v){throw this.r.error(v),v}}async w(a){for(const v of a.extensions)this.I(this.L(v.identifier,v.version),a.profileLocation)}async y(a){for(const v of a.extensions){const b=this.L(v.identifier,v.version);a.error?this.J(b,a.profileLocation):this.I(b,a.profileLocation)}}async z(a){for(const v of a.extensions)this.J(this.L(v.identifier,v.version),a.profileLocation)}async C(a){const v=[],b=[];for(const m of a.extensions){const f=this.L(m.identifier,m.version);a.error?this.I(f,a.profileLocation):(this.J(f,a.profileLocation),this.b.has(f)||(this.r.debug("Extension is removed from all profiles",m.identifier.id,m.version),b.push(this.f.scanInstalledExtensionAtLocation(m.location).then(E=>{E?v.push(E):this.r.info("Extension not found at the location",m.location.toString())},E=>this.r.error(E)))))}try{await Promise.all(b),v.length&&await this.H(v)}catch(m){this.r.error(m)}}D(a){for(const v of this.h.profiles)a.contains(v.extensionsResource,0,1)&&this.F(v.extensionsResource)}async F(a){const v=[],b=[],m=await this.j.scanProfileExtensions(a),f=new Set,E=new Set;for(const[S,$]of this.b)$.has(a)&&E.add(S);for(const S of m){const $=this.L(S.identifier,S.version);f.add($),E.has($)||(v.push(S.identifier),this.I($,a))}for(const S of E)if(!f.has(S)){const $=this.M(S);$&&(b.push($.identifier),this.J(S,a))}(v.length||b.length)&&this.a.fire({added:v.length?{extensions:v,profileLocation:a}:void 0,removed:b.length?{extensions:b,profileLocation:a}:void 0})}async G(a){const v=await this.j.scanProfileExtensions(a);for(const b of v)this.I(this.L(b.identifier,b.version),a)}async H(a){a||(a=(await this.f.scanAllUserInstalledExtensions()).filter(b=>!this.b.has(this.L(b.identifier,b.manifest.version)))),a.length&&await this.f.markAsUninstalled(...a)}I(a,v){let b=this.b.get(a);b||this.b.set(a,b=new R.$Bc(m=>this.m.extUri.getComparisonKey(m))),b.add(v)}J(a,v){const b=this.b.get(a);b&&b.delete(v),b?.size||this.b.delete(a)}L(a,v){return`${A.$mm.toKey(a.id)}@${v}`}M(a){const[v,b]=(0,N.$4o)(a);return b?{identifier:{id:v},version:b}:void 0}}e.$0p=k}),define(ie[146],ne([0,1,117,41]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Cp=void 0;async function R(N,A,k,h,a,v,b){const m={"X-Market-Client-Id":`VSCode ${N}`,"User-Agent":`VSCode ${N} (${A.nameShort})`};if((0,j.$To)(A,k)&&(0,j.$Vo)(h)===3){const f=await(0,L.$Bp)(k,a,v);m["X-Market-User-Id"]=f,m["VSCode-SessionId"]=b.machineId||f}return m}e.$Cp=R}),define(ie[147],ne([0,1,174,19,9,2,15,16,24,18,21,26,4,63,11]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kr=void 0;let S=class extends f.$jr{constructor(p,u,g,i){super(g),this.h=p,this.j=i,this.g=this.B(new $(u,i)),this.h.registerParticipant({postInstall:async r=>this.m(r),postUninstall:async r=>this.n(r)})}async getBuiltInExtensionTranslationsUri(p,u){const i=(await this.g.getLanguagePacks())[u];if(!i){this.j.warn(`No language pack found for ${u}`);return}const r=i.translations[p];return r?E.URI.file(r):void 0}async getInstalledLanguages(){const p=await this.g.getLanguagePacks(),u=Object.keys(p).map(g=>{const i=p[g];return{...this.f(g,i.label),extensionId:i.extensions[0].extensionIdentifier.id}});return u.push(this.f("en","English")),u.sort((g,i)=>g.label.localeCompare(i.label)),u}async m(p){p&&p.manifest&&p.manifest.contributes&&p.manifest.contributes.localizations&&p.manifest.contributes.localizations.length&&(this.j.info("Adding language packs from the extension",p.identifier.id),await this.update())}async n(p){const u=await this.g.getLanguagePacks();Object.keys(u).some(g=>u[g]&&u[g].extensions.some(i=>(0,b.$2o)(i.extensionIdentifier,p.identifier)))&&(this.j.info("Removing language packs from the extension",p.identifier.id),await this.update())}async update(){const[p,u]=await Promise.all([this.g.getLanguagePacks(),this.h.getInstalled()]),g=await this.g.update(u);return!(0,j.$ub)(Object.keys(p),Object.keys(g))}};e.$kr=S,e.$kr=S=me([se(0,v.$Co),se(1,a.$ci),se(2,v.$zo),se(3,m.$oj)],S);let $=class extends N.$Tc{constructor(p,u){super(),this.j=u,this.c={},this.f=(0,k.$jc)(p.userDataPath,"languagepacks.json"),this.g=new R.$bh}getLanguagePacks(){return this.g.size||!this.h?this.s().then(()=>this.c):Promise.resolve(this.c)}update(p){return this.s(u=>{Object.keys(u).forEach(g=>delete u[g]),this.m(u,...p)}).then(()=>this.c)}m(p,...u){for(const g of u)g&&g.manifest&&g.manifest.contributes&&g.manifest.contributes.localizations&&g.manifest.contributes.localizations.length&&this.n(p,g);Object.keys(p).forEach(g=>this.r(p[g]))}n(p,u){const g=u.identifier,i=u.manifest.contributes&&u.manifest.contributes.localizations?u.manifest.contributes.localizations:[];for(const r of i)if(u.location.scheme===A.Schemas.file&&l(r)){let t=p[r.languageId];t||(t={hash:"",extensions:[],translations:{},label:r.localizedLanguageName??r.languageName},p[r.languageId]=t);const n=t.extensions.filter(s=>(0,b.$2o)(s.extensionIdentifier,g))[0];n?n.version=u.manifest.version:t.extensions.push({extensionIdentifier:g,version:u.manifest.version});for(const s of r.translations)t.translations[s.id]=(0,k.$jc)(u.location.fsPath,s.path)}}r(p){if(p){const u=(0,L.createHash)("md5");for(const g of p.extensions)u.update(g.extensionIdentifier.uuid||g.extensionIdentifier.id).update(g.version);p.hash=u.digest("hex")}}s(p=()=>null){return this.g.queue(()=>{let u=null;return h.Promises.readFile(this.f,"utf8").then(void 0,g=>g.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(g)).then(g=>{try{return JSON.parse(g)}catch{return{}}}).then(g=>(u=p(g),g)).then(g=>{for(const r of Object.keys(g))g[r]||delete g[r];this.c=g,this.h=!0;const i=JSON.stringify(this.c);return this.j.debug("Writing language packs",i),h.Promises.writeFile(this.f,i)}).then(()=>u,g=>this.j.error(g))})}};$=me([se(0,a.$ci),se(1,m.$oj)],$);function l(w){if(typeof w.languageId!="string"||!Array.isArray(w.translations)||w.translations.length===0)return!1;for(const p of w.translations)if(typeof p.id!="string"||typeof p.path!="string")return!1;return!(w.languageName&&typeof w.languageName!="string"||w.localizedLanguageName&&typeof w.localizedLanguageName!="string")}}),define(ie[148],ne([0,1,83,7,27,41]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uO=void 0;const A="https://mobile.events.data.microsoft.com/OneCollector/1.0",k="https://mobile.events.data.microsoft.com/ping";async function h(v,b,m){const f=await(0,L.$iD)("@microsoft/1ds-core-js","dist/ms.core.js"),E=await(0,L.$iD)("@microsoft/1ds-post-js","dist/ms.post.js"),S=new f.AppInsightsCore,$=new E.PostChannel,l={instrumentationKey:v,endpointUrl:A,loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[$]]};if(m){l.extensionConfig={};const w={alwaysUseXhrOverride:!0,ignoreMc1Ms0CookieProcessing:!0,httpXHROverride:m};l.extensionConfig[$.identifier]=w}return S.initialize(l,[]),S.addTelemetryInitializer(w=>{w.ext=w.ext??{},w.ext.web=w.ext.web??{},w.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',b&&(w.ext.utc=w.ext.utc??{},w.ext.utc.flags=8462029)}),S}class a{constructor(b,m,f,E,S){this.e=b,this.f=m,this.g=f,this.h=S,this.c=A,this.d=k,this.g||(this.g={}),typeof E=="function"?this.a=E():this.a=E,this.b=null}i(b){if(this.a){if(typeof this.a!="string"){b(this.a);return}this.b||(this.b=h(this.a,this.e,this.h)),this.b.then(m=>{b(m)},m=>{(0,j.$1)(m),console.error(m)})}}log(b,m){if(!this.a)return;m=(0,R.$zn)(m,this.g),m=(0,N.$Wo)(m);const f=this.f+"/"+b;try{this.i(E=>{E.pluginVersionString=m?.properties.version??"Unknown",E.track({name:f,baseData:{name:f,properties:m?.properties,measurements:m?.measurements}})})}catch{}}flush(){return this.a?new Promise(b=>{this.i(m=>{m.unload(!0,()=>{this.a=void 0,b(void 0)})})}):Promise.resolve(void 0)}}e.$uO=a}),define(ie[149],ne([0,1,2,27,12,30,108,29,40,150,32,36,25,41]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qr=void 0;let E=class{static{this.IDLE_START_EVENT_NAME="UserIdleStart"}static{this.IDLE_STOP_EVENT_NAME="UserIdleStop"}constructor(l,w,p){this.k=w,this.l=p,this.d={},this.i=new L.$Sc,this.j=[],this.b=l.appenders,this.c=l.commonProperties??Object.create(null),this.sessionId=this.c.sessionID,this.machineId=this.c["common.machineId"],this.sqmId=this.c["common.sqmId"],this.firstSessionDate=this.c["common.firstSessionDate"],this.msftInternal=this.c["common.msftInternal"],this.f=l.piiPaths||[],this.g=3,this.h=!!l.sendErrorTelemetry,this.j=[/(vscode-)?file:\/\/\/.*?\/resources\/app\//gi];for(const u of this.f)this.j.push(new RegExp((0,N.$Pe)(u),"gi")),u.indexOf("\\")>=0&&this.j.push(new RegExp((0,N.$Pe)(u.replace(/\\/g,"/")),"gi"));this.m(),this.i.add(this.k.onDidChangeConfiguration(u=>{(u.affectsConfiguration(m.$Dl)||u.affectsConfiguration(m.$Fl)||u.affectsConfiguration(m.$El))&&this.m()}))}setExperimentProperty(l,w){this.d[l]=w}m(){let l=(0,f.$Vo)(this.k);const w=this.l.enabledTelemetryLevels;if(w){this.h=this.sendErrorTelemetry?w.error:!1;const p=w.usage?3:w.error?2:0;l=Math.min(l,p)}this.g=l}get sendErrorTelemetry(){return this.h}get telemetryLevel(){return this.g}dispose(){this.i.dispose()}n(l,w,p){this.g<w||(p=(0,j.$zn)(p,this.d),p=(0,f.$1o)(p,this.j),p=(0,j.$zn)(p,this.c),this.b.forEach(u=>u.log(l,p)))}publicLog(l,w){this.n(l,3,w)}publicLog2(l,w){this.publicLog(l,w)}publicLogError(l,w){this.h&&this.n(l,2,w)}publicLogError2(l,w){this.publicLogError(l,w)}};e.$qr=E,e.$qr=E=me([se(1,k.$Ai),se(2,v.$Gj)],E);function S(){const $=(0,A.localize)(0,null,a.default.nameLong),l=a.default.privacyStatementUrl?(0,A.localize)(2,null,"https://aka.ms/vscode-telemetry",a.default.privacyStatementUrl):(0,A.localize)(1,null,"https://aka.ms/vscode-telemetry"),w=R.$o?"":(0,A.localize)(3,null),p=(0,A.localize)(4,null),u=(0,A.localize)(5,null),g=(0,A.localize)(6,null),i=(0,A.localize)(7,null),r=`
|       | ${p} | ${u} | ${g} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,t=(0,A.localize)(8,null);return`
${$} ${l} ${w}

&nbsp;

${i}
${r}

&nbsp;

${t}
`}b.$In.as(h.$Nn.Configuration).registerConfiguration({id:m.$Cl,order:1,type:"object",title:(0,A.localize)(9,null),properties:{[m.$Dl]:{type:"string",enum:["all","error","crash","off"],enumDescriptions:[(0,A.localize)(10,null),(0,A.localize)(11,null),(0,A.localize)(12,null),(0,A.localize)(13,null)],markdownDescription:S(),default:"all",restricted:!0,scope:1,tags:["usesOnlineServices","telemetry"]}}}),b.$In.as(h.$Nn.Configuration).registerConfiguration({id:m.$Cl,order:110,type:"object",title:(0,A.localize)(14,null),properties:{[m.$Fl]:{type:"boolean",markdownDescription:a.default.privacyStatementUrl?(0,A.localize)(16,null,a.default.nameLong,a.default.privacyStatementUrl):(0,A.localize)(15,null,a.default.nameLong),default:!0,restricted:!0,markdownDeprecationMessage:(0,A.localize)(17,null,`\`#${m.$Dl}#\``),scope:1,tags:["usesOnlineServices","telemetry"]}}})}),define(ie[151],ne([0,1,14,20,175,148]),function(J,e,L,j,R,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vO=void 0;async function A(v,b){const m=await b.request(v,j.CancellationToken.None),f=(await(0,L.$we)(m.stream)).toString(),E=m.res.statusCode??200;return{headers:m.res.headers,statusCode:E,responseData:f}}async function k(v){const b={method:v.type,headers:v.headers};return new Promise((f,E)=>{const S=R.request(v.url??"",b,$=>{$.on("data",function(l){f({headers:$.headers,statusCode:$.statusCode??200,responseData:l.toString()})}),$.on("error",function(l){E(l)})});S.write(v.data,$=>{$&&E($)}),S.end()})}async function h(v,b,m){const f=typeof b.data=="string"?b.data:new TextDecoder().decode(b.data),E={type:"POST",headers:{...b.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(b.data).toString()},url:b.urlString,data:f};try{const S=v?await A(E,v):await k(E);m(S.statusCode,S.headers,S.responseData)}catch{m(0,{})}}class a extends N.$uO{constructor(b,m,f,E,S){const $={sendPOST:(l,w)=>{h(b,l,w)}};super(m,f,E,S,$)}}e.$vO=a}),define(ie[152],ne([0,1,16,24]),function(J,e,L,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fac=void 0;async function R(N,A){const k=Object.create(null),h=(v,b)=>{const m=JSON.parse(v);k[b]=m};if(A){const v=[],b=await j.Promises.readdir(A);for(const f of b)try{(await j.Promises.stat((0,L.$jc)(A,f))).isDirectory()&&v.push(f)}catch{}const m=[];for(const f of v)(await j.Promises.readdir((0,L.$jc)(A,f))).filter(S=>S==="telemetry.json").length===1&&m.push(f);for(const f of m){const E=(await j.Promises.readFile((0,L.$jc)(A,f,"telemetry.json"))).toString();h(E,f)}}let a=(await j.Promises.readFile((0,L.$jc)(N,"telemetry-core.json"))).toString();return h(a,"vscode-core"),a=(await j.Promises.readFile((0,L.$jc)(N,"telemetry-extensions.json"))).toString(),h(a,"vscode-extensions"),JSON.stringify(k,null,4)}e.$fac=R}),define(ie[153],ne([0,1,12,84,25]),function(J,e,L,j,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$w_b=e.$v_b=void 0;async function N(k,h){let a=k.getItem(R.$Al);return(typeof a!="string"||L.$j&&a==="6c9d2bc8f91b89624add29c0abeae7fb42bf539fa1cdb2e3e57cd668fa9bcead")&&(a=await(0,j.$_m)(h.error.bind(h))),a}e.$v_b=N;async function A(k,h){let a=k.getItem(R.$Bl);return typeof a!="string"&&(a=await(0,j.$an)(h.error.bind(h))),a}e.$w_b=A}),define(ie[22],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2k=void 0,e.$2k=(0,L.$7h)("IUriIdentityService")}),define(ie[154],ne([0,1,22,118,13,17,75,6,2]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3r=void 0;class a{static{this._clock=0}constructor(m){this.uri=m,this.time=a._clock++}touch(){return this.time=a._clock++,this}}let v=class{constructor(m){this.g=m,this.c=new h.$Sc,this.f=2**16;const f=new Map,E=S=>{let $=f.get(S.scheme);return $===void 0&&($=m.hasProvider(S)&&!this.g.hasCapability(S,1024),f.set(S.scheme,$)),$};this.c.add(k.Event.any(m.onDidChangeFileSystemProviderRegistrations,m.onDidChangeFileSystemProviderCapabilities)(S=>{f.delete(S.scheme)})),this.extUri=new N.$xg(E),this.d=new A.$2r((S,$)=>this.extUri.compare(S,$,!0),this.f)}dispose(){this.c.dispose(),this.d.clear()}asCanonicalUri(m){this.g.hasProvider(m)&&(m=(0,N.$Jg)(m));const f=this.d.get(m);return f?f.touch().uri.with({fragment:m.fragment}):(this.d.set(m,new a(m)),this.h(),m)}h(){if(this.d.size<this.f)return;const m=[...this.d.entries()].sort((E,S)=>E[1].time<S[1].time?1:E[1].time>S[1].time?-1:0);a._clock=0,this.d.clear();const f=this.f*.5;for(let E=0;E<f;E++)this.d.set(m[E][0],m[E][1].touch())}};e.$3r=v,e.$3r=v=me([se(0,R.$rk)],v),(0,j.$Zr)(L.$2k,v,1)}),define(ie[155],ne([0,1,6,2,13,48,31]),function(J,e,L,j,R,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$T_b=void 0;class k extends j.$Tc{constructor(a,v,b,m,f,E){super(),this.f=a,this.g=v,this.h=b,this.j=m,this.m=f,this.n=E,this.capabilities=this.g.capabilities,this.onDidChangeCapabilities=this.g.onDidChangeCapabilities,this.a=this.B(new L.$Wd),this.onDidChangeFile=this.a.event,this.b=N.$ai.forUris(()=>!(this.capabilities&1024)),this.c=new A.$Bc(S=>this.m.extUri.getComparisonKey(this.t(S))),this.r(),this.B(m.onDidChangeProfiles(()=>this.r())),this.B(this.g.onDidChangeFile(S=>this.s(S)))}r(){this.c.clear();for(const a of this.j.profiles)this.c.add(a.settingsResource),this.c.add(a.keybindingsResource),this.c.add(a.tasksResource),this.c.add(a.extensionsResource)}open(a,v){return this.g.open(this.t(a),v)}close(a){return this.g.close(a)}read(a,v,b,m,f){return this.g.read(a,v,b,m,f)}write(a,v,b,m,f){return this.g.write(a,v,b,m,f)}watch(a,v){this.b.set(a,a);const b=this.g.watch(this.t(a),v);return(0,j.$Rc)(()=>{this.b.delete(a),b.dispose()})}stat(a){return this.g.stat(this.t(a))}mkdir(a){return this.g.mkdir(this.t(a))}rename(a,v,b){return this.g.rename(this.t(a),this.t(v),b)}readFile(a,v){return this.g.readFile(this.t(a),v)}readFileStream(a,v,b){return this.g.readFileStream(this.t(a),v,b)}readdir(a){return this.g.readdir(this.t(a))}enforceAtomicReadFile(a){return this.c.has(a)}writeFile(a,v,b){return this.g.writeFile(this.t(a),v,b)}enforceAtomicWriteFile(a){return this.c.has(a)?{postfix:".vsctmp"}:!1}delete(a,v){return this.g.delete(this.t(a),v)}copy(a,v,b){if((0,R.$vk)(this.g))return this.g.copy(this.t(a),this.t(v),b);throw new Error("copy not supported")}cloneFile(a,v){if((0,R.$wk)(this.g))return this.g.cloneFile(this.t(a),this.t(v));throw new Error("clone not supported")}s(a){const v=[];for(const b of a){if(b.resource.scheme!==this.f)continue;const m=this.u(b.resource);this.b.findSubstr(m)&&v.push({resource:m,type:b.type,cId:b.cId})}v.length&&(this.n.debug("User data changed"),this.a.fire(v))}t(a){return a.with({scheme:this.f})}u(a){return a.with({scheme:this.h})}}e.$T_b=k}),define(ie[156],ne([0,1,110,16,48,17,11,10,15]),function(J,e,L,j,R,N,A,k,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zi=e.$yi=e.$xi=e.$wi=e.$vi=e.$ui=e.$ti=e.$si=e.$ri=e.$qi=e.$pi=e.$oi=e.$ni=e.$mi=e.$li=e.WorkbenchState=e.$ki=e.$ji=e.$ii=e.$hi=e.$gi=e.$fi=e.$ei=e.$di=void 0,e.$di=(0,k.$7h)("contextService");function a(n){const s=n;return typeof s?.id=="string"&&A.URI.isUri(s.uri)}e.$ei=a;function v(n){return typeof n?.id=="string"&&!a(n)&&!m(n)}e.$fi=v,e.$gi={id:"ext-dev"},e.$hi={id:"empty-window"};function b(n,s){if(typeof n=="string"||typeof n>"u")return typeof n=="string"?{id:(0,j.$nc)(n)}:s?e.$gi:e.$hi;const o=n;return o.configuration?{id:o.id,configPath:o.configuration}:o.folders.length===1?{id:o.id,uri:o.folders[0].uri}:{id:o.id}}e.$ii=b;function m(n){const s=n;return typeof s?.id=="string"&&A.URI.isUri(s.configPath)}e.$ji=m;function f(n){const s=n;if(s?.uri)return{id:s.id,uri:A.URI.revive(s.uri)};const o=n;if(o?.configPath)return{id:o.id,configPath:A.URI.revive(o.configPath)};if(n?.id)return{id:n.id}}e.$ki=f;var E;(function(n){n[n.EMPTY=1]="EMPTY",n[n.FOLDER=2]="FOLDER",n[n.WORKSPACE=3]="WORKSPACE"})(E||(e.WorkbenchState=E={}));function S(n){const s=n;return!!(s&&typeof s=="object"&&typeof s.id=="string"&&Array.isArray(s.folders))}e.$li=S;function $(n){const s=n;return!!(s&&typeof s=="object"&&A.URI.isUri(s.uri)&&typeof s.name=="string"&&typeof s.toResource=="function")}e.$mi=$;class l{constructor(s,o,c,I,O){this.h=s,this.j=c,this.k=I,this.l=O,this.c=R.$ai.forUris(this.l,()=>!0),this.folders=o}update(s){this.h=s.id,this.k=s.configuration,this.j=s.transient,this.l=s.l,this.folders=s.folders}get folders(){return this.g}set folders(s){this.g=s,this.n()}get id(){return this.h}get transient(){return this.j}get configuration(){return this.k}set configuration(s){this.k=s}getFolder(s){return s&&this.c.findSubstr(s)||null}n(){this.c=R.$ai.forUris(this.l,()=>!0);for(const s of this.folders)this.c.set(s.uri,s)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.$ni=l;class w{constructor(s,o){this.raw=o,this.uri=s.uri,this.index=s.index,this.name=s.name}toResource(s){return(0,N.$Ig)(this.uri,s)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.$oi=w;function p(n){return new w({uri:n,index:0,name:(0,N.$Eg)(n)},{uri:n.toString()})}e.$pi=p,e.$qi="code-workspace",e.$ri=`.${e.$qi}`,e.$si=[{name:(0,L.localize)(0,null),extensions:[e.$qi]}],e.$ti="workspace.json";function u(n,s){return N.$zg.isEqualOrParent(n,s.untitledWorkspacesHome)}e.$ui=u;function g(n){let s;return A.URI.isUri(n)?s=n:s=n.configuration,s?.scheme===h.Schemas.tmp}e.$vi=g,e.$wi="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(n){return n.id===e.$wi}e.$xi=i;function r(n,s){return!u(n,s)&&!g(n)}e.$yi=r;function t(n){return(typeof n=="string"?(0,j.$oc)(n):(0,N.$Gg)(n))===e.$ri}e.$zi=t}),define(ie[23],ne([0,1,43,6,2,17,11,109,18,13,10,4,156,31,22,9,28,30,3]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8k=e.$7k=e.$6k=e.$5k=e.$4k=e.$3k=e.ProfileResourceType=void 0;var p;(function(n){n.Settings="settings",n.Keybindings="keybindings",n.Snippets="snippets",n.Tasks="tasks",n.Extensions="extensions",n.GlobalState="globalState"})(p||(e.ProfileResourceType=p={}));function u(n){const s=n;return!!(s&&typeof s=="object"&&typeof s.id=="string"&&typeof s.isDefault=="boolean"&&typeof s.name=="string"&&A.URI.isUri(s.location)&&A.URI.isUri(s.globalStorageHome)&&A.URI.isUri(s.settingsResource)&&A.URI.isUri(s.keybindingsResource)&&A.URI.isUri(s.tasksResource)&&A.URI.isUri(s.snippetsHome)&&A.URI.isUri(s.extensionsResource))}e.$3k=u,e.$4k=(0,v.$7h)("IUserDataProfilesService");function g(n,s){return{id:n.id,isDefault:n.isDefault,name:n.name,shortName:n.shortName,icon:n.icon,location:A.URI.revive(n.location).with({scheme:s}),globalStorageHome:A.URI.revive(n.globalStorageHome).with({scheme:s}),settingsResource:A.URI.revive(n.settingsResource).with({scheme:s}),keybindingsResource:A.URI.revive(n.keybindingsResource).with({scheme:s}),tasksResource:A.URI.revive(n.tasksResource).with({scheme:s}),snippetsHome:A.URI.revive(n.snippetsHome).with({scheme:s}),extensionsResource:A.URI.revive(n.extensionsResource).with({scheme:s}),cacheHome:A.URI.revive(n.cacheHome).with({scheme:s}),useDefaultFlags:n.useDefaultFlags,isTransient:n.isTransient}}e.$5k=g;function i(n,s,o,c,I,O){return{id:n,name:s,location:o,isDefault:!1,shortName:I?.shortName,icon:I?.icon,globalStorageHome:O&&I?.useDefaultFlags?.globalState?O.globalStorageHome:(0,N.$Ig)(o,"globalStorage"),settingsResource:O&&I?.useDefaultFlags?.settings?O.settingsResource:(0,N.$Ig)(o,"settings.json"),keybindingsResource:O&&I?.useDefaultFlags?.keybindings?O.keybindingsResource:(0,N.$Ig)(o,"keybindings.json"),tasksResource:O&&I?.useDefaultFlags?.tasks?O.tasksResource:(0,N.$Ig)(o,"tasks.json"),snippetsHome:O&&I?.useDefaultFlags?.snippets?O.snippetsHome:(0,N.$Ig)(o,"snippets"),extensionsResource:O&&I?.useDefaultFlags?.extensions?O.extensionsResource:(0,N.$Ig)(o,"extensions.json"),cacheHome:(0,N.$Ig)(c,n),useDefaultFlags:I?.useDefaultFlags,isTransient:I?.transient}}e.$6k=i;let r=class extends R.$Tc{static{this.b="userDataProfiles"}static{this.c="profileAssociations"}get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.C.profiles,...this.s.profiles]}constructor(s,o,c,I){super(),this.t=s,this.u=o,this.w=c,this.y=I,this.f=!0,this.h=this.B(new j.$Wd),this.onDidChangeProfiles=this.h.event,this.j=this.B(new j.$Wd),this.onWillCreateProfile=this.j.event,this.m=this.B(new j.$Wd),this.onWillRemoveProfile=this.m.event,this.n=this.B(new j.$Wd),this.onDidResetWorkspaces=this.n.event,this.r=new Map,this.s={profiles:[],workspaces:new f.$Ac,emptyWindows:new Map},this.profilesHome=(0,N.$Ig)(this.t.userRoamingDataHome,"profiles"),this.g=(0,N.$Ig)(this.t.cacheHome,"CachedProfilesData")}init(){this.z=void 0}setEnablement(s){this.f!==s&&(this.z=void 0,this.f=s)}isEnabled(){return this.f}get C(){if(!this.z){const s=this.D(),o=[s];if(this.f)try{for(const O of this.O()){if(!O.name||!(0,w.$Jf)(O.name)||!O.location){this.y.warn("Skipping the invalid stored profile",O.location||O.name);continue}o.push(i((0,N.$Fg)(O.location),O.name,O.location,this.g,{shortName:O.shortName,icon:O.icon,useDefaultFlags:O.useDefaultFlags},s))}}catch(O){this.y.error(O)}const c=new f.$Ac,I=new Map;if(o.length)try{const O=this.Q();if(O.workspaces)for(const[y,D]of Object.entries(O.workspaces)){const W=A.URI.parse(y),te=o.find(_=>_.id===D);te&&c.set(W,te)}if(O.emptyWindows)for(const[y,D]of Object.entries(O.emptyWindows)){const W=o.find(te=>te.id===D);W&&I.set(y,W)}}catch(O){this.y.error(O)}this.z={profiles:o,workspaces:c,emptyWindows:I}}return this.z}D(){const s=i("__default__profile__",(0,k.localize)(0,null),this.t.userRoamingDataHome,this.g);return{...s,extensionsResource:this.S()??s.extensionsResource,isDefault:!0}}async createTransientProfile(s){const o="Temp",c=new RegExp(`${(0,l.$Pe)(o)}\\s(\\d+)`);let I=0;for(const y of this.profiles){const D=c.exec(y.name),W=D?parseInt(D[1]):0;I=W>I?W:I}const O=`${o} ${I+1}`;return this.createProfile((0,L.$Ui)((0,$.$rg)()).toString(16),O,{transient:!0},s)}async createNamedProfile(s,o,c){return this.createProfile((0,L.$Ui)((0,$.$rg)()).toString(16),s,o,c)}async createProfile(s,o,c,I){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const O=await this.F(s,o,c);return I&&await this.setProfileForWorkspace(I,O),O}async F(s,o,c){if(!(0,w.$Jf)(o)||!o)throw new Error("Name of the profile is mandatory and must be of type `string`");let I=this.r.get(o);return I||(I=(async()=>{try{const O=this.profiles.find(W=>W.name===o||W.id===s);if(O)return O;const y=i(s,o,(0,N.$Ig)(this.profilesHome,s),this.g,c,this.defaultProfile);await this.u.createFolder(y.location);const D=[];return this.j.fire({profile:y,join(W){D.push(W)}}),await S.Promises.settled(D),this.I([y],[],[]),y}finally{this.r.delete(o)}})(),this.r.set(o,I)),I}async updateProfile(s,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");let c=this.profiles.find(I=>I.id===s.id);if(!c)throw new Error(`Profile '${s.name}' does not exist`);return c=i(c.id,o.name??c.name,c.location,this.g,{shortName:o.shortName??c.shortName,icon:o.icon===null?void 0:o.icon??c.icon,transient:o.transient??c.isTransient,useDefaultFlags:o.useDefaultFlags??c.useDefaultFlags},this.defaultProfile),this.I([],[],[c]),c}async removeProfile(s){if(!this.f)throw new Error("Profiles are disabled in the current environment.");if(s.isDefault)throw new Error("Cannot remove default profile");const o=this.profiles.find(I=>I.id===s.id);if(!o)throw new Error(`Profile '${s.name}' does not exist`);const c=[];this.m.fire({profile:o,join(I){c.push(I)}});try{await Promise.allSettled(c)}catch(I){this.y.error(I)}for(const I of[...this.C.emptyWindows.keys()])o.id===this.C.emptyWindows.get(I)?.id&&this.C.emptyWindows.delete(I);for(const I of[...this.C.workspaces.keys()])o.id===this.C.workspaces.get(I)?.id&&this.C.workspaces.delete(I);this.M(),this.I([],[o],[]);try{await this.u.del(o.cacheHome,{recursive:!0})}catch(I){(0,a.$Ik)(I)!==1&&this.y.error(I)}}async setProfileForWorkspace(s,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const c=this.profiles.find(I=>I.id===o.id);if(!c)throw new Error(`Profile '${o.name}' does not exist`);this.L(s,c)}unsetWorkspace(s,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");this.L(s,void 0,o)}async resetWorkspaces(){this.s.workspaces.clear(),this.s.emptyWindows.clear(),this.C.workspaces.clear(),this.C.emptyWindows.clear(),this.M(),this.n.fire()}async cleanUp(){if(this.f&&await this.u.exists(this.profilesHome)){const s=await this.u.resolve(this.profilesHome);await Promise.all((s.children||[]).filter(o=>o.isDirectory&&this.profiles.every(c=>!this.w.extUri.isEqual(c.location,o.resource))).map(o=>this.u.del(o.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.f)return;const s=this.s.profiles.filter(o=>!this.H(o));await Promise.allSettled(s.map(o=>this.removeProfile(o)))}getProfileForWorkspace(s){const o=this.G(s);return A.URI.isUri(o)?this.s.workspaces.get(o)??this.C.workspaces.get(o):this.s.emptyWindows.get(o)??this.C.emptyWindows.get(o)}G(s){return(0,m.$ei)(s)?s.uri:(0,m.$ji)(s)?s.configPath:s.id}H(s){return!!([...this.s.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,s.location))||[...this.s.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,s.location))||[...this.C.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,s.location))||[...this.C.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,s.location)))}I(s,o,c){const I=[...this.profiles,...s],O=[];this.s.profiles=[];for(let y of I)y.isDefault||o.some(D=>y.id===D.id)||(y=c.find(D=>y.id===D.id)??y,y.isTransient?this.s.profiles.push(y):O.push({location:y.location,name:y.name,shortName:y.shortName,icon:y.icon,useDefaultFlags:y.useDefaultFlags}));this.P(O),this.z=void 0,this.J(s,o,c)}J(s,o,c){this.h.fire({added:s,removed:o,updated:c,all:this.profiles})}L(s,o,c){c=o?.isTransient?!0:c,c||this.L(s,void 0,!0);const I=this.G(s),O=c?this.s:this.C;A.URI.isUri(I)?(O.workspaces.delete(I),o&&O.workspaces.set(I,o)):(O.emptyWindows.delete(I),o&&O.emptyWindows.set(I,o)),c||this.M()}M(){const s={};for(const[c,I]of this.C.workspaces.entries())s[c.toString()]=I.id;const o={};for(const[c,I]of this.C.emptyWindows.entries())o[c.toString()]=I.id;this.R({workspaces:s,emptyWindows:o}),this.z=void 0}N(s){const o={},c=this.D();if(s.workspaces)for(const[O,y]of Object.entries(s.workspaces)){const D=A.URI.parse(y);o[O]=this.w.extUri.isEqual(D,c.location)?c.id:this.w.extUri.basename(D)}const I={};if(s.emptyWindows)for(const[O,y]of Object.entries(s.emptyWindows)){const D=A.URI.parse(y);I[O]=this.w.extUri.isEqual(D,c.location)?c.id:this.w.extUri.basename(D)}return{workspaces:o,emptyWindows:I}}O(){return[]}P(s){throw new Error("not implemented")}Q(){return{}}R(s){throw new Error("not implemented")}S(){}};e.$7k=r,e.$7k=r=me([se(0,h.$bi),se(1,a.$rk),se(2,E.$2k),se(3,b.$oj)],r);class t extends r{constructor(){super(...arguments),this.a=[],this.X={}}O(){return this.a}P(s){this.a=s}Q(){return this.X}R(s){this.X=s}}e.$8k=t}),define(ie[157],ne([0,1,19,9,20,7,6,2,12,3,11,94,21,26,37,4,32,25,22,23]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Up=e.$Tp=e.$Sp=e.$Rp=void 0;let u=class extends k.$Tc{get onInstallExtension(){return this.n.event}get onDidInstallExtensions(){return this.s.event}get onUninstallExtension(){return this.t.event}get onDidUninstallExtension(){return this.u.event}get onDidUpdateExtensionMetadata(){return this.w.event}constructor(s,o,c,I,O,y){super(),this.z=s,this.C=o,this.D=c,this.F=I,this.G=O,this.H=y,this.h=0,this.j=new Map,this.m=new Map,this.n=this.B(new A.$Wd),this.s=this.B(new A.$Wd),this.t=this.B(new A.$Wd),this.u=this.B(new A.$Wd),this.w=this.B(new A.$Wd),this.y=[],this.B((0,k.$Rc)(()=>{this.j.forEach(({task:D})=>D.cancel()),this.m.forEach(D=>D.cancel()),this.j.clear(),this.m.clear()}))}async canInstall(s){const o=await this.getTargetPlatform();return s.allTargetPlatforms.some(c=>(0,m.$xo)(c,s.allTargetPlatforms,o))}async installFromGallery(s,o={}){try{const I=(await this.installGalleryExtensions([{extension:s,options:o}])).find(({identifier:O})=>(0,f.$2o)(O,s.identifier));if(I?.local)return I?.local;throw I?.error?I.error:new m.$Ao(`Unknown error while installing extension ${s.identifier.id}`,m.ExtensionManagementErrorCode.Unknown)}catch(c){throw i(c)}}async installGalleryExtensions(s){if(!this.z.isEnabled())throw new m.$Ao(b.localize(0,null),m.ExtensionManagementErrorCode.NotAllowed);const o=[],c=[];await Promise.allSettled(s.map(async({extension:I,options:O})=>{try{const y=await this.O(I,!!O?.installGivenVersion,!!O?.installPreReleaseVersion);c.push({...y,options:O})}catch(y){o.push({identifier:I.identifier,operation:2,source:I,error:y})}})),c.length&&o.push(...await this.I(c));for(const I of o)I.error&&(this.F.error("Failed to install extension.",I.identifier.id),this.F.error(I.error),I.source&&!v.URI.isUri(I.source)&&r(this.C,"extensionGallery:install",{extensionData:(0,f.$0o)(I.source),error:I.error}));return o}async uninstall(s,o={}){return this.F.trace("ExtensionManagementService#uninstall",s.identifier.id),this.Q(s,o)}async toggleAppliationScope(s,o){if((0,E.$pm)(s.manifest)||s.isBuiltin)return s;if(s.isApplicationScoped){let c=await this.updateMetadata(s,{isApplicationScoped:!1},this.H.defaultProfile.extensionsResource);this.D.extUri.isEqual(o,this.H.defaultProfile.extensionsResource)||(c=await this.ab(s,this.H.defaultProfile.extensionsResource,o));for(const I of this.H.profiles){const O=(await this.getInstalled(1,I.extensionsResource)).find(y=>(0,f.$2o)(y.identifier,s.identifier));O?this.w.fire(O):this.u.fire({identifier:s.identifier,profileLocation:I.extensionsResource})}return c}else{const c=this.D.extUri.isEqual(o,this.H.defaultProfile.extensionsResource)?await this.updateMetadata(s,{isApplicationScoped:!0},this.H.defaultProfile.extensionsResource):await this.ab(s,o,this.H.defaultProfile.extensionsResource,{isApplicationScoped:!0});return this.s.fire([{identifier:c.identifier,operation:2,local:c,profileLocation:this.H.defaultProfile.extensionsResource,applicationScoped:!0}]),c}}getExtensionsControlManifest(){const s=new Date().getTime();return(!this.g||s-this.h>1e3*60*5)&&(this.g=this.X(),this.h=s),this.g}registerParticipant(s){this.y.push(s)}async I(s){const o=[];return await Promise.allSettled(s.map(async c=>{try{const I=await this.J(c,(O,y)=>s.some(D=>(0,f.$6o)(y.identifier.id)===(0,f.$7o)(D.manifest.publisher,D.manifest.name))?!1:this.L(O,y));o.push(...I)}catch(I){o.push({identifier:{id:(0,f.$7o)(c.manifest.publisher,c.manifest.name)},operation:2,source:c.extension,error:I})}})),this.s.fire(o),o}async J({manifest:s,extension:o,options:c},I){const O=c.isApplicationScoped||c.isBuiltin||(0,E.$pm)(s),y={...c,installOnlyNewlyAddedFromExtensionPack:v.URI.isUri(o)?c.installOnlyNewlyAddedFromExtensionPack:!0,isApplicationScoped:O,profileLocation:O?this.H.defaultProfile.extensionsResource:c.profileLocation??this.Y()},D=he=>`${f.$3o.create(he).toString()}${y.profileLocation?`-${y.profileLocation.toString()}`:""}`;if(!v.URI.isUri(o)){const he=this.j.get(D(o));if(he)return this.F.info("Extensions is already requested to install",o.identifier.id),await he.task.waitUntilTaskIsFinished(),[]}const W=[],te=[],_=[],oe=this.Z(s,o,y);v.URI.isUri(o)||this.j.set(D(o),{task:oe,waitingTasks:[]}),this.n.fire({identifier:oe.identifier,source:o,profileLocation:y.profileLocation}),this.F.info("Installing extension:",oe.identifier.id),W.push({task:oe,manifest:s});let re=!1;try{if(y.donotIncludePackAndDependencies)this.F.info("Installing the extension without checking dependencies and pack",oe.identifier.id);else try{const ce=await this.N(oe.identifier,s,!!y.installOnlyNewlyAddedFromExtensionPack,!!y.installPreReleaseVersion,y.profileLocation),ae=await this.getInstalled(void 0,y.profileLocation),q={...y,donotIncludePackAndDependencies:!0,context:{...y.context,[m.$so]:!0}};for(const{gallery:Z,manifest:M}of(0,L.$Mb)(ce,({gallery:C})=>C.identifier.id)){re=re||!!M.extensionDependencies?.some(X=>(0,f.$2o)({id:X},oe.identifier));const C=D(Z),V=this.j.get(C);if(V){if(I(oe,V.task)){const X=V.task.identifier;this.F.info("Waiting for already requested installing extension",X.id,oe.identifier.id),V.waitingTasks.push(oe),te.push(A.Event.toPromise(A.Event.filter(this.onDidInstallExtensions,Q=>Q.some(K=>(0,f.$2o)(K.identifier,X)))).then(Q=>{if(this.F.info("Finished waiting for already requested installing extension",X.id,oe.identifier.id),!Q.find(U=>(0,f.$2o)(U.identifier,X))?.local)throw new Error(`Extension ${X.id} is not installed`)}))}}else if(!ae.some(({identifier:X})=>(0,f.$2o)(X,Z.identifier))){const X=this.Z(M,Z,q);this.j.set(C,{task:X,waitingTasks:[oe]}),this.n.fire({identifier:X.identifier,source:Z,profileLocation:y.profileLocation}),this.F.info("Installing extension:",X.identifier.id,oe.identifier.id),W.push({task:X,manifest:M})}}}catch(ce){if(v.URI.isUri(oe.source))(0,L.$Lb)(s.extensionDependencies)&&this.F.warn("Cannot install dependencies of extension:",oe.identifier.id,ce.message),(0,L.$Lb)(s.extensionPack)&&this.F.warn("Cannot install packed extensions of extension:",oe.identifier.id,ce.message);else throw this.F.error("Error while preparing to install dependencies and extension packs of the extension:",oe.identifier.id),ce}const he=W.reduce((ce,{task:ae,manifest:q})=>(ce.set(ae.identifier.id.toLowerCase(),{task:ae,manifest:q}),ce),new Map);for(;he.size;){let ce;const ae=[...he.values()].filter(({manifest:q})=>!q.extensionDependencies?.some(Z=>he.has(Z.toLowerCase())));ae.length?ce=he.size===1?ae:ae.filter(({task:q})=>!(q===oe&&!re)):(this.F.info("Found extensions with circular dependencies",ae.map(({task:q})=>q.identifier.id)),ce=[...he.values()]),await this.M(ce.map(async({task:q})=>{const Z=new Date().getTime();try{const M=await q.run();if(await this.M(this.y.map(C=>C.postInstall(M,q.source,y,R.CancellationToken.None))),!v.URI.isUri(q.source)){const C=q.operation===3,V=C?void 0:(new Date().getTime()-q.source.lastUpdated)/1e3;if(r(this.C,C?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,f.$0o)(q.source),verificationStatus:q.verificationStatus,duration:new Date().getTime()-Z,durationSinceUpdate:V}),h.$o&&q.operation!==3)try{await this.z.reportStatistic(M.manifest.publisher,M.manifest.name,M.manifest.version,"install")}catch{}}_.push({local:M,identifier:q.identifier,operation:q.operation,source:q.source,context:q.options.context,profileLocation:q.profileLocation,applicationScoped:M.isApplicationScoped})}catch(M){throw this.F.error("Error while installing the extension",q.identifier.id,(0,N.$0)(M)),M}finally{he.delete(q.identifier.id.toLowerCase())}}))}return te.length&&await this.M(te),_.forEach(({identifier:ce})=>this.F.info("Extension installed successfully:",ce.id)),_}catch(he){if(W.forEach(({task:ce})=>ce.cancel()),_.length)try{const ce=await Promise.allSettled(_.map(({local:ae})=>this.$(ae,{versionOnly:!0,profileLocation:y.profileLocation}).run()));for(let ae=0;ae<ce.length;ae++){const q=ce[ae],{identifier:Z}=_[ae];q.status==="fulfilled"?this.F.info("Rollback: Uninstalled extension",Z.id):this.F.warn("Rollback: Error while uninstalling extension",Z.id,(0,N.$0)(q.reason))}}catch(ce){this.F.warn("Error while rolling back extensions",(0,N.$0)(ce),_.map(({identifier:ae})=>ae.id))}return W.map(({task:ce})=>({identifier:ce.identifier,operation:2,source:ce.source,context:y.context,profileLocation:y.profileLocation,error:he}))}finally{for(const{task:he}of W)he.source&&!v.URI.isUri(he.source)&&this.j.delete(D(he.source))}}L(s,o){for(const[,{task:c,waitingTasks:I}]of this.j.entries())if(c===s&&(I.includes(o)||I.some(O=>this.L(O,o)))||c===o&&I[0]&&!this.L(s,I[0]))return!1;return!0}async M(s){const o=[],c=[],I=await Promise.allSettled(s);for(const O of I)O.status==="fulfilled"?o.push(O.value):c.push(O.reason);if(c.length)throw g(c);return o}async N(s,o,c,I,O){if(!this.z.isEnabled())return[];const y=await this.getInstalled(void 0,O),D=[],W=[],te=async(_,oe)=>{D.push(_);const re=oe.extensionDependencies||[],he=[...re];if(oe.extensionPack){const ce=c?y.find(ae=>(0,f.$2o)(ae.identifier,_)):void 0;for(const ae of oe.extensionPack)ce&&ce.manifest.extensionPack&&ce.manifest.extensionPack.some(q=>(0,f.$2o)({id:q},{id:ae}))||he.every(q=>!(0,f.$2o)({id:q},{id:ae}))&&he.push(ae)}if(he.length){const ce=he.filter(ae=>D.every(q=>!(0,f.$2o)(q,{id:ae})));if(ce.length){const ae=await this.z.getExtensions(ce.map(q=>({id:q,preRelease:I})),R.CancellationToken.None);for(const q of ae){if(D.find(C=>(0,f.$2o)(C,q.identifier)))continue;const Z=re.some(C=>(0,f.$2o)({id:C},q.identifier));let M;try{M=await this.O(q,!1,I)}catch(C){if(Z)throw C;this.F.info("Skipping the packed extension as it cannot be installed",q.identifier.id,(0,N.$0)(C));continue}W.push({gallery:M.extension,manifest:M.manifest}),await te(M.extension.identifier,M.manifest)}}}};return await te(s,o),W}async O(s,o,c){let I;const O=await this.getExtensionsControlManifest();if(O.malicious.some(W=>(0,f.$2o)(s.identifier,W)))throw new m.$Ao(b.localize(1,null,s.identifier.id),m.ExtensionManagementErrorCode.Malicious);const y=O.deprecated[s.identifier.id.toLowerCase()];if(y?.extension?.autoMigrate){if(this.F.info(`The '${s.identifier.id}' extension is deprecated, fetching the compatible '${y.extension.id}' extension instead.`),I=(await this.z.getExtensions([{id:y.extension.id,preRelease:y.extension.preRelease}],{targetPlatform:await this.getTargetPlatform(),compatible:!0},R.CancellationToken.None))[0],!I)throw new m.$Ao(b.localize(2,null,s.identifier.id,y.extension.id),m.ExtensionManagementErrorCode.Deprecated)}else{if(!await this.canInstall(s)){const W=await this.getTargetPlatform();throw new m.$Ao(b.localize(3,null,s.identifier.id,this.G.nameLong,(0,m.$to)(W)),m.ExtensionManagementErrorCode.IncompatibleTargetPlatform)}if(I=await this.P(s,o,c),!I)throw!c&&s.properties.isPreReleaseVersion&&(await this.z.getExtensions([s.identifier],R.CancellationToken.None))[0]?new m.$Ao(b.localize(4,null,s.displayName??s.identifier.id),m.ExtensionManagementErrorCode.ReleaseVersionNotFound):new m.$Ao(b.localize(5,null,s.identifier.id,this.G.nameLong,this.G.version),m.ExtensionManagementErrorCode.Incompatible)}this.F.info("Getting Manifest...",I.identifier.id);const D=await this.z.getManifest(I,R.CancellationToken.None);if(D===null)throw new m.$Ao(`Missing manifest for extension ${I.identifier.id}`,m.ExtensionManagementErrorCode.Invalid);if(D.version!==I.version)throw new m.$Ao(`Cannot install '${I.identifier.id}' extension because of version mismatch in Marketplace`,m.ExtensionManagementErrorCode.Invalid);return{extension:I,manifest:D}}async P(s,o,c){const I=await this.getTargetPlatform();let O=null;return!o&&s.hasPreReleaseVersion&&s.properties.isPreReleaseVersion!==c&&(O=(await this.z.getExtensions([{...s.identifier,preRelease:c}],{targetPlatform:I,compatible:!0},R.CancellationToken.None))[0]||null),!O&&await this.z.isExtensionCompatible(s,c,I)&&(O=s),O||(o?O=(await this.z.getExtensions([{...s.identifier,version:s.version}],{targetPlatform:I,compatible:!0},R.CancellationToken.None))[0]||null:O=await this.z.getCompatibleExtension(s,c,I)),O}async Q(s,o){const c={...o,profileLocation:s.isApplicationScoped?this.H.defaultProfile.extensionsResource:o.profileLocation??this.Y()},I=_=>`${_.id.toLowerCase()}${c.versionOnly?`-${s.manifest.version}`:""}${c.profileLocation?`@${c.profileLocation.toString()}`:""}`,O=this.m.get(I(s.identifier));if(O)return this.F.info("Extensions is already requested to uninstall",s.identifier.id),O.waitUntilTaskIsFinished();const y=_=>{const oe=this.$(_,c);return this.m.set(I(oe.extension.identifier),oe),c.profileLocation?this.F.info("Uninstalling extension from the profile:",`${_.identifier.id}@${_.manifest.version}`,c.profileLocation.toString()):this.F.info("Uninstalling extension:",`${_.identifier.id}@${_.manifest.version}`),this.t.fire({identifier:_.identifier,profileLocation:c.profileLocation,applicationScoped:_.isApplicationScoped}),oe},D=(_,oe)=>{oe?c.profileLocation?this.F.error("Failed to uninstall extension from the profile:",`${_.identifier.id}@${_.manifest.version}`,c.profileLocation.toString(),oe.message):this.F.error("Failed to uninstall extension:",`${_.identifier.id}@${_.manifest.version}`,oe.message):c.profileLocation?this.F.info("Successfully uninstalled extension from the profile",`${_.identifier.id}@${_.manifest.version}`,c.profileLocation.toString()):this.F.info("Successfully uninstalled extension:",`${_.identifier.id}@${_.manifest.version}`),r(this.C,"extensionGallery:uninstall",{extensionData:(0,f.$9o)(_),error:oe}),this.u.fire({identifier:_.identifier,error:oe?.code,profileLocation:c.profileLocation,applicationScoped:_.isApplicationScoped})},W=[],te=[];try{W.push(y(s));const _=await this.getInstalled(1,c.profileLocation);if(c.donotIncludePack)this.F.info("Uninstalling the extension without including packed extension",`${s.identifier.id}@${s.manifest.version}`);else{const oe=this.U(s,_);for(const re of oe)this.m.has(I(re.identifier))?this.F.info("Extensions is already requested to uninstall",re.identifier.id):W.push(y(re))}c.donotCheckDependents?this.F.info("Uninstalling the extension without checking dependents",`${s.identifier.id}@${s.manifest.version}`):this.R(W.map(oe=>oe.extension),_,s),await this.M(W.map(async oe=>{try{if(await oe.run(),await this.M(this.y.map(re=>re.postUninstall(oe.extension,c,R.CancellationToken.None))),oe.extension.identifier.uuid)try{await this.z.reportStatistic(oe.extension.manifest.publisher,oe.extension.manifest.name,oe.extension.manifest.version,"uninstall")}catch{}D(oe.extension)}catch(re){const he=re instanceof m.$Ao?re:new m.$Ao((0,N.$0)(re),m.ExtensionManagementErrorCode.Internal);throw D(oe.extension,he),he}finally{te.push(oe)}}))}catch(_){const oe=_ instanceof m.$Ao?_:new m.$Ao((0,N.$0)(_),m.ExtensionManagementErrorCode.Internal);for(const re of W){try{re.cancel()}catch{}te.includes(re)||D(re.extension,oe)}throw oe}finally{for(const _ of W)this.m.delete(I(_.extension.identifier))||this.F.warn("Uninstallation task is not found in the cache",_.extension.identifier.id)}}R(s,o,c){for(const I of s){const O=this.W(I,o);if(O.length){const y=O.filter(D=>!s.some(W=>(0,f.$2o)(W.identifier,D.identifier)));if(y.length)throw new Error(this.S(I,y,c))}}}S(s,o,c){return c===s?o.length===1?b.localize(6,null,c.manifest.displayName||c.manifest.name,o[0].manifest.displayName||o[0].manifest.name):o.length===2?b.localize(7,null,c.manifest.displayName||c.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):b.localize(8,null,c.manifest.displayName||c.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):o.length===1?b.localize(9,null,c.manifest.displayName||c.manifest.name,s.manifest.displayName||s.manifest.name,o[0].manifest.displayName||o[0].manifest.name):o.length===2?b.localize(10,null,c.manifest.displayName||c.manifest.name,s.manifest.displayName||s.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):b.localize(11,null,c.manifest.displayName||c.manifest.name,s.manifest.displayName||s.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name)}U(s,o,c=[]){if(c.indexOf(s)!==-1)return[];c.push(s);const I=s.manifest.extensionPack?s.manifest.extensionPack:[];if(I.length){const O=o.filter(D=>!D.isBuiltin&&I.some(W=>(0,f.$2o)({id:W},D.identifier))),y=[];for(const D of O)y.push(...this.U(D,o,c));return[...O,...y]}return[]}W(s,o){return o.filter(c=>c.manifest.extensionDependencies&&c.manifest.extensionDependencies.some(I=>(0,f.$2o)({id:I},s.identifier)))}async X(){try{this.F.trace("ExtensionManagementService.refreshReportedCache");const s=await this.z.getExtensionsControlManifest();return this.F.trace("ExtensionManagementService.refreshControlCache",s),s}catch{return this.F.trace("ExtensionManagementService.refreshControlCache - failed to get extension control manifest"),{malicious:[],deprecated:{},search:[]}}}};e.$Rp=u,e.$Rp=u=me([se(0,m.$zo),se(1,l.$vl),se(2,w.$2k),se(3,S.$oj),se(4,$.$Gj),se(5,p.$4k)],u);function g(n){const s=Array.isArray(n)?n:[n];return s.length===1?s[0]instanceof Error?s[0]:new Error(s[0]):s.reduce((o,c)=>new Error(`${o.message}${o.message?",":""}${c instanceof Error?c.message:c}`),new Error(""))}e.$Sp=g;function i(n){if(n instanceof m.$Ao)return n;if(n instanceof m.$Bo){const o=new m.$Ao(n.message,m.ExtensionManagementErrorCode.Gallery);return o.stack=n.stack,o}const s=new m.$Ao(n.message,m.ExtensionManagementErrorCode.Internal);return s.stack=n.stack,s}e.$Tp=i;function r(n,s,{extensionData:o,verificationStatus:c,duration:I,error:O,durationSinceUpdate:y}){let D,W;(0,a.$Rf)(c)&&(c===!0?c="Verified":(c===!1||(D=m.ExtensionManagementErrorCode.Signature,W=c),c="Unverified")),O&&(O instanceof m.$Ao||O instanceof m.$Bo?(D=O.code,O.code===m.ExtensionManagementErrorCode.Signature&&(W=O.message)):D=m.ExtensionManagementErrorCode.Internal),n.publicLog(s,{...o,verificationStatus:c,success:!O,duration:I,errorcode:D,errorcodeDetail:W,durationSinceUpdate:y})}class t{constructor(){this.d=new j.$6g}async waitUntilTaskIsFinished(){return await this.d.wait(),this.g}async run(){return this.g||(this.g=(0,j.$Ug)(s=>this.h(s))),this.d.open(),this.g}cancel(){this.g||(this.g=(0,j.$Ug)(s=>new Promise((o,c)=>{const I=s.onCancellationRequested(()=>{I.dispose(),c(new N.$5)})})),this.d.open()),this.g.cancel()}}e.$Up=t}),define(ie[42],ne([0,1,9,14,2,6,31,11,21,26,13,10,4,23,22,3,7,25]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xp=e.$Wp=e.$Vp=e.ExtensionsProfileScanningErrorCode=void 0;var w;(function(r){r.ERROR_PROFILE_NOT_FOUND="ERROR_PROFILE_NOT_FOUND",r.ERROR_INVALID_CONTENT="ERROR_INVALID_CONTENT"})(w||(e.ExtensionsProfileScanningErrorCode=w={}));class p extends Error{constructor(t,n){super(t),this.code=n}}e.$Vp=p,e.$Wp=(0,b.$7h)("IExtensionsProfileScannerService");let u=class extends R.$Tc{constructor(t,n,s,o,c,I){super(),this.j=t,this.m=n,this.n=s,this.r=o,this.s=c,this.t=I,this.b=this.B(new N.$Wd),this.onAddExtensions=this.b.event,this.c=this.B(new N.$Wd),this.onDidAddExtensions=this.c.event,this.f=this.B(new N.$Wd),this.onRemoveExtensions=this.f.event,this.g=this.B(new N.$Wd),this.onDidRemoveExtensions=this.g.event,this.h=new A.$Ac}scanProfileExtensions(t,n){return this.u(t,void 0,n)}async addExtensionsToProfile(t,n){const s=[],o=[];try{return await this.u(n,c=>{const I=[];for(const O of c)t.some(([y])=>(0,a.$2o)(y.identifier,O.identifier)&&y.manifest.version!==O.version)?s.push(O):I.push(O);for(const[O,y]of t){const D=I.findIndex(te=>(0,a.$2o)(te.identifier,O.identifier)&&te.version===O.manifest.version),W={identifier:O.identifier,version:O.manifest.version,location:O.location,metadata:y};D===-1?(o.push(W),I.push(W)):I.splice(D,1,W)}return o.length&&this.b.fire({extensions:o,profileLocation:n}),s.length&&this.f.fire({extensions:s,profileLocation:n}),I}),o.length&&this.c.fire({extensions:o,profileLocation:n}),s.length&&this.g.fire({extensions:s,profileLocation:n}),o}catch(c){throw o.length&&this.c.fire({extensions:o,error:c,profileLocation:n}),s.length&&this.g.fire({extensions:s,error:c,profileLocation:n}),c}}async updateMetadata(t,n){const s=[];return await this.u(n,o=>{const c=[];for(const I of o){const O=t.find(([y])=>(0,a.$2o)(y.identifier,I.identifier)&&y.manifest.version===I.version);O&&(I.metadata={...I.metadata,...O[1]},s.push(I)),c.push(I)}return c}),s}async removeExtensionFromProfile(t,n){const s=[];try{await this.u(n,o=>{const c=[];for(const I of o)(0,a.$2o)(I.identifier,t.identifier)?s.push(I):c.push(I);return s.length&&this.f.fire({extensions:s,profileLocation:n}),c}),s.length&&this.g.fire({extensions:s,profileLocation:n})}catch(o){throw s.length&&this.g.fire({extensions:s,error:o,profileLocation:n}),o}}async u(t,n,s){return this.F(t).queue(async()=>{let o=[],c;try{const I=await this.m.readFile(t);c=JSON.parse(I.value.toString().trim()||"[]")}catch(I){if((0,v.$Ik)(I)!==1)throw I;if(this.r.extUri.isEqual(t,this.n.defaultProfile.extensionsResource)&&(c=await this.D()),!c&&s?.bailOutWhenFileNotFound)throw new p((0,$.$0)(I),"ERROR_PROFILE_NOT_FOUND")}if(c){Array.isArray(c)||this.w(t);let I=!1;for(const O of c){g(O)||this.w(t);let y;if((0,S.$Jf)(O.relativeLocation)&&O.relativeLocation)y=this.z(O.relativeLocation);else if((0,S.$Jf)(O.location)){this.t.warn(`Extensions profile: Ignoring extension with invalid location: ${O.location}`);continue}else{y=k.URI.revive(O.location);const D=this.y(y);D&&(I=!0,O.relativeLocation=D)}(0,S.$Qf)(O.metadata?.hasPreReleaseVersion)&&O.metadata?.preRelease&&(I=!0,O.metadata.hasPreReleaseVersion=!0),o.push({identifier:O.identifier,location:y,version:O.version,metadata:O.metadata})}I&&await this.m.writeFile(t,j.$ke.fromString(JSON.stringify(c)))}if(n){o=n(o);const I=o.map(O=>({identifier:O.identifier,version:O.version,location:O.location.toJSON(),relativeLocation:this.y(O.location),metadata:O.metadata}));await this.m.writeFile(t,j.$ke.fromString(JSON.stringify(I)))}return o})}w(t){const n=new p(`Invalid extensions content in ${t.toString()}`,"ERROR_INVALID_CONTENT");throw this.s.publicLogError2("extensionsProfileScanningError",{code:n.code}),n}y(t){return this.r.extUri.isEqual(this.r.extUri.dirname(t),this.j)?this.r.extUri.basename(t):void 0}z(t){return this.r.extUri.joinPath(this.j,t)}async D(){return this.C||(this.C=(async()=>{const t=this.r.extUri.joinPath(this.n.defaultProfile.location,"extensions.json"),n=this.r.extUri.joinPath(this.j,".init-default-profile-extensions");let s;try{s=(await this.m.readFile(t)).value.toString()}catch(c){if((0,v.$Ik)(c)===1)return;throw c}this.t.info("Migrating extensions from old default profile location",t.toString());let o;try{const c=JSON.parse(s);Array.isArray(c)&&c.every(I=>g(I))?o=c:this.t.warn("Skipping migrating from old default profile locaiton: Found invalid data",c)}catch(c){this.t.error(c)}if(o)try{await this.m.createFile(this.n.defaultProfile.extensionsResource,j.$ke.fromString(JSON.stringify(o)),{overwrite:!1}),this.t.info("Migrated extensions from old default profile location to new location",t.toString(),this.n.defaultProfile.extensionsResource.toString())}catch(c){if((0,v.$Ik)(c)===3)this.t.info("Migration from old default profile location to new location is done by another window",t.toString(),this.n.defaultProfile.extensionsResource.toString());else throw c}try{await this.m.del(t)}catch(c){(0,v.$Ik)(c)!==1&&this.t.error(c)}try{await this.m.del(n)}catch(c){(0,v.$Ik)(c)!==1&&this.t.error(c)}return o})()),this.C}F(t){let n=this.h.get(t);return n||(n=new L.$bh,this.h.set(t,n)),n}};e.$Xp=u,e.$Xp=u=me([se(1,v.$rk),se(2,f.$4k),se(3,E.$2k),se(4,l.$vl),se(5,m.$oj)],u);function g(r){return(0,S.$Lf)(r)&&(0,h.$yo)(r.identifier)&&(i(r.location)||(0,S.$Jf)(r.location)&&r.location)&&((0,S.$Qf)(r.relativeLocation)||(0,S.$Jf)(r.relativeLocation))&&r.version&&(0,S.$Jf)(r.version)}function i(r){return r?(0,S.$Jf)(r.path)&&(0,S.$Jf)(r.scheme):!1}}),define(ie[52],ne([0,1,19,9,27,14,7,38,81,2,15,16,12,17,44,54,3,11,98,18,26,37,50,13,10,4,32,6,47,42,23,22,115]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p,u,g,i,r,t,n,s,o,c,I,O,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5p=e.$4p=e.$3p=e.$2p=e.$1p=e.Translations=void 0;var W;(function(ae){function q(Z,M){if(Z===M)return!0;const C=Object.keys(Z),V=new Set;for(const X of Object.keys(M))V.add(X);if(C.length!==V.size)return!1;for(const X of C){if(Z[X]!==M[X])return!1;V.delete(X)}return V.size===0}ae.equals=q})(W||(e.Translations=W={})),e.$1p=(0,t.$7h)("IExtensionsScannerService");let te=class extends a.$Tc{constructor(q,Z,M,C,V,X,Q,K,U,F,d,P){super(),this.systemExtensionsLocation=q,this.userExtensionsLocation=Z,this.r=M,this.s=C,this.t=V,this.u=X,this.w=Q,this.y=K,this.z=U,this.C=F,this.D=d,this.F=P,this.g=this.B(new o.$Wd),this.onDidChangeCache=this.g.event,this.h=(0,f.$Ig)(this.userExtensionsLocation,".obsolete"),this.j=this.B(this.F.createInstance(re,this.s,this.h)),this.m=this.B(this.F.createInstance(re,this.s,this.h)),this.n=this.B(this.F.createInstance(oe,this.h)),this.H=void 0,this.B(this.j.onDidChangeCache(()=>this.g.fire(0))),this.B(this.m.onDidChangeCache(()=>this.g.fire(1)))}getTargetPlatform(){return this.G||(this.G=(0,u.$ap)(this.w,this.y)),this.G}async scanAllExtensions(q,Z,M){const[C,V]=await Promise.all([this.scanSystemExtensions(q),this.scanUserExtensions(Z)]),X=M?await this.scanExtensionsUnderDevelopment(q,[...C,...V]):[];return this.L(C,V,X,await this.getTargetPlatform(),!0)}async scanSystemExtensions(q){const Z=[];Z.push(this.M(!!q.useCache,q.language)),Z.push(this.N(q.language,!!q.checkControlFile));const[M,C]=await Promise.all(Z);return this.J([...M,...C],0,q,!1)}async scanUserExtensions(q){const Z=q.profileLocation??this.userExtensionsLocation;this.y.trace("Started scanning user extensions",Z);const M=this.D.extUri.isEqual(q.profileLocation,this.t.defaultProfile.extensionsResource)?{bailOutWhenFileNotFound:!0}:void 0,C=await this.P(Z,!!q.profileLocation,1,!q.includeUninstalled,q.language,!0,M),V=q.useCache&&!C.devMode&&C.excludeObsolete?this.m:this.n;let X;try{X=await V.scanExtensions(C)}catch(Q){if(Q instanceof I.$Vp&&Q.code==="ERROR_PROFILE_NOT_FOUND")await this.I(),X=await V.scanExtensions(C);else throw Q}return X=await this.J(X,1,q,!0),this.y.trace("Scanned user extensions:",X.length),X}async scanExtensionsUnderDevelopment(q,Z){if(this.z.isExtensionDevelopment&&this.z.extensionDevelopmentLocationURI){const M=(await Promise.all(this.z.extensionDevelopmentLocationURI.filter(C=>C.scheme===v.Schemas.file).map(async C=>{const V=await this.P(C,!1,1,!0,q.language,!1,void 0);return(await this.n.scanOneOrMultipleExtensions(V)).map(Q=>(Q.type=Z.find(K=>(0,u.$2o)(K.identifier,Q.identifier))?.type??Q.type,this.n.validate(Q,V)))}))).flat();return this.J(M,"development",q,!0)}return[]}async scanExistingExtension(q,Z,M){const C=await this.P(q,!1,Z,!0,M.language,!0,void 0),V=await this.n.scanExtension(C);return!V||!M.includeInvalid&&!V.isValid?null:V}async scanOneOrMultipleExtensions(q,Z,M){const C=await this.P(q,!1,Z,!0,M.language,!0,void 0),V=await this.n.scanOneOrMultipleExtensions(C);return this.J(V,Z,M,!0)}async scanMetadata(q){const Z=(0,f.$Ig)(q,"package.json"),M=(await this.w.readFile(Z)).value.toString();return JSON.parse(M).__metadata}async updateMetadata(q,Z){const M=(0,f.$Ig)(q,"package.json"),C=(await this.w.readFile(M)).value.toString(),V=JSON.parse(C);Z.isMachineScoped===!1&&delete Z.isMachineScoped,Z.isBuiltin===!1&&delete Z.isBuiltin,V.__metadata={...V.__metadata,...Z},await this.w.writeFile((0,f.$Ig)(q,"package.json"),N.$ke.fromString(JSON.stringify(V,null,"	")))}async initializeDefaultProfileExtensions(){try{await this.u.scanProfileExtensions(this.t.defaultProfile.extensionsResource,{bailOutWhenFileNotFound:!0})}catch(q){if(q instanceof I.$Vp&&q.code==="ERROR_PROFILE_NOT_FOUND")await this.I();else throw q}}async I(){return this.H||(this.H=(async()=>{try{this.y.info("Started initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString());const q=await this.scanUserExtensions({includeInvalid:!0});if(q.length)await this.u.addExtensionsToProfile(q.map(Z=>[Z,Z.metadata]),this.t.defaultProfile.extensionsResource);else try{await this.w.createFile(this.t.defaultProfile.extensionsResource,N.$ke.fromString(JSON.stringify([])))}catch(Z){(0,r.$Ik)(Z)!==1&&this.y.warn("Failed to create default profile extensions manifest in extensions installation folder.",this.userExtensionsLocation.toString(),(0,A.$0)(Z))}this.y.info("Completed initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString())}catch(q){this.y.error(q)}finally{this.H=void 0}})()),this.H}async J(q,Z,M,C){return M.includeAllVersions||(q=this.L(Z===0?q:void 0,Z===1?q:void 0,Z==="development"?q:void 0,await this.getTargetPlatform(),C)),M.includeInvalid||(q=q.filter(V=>V.isValid)),q.sort((V,X)=>{const Q=b.$nc(V.location.fsPath),K=b.$nc(X.location.fsPath);return Q<K?-1:Q>K?1:0})}L(q,Z,M,C,V){const X=(K,U,F)=>{if(K.isValid&&!U.isValid)return!1;if(K.isValid===U.isValid){if(V&&E.gt(K.manifest.version,U.manifest.version))return this.y.debug(`Skipping extension ${U.location.path} with lower version ${U.manifest.version} in favour of ${K.location.path} with version ${K.manifest.version}`),!1;if(E.eq(K.manifest.version,U.manifest.version)){if(K.type===0)return this.y.debug(`Skipping extension ${U.location.path} in favour of system extension ${K.location.path} with same version`),!1;if(K.targetPlatform===C)return this.y.debug(`Skipping extension ${U.location.path} from different target platform ${U.targetPlatform}`),!1}}return F?this.y.warn(`Overwriting user extension ${K.location.path} with ${U.location.path}.`):this.y.debug(`Overwriting user extension ${K.location.path} with ${U.location.path}.`),!0},Q=new g.$om;return q?.forEach(K=>{const U=Q.get(K.identifier.id);(!U||X(U,K,!1))&&Q.set(K.identifier.id,K)}),Z?.forEach(K=>{const U=Q.get(K.identifier.id);if(!U&&q&&K.type===0){this.y.debug(`Skipping obsolete system extension ${K.location.path}.`);return}(!U||X(U,K,!1))&&Q.set(K.identifier.id,K)}),M?.forEach(K=>{const U=Q.get(K.identifier.id);(!U||X(U,K,!0))&&Q.set(K.identifier.id,K),Q.set(K.identifier.id,K)}),[...Q.values()]}async M(q,Z){this.y.trace("Started scanning system extensions");const M=await this.P(this.systemExtensionsLocation,!1,0,!0,Z,!0,void 0),V=await(q&&!M.devMode?this.j:this.n).scanExtensions(M);return this.y.trace("Scanned system extensions:",V.length),V}async N(q,Z){const M=this.z.isBuilt?[]:this.C.builtInExtensions;if(!M?.length)return[];this.y.trace("Started scanning dev system extensions");const C=Z?await this.O():{},V=[],X=l.URI.file(b.$hc(b.$jc(v.$pg.asFileUri("").fsPath,"..",".build","builtInExtensions")));for(const K of M){const U=C[K.name]||"marketplace";switch(U){case"disabled":break;case"marketplace":V.push((0,f.$Ig)(X,K.name));break;default:V.push(l.URI.file(U));break}}const Q=await Promise.all(V.map(async K=>this.n.scanExtension(await this.P(K,!1,0,!0,q,!0,void 0))));return this.y.trace("Scanned dev system extensions:",Q.length),(0,L.$Hb)(Q)}async O(){try{const q=await this.w.readFile(this.r);return JSON.parse(q.value.toString())}catch{return{}}}async P(q,Z,M,C,V,X,Q){const K=await this.f(V??m.$w),U=await this.Q(q),F=Z&&!this.D.extUri.isEqual(q,this.t.defaultProfile.extensionsResource)?this.t.defaultProfile.extensionsResource:void 0,d=F?await this.Q(F):void 0;return new _(q,U,F,d,Z,Q,M,C,X,this.C.version,this.C.date,this.C.commit,!this.z.isBuilt,V,K)}async Q(q){try{const Z=await this.w.stat(q);if(typeof Z.mtime=="number")return Z.mtime}catch{}}};e.$2p=te,e.$2p=te=me([se(4,O.$4k),se(5,I.$Wp),se(6,r.$rk),se(7,n.$oj),se(8,p.$bi),se(9,s.$Gj),se(10,y.$2k),se(11,t.$6h)],te);class _{constructor(q,Z,M,C,V,X,Q,K,U,F,d,P,z,T,H){this.location=q,this.mtime=Z,this.applicationExtensionslocation=M,this.applicationExtensionslocationMtime=C,this.profile=V,this.profileScanOptions=X,this.type=Q,this.excludeObsolete=K,this.validate=U,this.productVersion=F,this.productDate=d,this.productCommit=P,this.devMode=z,this.language=T,this.translations=H}static createNlsConfiguration(q){return{language:q.language,pseudo:q.language==="pseudo",devMode:q.devMode,translations:q.translations}}static equals(q,Z){return(0,f.$Bg)(q.location,Z.location)&&q.mtime===Z.mtime&&(0,f.$Bg)(q.applicationExtensionslocation,Z.applicationExtensionslocation)&&q.applicationExtensionslocationMtime===Z.applicationExtensionslocationMtime&&q.profile===Z.profile&&R.$An(q.profileScanOptions,Z.profileScanOptions)&&q.type===Z.type&&q.excludeObsolete===Z.excludeObsolete&&q.validate===Z.validate&&q.productVersion===Z.productVersion&&q.productDate===Z.productDate&&q.productCommit===Z.productCommit&&q.devMode===Z.devMode&&q.language===Z.language&&W.equals(q.translations,Z.translations)}}e.$3p=_;let oe=class extends a.$Tc{constructor(q,Z,M,C,V){super(),this.f=q,this.g=Z,this.h=M,this.j=C,this.m=V}async scanExtensions(q){const Z=q.profile?await this.r(q):await this.n(q);let M={};if(q.excludeObsolete&&q.type===1)try{const C=(await this.j.readFile(this.f)).value.toString();M=JSON.parse(C)}catch{}return(0,$.$Wf)(M)?Z:Z.filter(C=>!M[u.$3o.create(C).toString()])}async n(q){const Z=await this.j.resolve(q.location);if(!Z.children?.length)return[];const M=await Promise.all(Z.children.map(async C=>{if(!C.isDirectory||q.type===1&&(0,f.$Fg)(C.resource).indexOf(".")===0)return null;const V=new _(C.resource,q.mtime,q.applicationExtensionslocation,q.applicationExtensionslocationMtime,q.profile,q.profileScanOptions,q.type,q.excludeObsolete,q.validate,q.productVersion,q.productDate,q.productCommit,q.devMode,q.language,q.translations);return this.scanExtension(V)}));return(0,L.$Hb)(M).sort((C,V)=>C.location.path<V.location.path?-1:1)}async r(q){let Z=await this.s(q.location,()=>!0,q);if(q.applicationExtensionslocation&&!this.h.extUri.isEqual(q.location,q.applicationExtensionslocation)){Z=Z.filter(C=>!C.metadata?.isApplicationScoped);const M=await this.s(q.applicationExtensionslocation,C=>!!C.metadata?.isBuiltin||!!C.metadata?.isApplicationScoped,q);Z.push(...M)}return Z}async s(q,Z,M){const C=await this.g.scanProfileExtensions(q,M.profileScanOptions);if(!C.length)return[];const V=await Promise.all(C.map(async X=>{if(Z(X)){const Q=new _(X.location,M.mtime,M.applicationExtensionslocation,M.applicationExtensionslocationMtime,M.profile,M.profileScanOptions,M.type,M.excludeObsolete,M.validate,M.productVersion,M.productDate,M.productCommit,M.devMode,M.language,M.translations);return this.scanExtension(Q,X.metadata)}return null}));return(0,L.$Hb)(V)}async scanOneOrMultipleExtensions(q){try{if(await this.j.exists((0,f.$Ig)(q.location,"package.json"))){const Z=await this.scanExtension(q);return Z?[Z]:[]}else return await this.scanExtensions(q)}catch(Z){return this.m.error(`Error scanning extensions at ${q.location.path}:`,(0,A.$0)(Z)),[]}}async scanExtension(q,Z){try{let M=await this.scanExtensionManifest(q.location);if(M){M.publisher||(M.publisher=g.$im),Z=Z??M.__metadata,delete M.__metadata;const C=(0,u.$7o)(M.publisher,M.name),V=Z?.id?{id:C,uuid:Z.id}:{id:C},X=Z?.isSystem?0:q.type,Q=X===0||!!Z?.isBuiltin;M=await this.t(q.location,M,_.createNlsConfiguration(q));const K={type:X,identifier:V,manifest:M,location:q.location,isBuiltin:Q,targetPlatform:Z?.targetPlatform??"undefined",metadata:Z,isValid:!0,validations:[]};return q.validate?this.validate(K,q):K}}catch(M){q.type!==0&&this.m.error(M)}return null}validate(q,Z){let M=!0;const C=(0,i.$fp)(Z.productVersion,Z.productDate,Z.location,q.manifest,q.isBuiltin);for(const[V,X]of C)V===S.default.Error&&(M=!1,this.m.error(this.z(Z.location,X)));return q.isValid=M,q.validations=C,q}async scanExtensionManifest(q){const Z=(0,f.$Ig)(q,"package.json");let M;try{M=(await this.j.readFile(Z)).value.toString()}catch(V){return(0,r.$Ik)(V)!==1&&this.m.error(this.z(q,(0,w.localize)(0,null,Z.path,V.message))),null}let C;try{C=JSON.parse(M)}catch{const X=[];(0,k.$dn)(M,X);for(const Q of X)this.m.error(this.z(q,(0,w.localize)(1,null,Z.path,Q.offset,Q.length,(0,h.$Yp)(Q.error))));return null}return(0,k.$mn)(C)!=="object"?(this.m.error(this.z(q,(0,w.localize)(2,null,Z.path))),null):C}async t(q,Z,M){const C=await this.u(q,Z,M);if(C)try{const V=[],X=await this.w(C.default,V);if(V.length>0)return V.forEach(K=>{this.m.error(this.z(q,(0,w.localize)(3,null,C.default?.path,(0,h.$Yp)(K.error))))}),Z;if((0,k.$mn)(C)!=="object")return this.m.error(this.z(q,(0,w.localize)(4,null,C.default?.path))),Z;const Q=C.values||Object.create(null);return(0,D.$Zp)(this.m,Z,Q,X)}catch{}return Z}async u(q,Z,M){const C=(0,f.$Ig)(q,"package.nls.json"),V=(U,F)=>{F.forEach(d=>{this.m.error(this.z(q,(0,w.localize)(5,null,U?.path,(0,h.$Yp)(d.error))))})},X=U=>{this.m.error(this.z(q,(0,w.localize)(6,null,U?.path)))},Q=`${Z.publisher}.${Z.name}`,K=M.translations[Q];if(K)try{const U=l.URI.file(K),F=(await this.j.readFile(U)).value.toString(),d=[],P=(0,k.$dn)(F,d);return d.length>0?(V(U,d),{values:void 0,default:C}):(0,k.$mn)(P)!=="object"?(X(U),{values:void 0,default:C}):{values:P.contents?P.contents.package:void 0,default:C}}catch{return{values:void 0,default:C}}else{if(!await this.j.exists(C))return;let F;try{F=await this.y(q,M)}catch{return}if(!F.localized)return{values:void 0,default:F.original};try{const d=(await this.j.readFile(F.localized)).value.toString(),P=[],z=(0,k.$dn)(d,P);return P.length>0?(V(F.localized,P),{values:void 0,default:F.original}):(0,k.$mn)(z)!=="object"?(X(F.localized),{values:void 0,default:F.original}):{values:z,default:F.original}}catch{return{values:void 0,default:F.original}}}}async w(q,Z){if(q)try{const M=(await this.j.readFile(q)).value.toString();return(0,k.$dn)(M,Z)}catch{}}y(q,Z){return new Promise((M,C)=>{const V=X=>{const Q=(0,f.$Ig)(q,`package.nls.${X}.json`);this.j.exists(Q).then(K=>{K&&M({localized:Q,original:(0,f.$Ig)(q,"package.nls.json")});const U=X.lastIndexOf("-");U===-1?M({localized:(0,f.$Ig)(q,"package.nls.json"),original:null}):(X=X.substring(0,U),V(X))})};if(Z.devMode||Z.pseudo||!Z.language)return M({localized:(0,f.$Ig)(q,"package.nls.json"),original:null});V(Z.language)})}z(q,Z){return`[${q.path}]: ${Z}`}};oe=me([se(1,I.$Wp),se(2,y.$2k),se(3,r.$rk),se(4,n.$oj)],oe);let re=class extends oe{constructor(q,Z,M,C,V,X,Q){super(Z,C,V,X,Q),this.G=q,this.H=M,this.D=this.B(new j.$5g(3e3)),this.F=this.B(new o.$Wd),this.onDidChangeCache=this.F.event}async scanExtensions(q){const Z=this.M(q),M=await this.I(Z);if(this.C=q,M&&M.input&&_.equals(M.input,this.C))return this.m.debug("Using cached extensions scan result",q.location.toString()),this.D.trigger(()=>this.L()),M.result.map(V=>(V.location=l.URI.revive(V.location),V));const C=await super.scanExtensions(q);return await this.J(Z,{input:q,result:C}),C}async I(q){try{const Z=await this.j.readFile(q),M=JSON.parse(Z.value.toString());return{result:M.result,input:(0,c.$Dh)(M.input)}}catch(Z){this.m.debug("Error while reading the extension cache file:",q.path,(0,A.$0)(Z))}return null}async J(q,Z){try{await this.j.writeFile(q,N.$ke.fromString(JSON.stringify(Z)))}catch(M){this.m.debug("Error while writing the extension cache file:",q.path,(0,A.$0)(M))}}async L(){if(!this.C)return;const q=this.M(this.C),Z=await this.I(q);if(!Z)return;const M=Z.result,C=JSON.parse(JSON.stringify(await super.scanExtensions(this.C)));if(!R.$An(C,M))try{this.m.info("Invalidating Cache",M,C),await this.j.del(q),this.F.fire()}catch(V){this.m.error(V)}}M(q){const Z=this.N(q);return this.h.extUri.joinPath(Z.cacheHome,q.type===0?g.$hm:g.$gm)}N(q){return q.type===0?this.H.defaultProfile:q.profile?this.h.extUri.isEqual(q.location,this.G.extensionsResource)?this.G:this.H.profiles.find(Z=>this.h.extUri.isEqual(q.location,Z.extensionsResource))??this.G:this.H.defaultProfile}};re=me([se(2,O.$4k),se(3,I.$Wp),se(4,y.$2k),se(5,r.$rk),se(6,n.$oj)],re);function he(ae,q){const Z=(0,u.$5o)(ae.manifest.publisher,ae.manifest.name);return{id:Z,identifier:new g.$mm(Z),isBuiltin:ae.type===0,isUserBuiltin:ae.type===1&&ae.isBuiltin,isUnderDevelopment:q,extensionLocation:ae.location,uuid:ae.identifier.uuid,targetPlatform:ae.targetPlatform,...ae.manifest}}e.$4p=he;class ce extends te{constructor(q,Z,M,C,V,X,Q,K,U,F,d,P){super(q,Z,(0,f.$Ig)(M,".vscode-oss-dev","extensions","control.json"),C,V,X,Q,K,U,F,d,P),this.R=(async()=>{if(m.$z)try{const z=await this.w.readFile(l.URI.file(m.$z));return JSON.parse(z.value.toString())}catch{}return Object.create(null)})()}f(q){return this.R}}e.$5p=ce}),define(ie[158],ne([0,1,58,9,34,6,2,15,16,24,4,23]),function(J,e,L,j,R,N,A,k,h,a,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7p=void 0;let m=class extends A.$Tc{constructor(E,S){super(),this.b=E,this.f=S,this.a=new j.$ah(5)}async postUninstall(E){const S=this.g(E,"uninstall");S&&(this.f.info(E.identifier.id,E.manifest.version,"Running post uninstall script"),await this.a.queue(async()=>{try{await this.h(S.script,"uninstall",S.args,!0,E),this.f.info("Finished running post uninstall script",E.identifier.id,E.manifest.version)}catch($){this.f.error("Failed to run post uninstall script",E.identifier.id,E.manifest.version),this.f.error($)}}));try{await a.Promises.rm(this.m(E))}catch($){this.f.error("Error while removing extension storage path",E.identifier.id),this.f.error($)}}g(E,S){const $=`vscode:${S}`;if(E.location.scheme===k.Schemas.file&&E.manifest&&E.manifest.scripts&&typeof E.manifest.scripts[$]=="string"){const l=E.manifest.scripts[$].split(" ");return l.length<2||l[0]!=="node"||!l[1]?(this.f.warn(E.identifier.id,E.manifest.version,`${$} should be a node script`),null):{script:(0,h.$jc)(E.location.fsPath,l[1]),args:l.slice(2)||[]}}return null}h(E,S,$,l,w){return new Promise((p,u)=>{const g=this.j(E,S,$,w);let i;const r=t=>{i&&(clearTimeout(i),i=null),t?u(t):p(void 0)};g.on("error",t=>{r((0,R.$Ri)(t)||"Unknown")}),g.on("exit",(t,n)=>{r(t?`post-${S} process exited with code ${t}`:void 0)}),l&&(i=setTimeout(()=>{i=null,g.kill(),u("timed out")},5e3))})}j(E,S,$,l){const w={silent:!0,execArgv:void 0},p=(0,L.fork)(E,[`--type=extension-post-${S}`,...$],w);p.stdout.setEncoding("utf8"),p.stderr.setEncoding("utf8");const u=N.Event.fromNodeEventEmitter(p.stdout,"data"),g=N.Event.fromNodeEventEmitter(p.stderr,"data");u(t=>this.f.info(l.identifier.id,l.manifest.version,`post-${S}`,t)),g(t=>this.f.error(l.identifier.id,l.manifest.version,`post-${S}`,t));const i=N.Event.any(N.Event.map(u,t=>({data:`%c${t}`,format:[""]})),N.Event.map(g,t=>({data:`%c${t}`,format:["color: red"]})));return N.Event.debounce(i,(t,n)=>t?{data:t.data+n.data,format:[...t.format,...n.format]}:{data:n.data,format:n.format},100)(t=>{console.group(l.identifier.id),console.log(t.data,...t.format),console.groupEnd()}),p}m(E){return(0,h.$jc)(this.b.defaultProfile.globalStorageHome.fsPath,E.identifier.id.toLowerCase())}};e.$7p=m,e.$7p=m=me([se(0,b.$4k),se(1,v.$oj)],m)}),define(ie[159],ne([0,1,9,14,20,34,7,6,43,2,31,15,16,17,44,3,11,28,24,49,99,59,18,157,21,26,42,52,144,158,116,137,145,50,13,10,4,32,25,22,23]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p,u,g,i,r,t,n,s,o,c,I,O,y,D,W,te,_,oe,re,he,ce,ae){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bq=e.$aq=e.$_p=e.$$p=void 0,e.$$p=(0,_.$8h)(t.$Co);const q=".vsctmp";let Z=class extends r.$Rp{constructor(U,F,d,P,z,T,H,G,ee,ue,fe,$e){super(U,F,fe,d,ue,$e),this.fb=z,this.gb=T,this.hb=H,this.ib=ee,this.eb=new Map,this.rb=new v.$Bc;const we=this.B(G.createInstance(I.$7p));this.bb=this.B(G.createInstance(M,le=>we.postUninstall(le))),this.cb=this.B(new y.$9p($e,ee,fe,this,this.F)),this.db=this.B(G.createInstance(c.$6p));const de=this.B(new D.$0p(this,this.fb,$e,T,fe,ee,d));this.B(de.onDidChangeExtensionsByAnotherSource(le=>this.qb(le))),this.sb()}getTargetPlatform(){return this.jb||(this.jb=(0,n.$ap)(this.ib,this.F)),this.jb}async zip(U){this.F.trace("ExtensionManagementService#zip",U.identifier.id);const F=await this.pb(U),d=await(0,p.zip)((0,f.$Ig)(this.db.extensionsDownloadDir,(0,l.$rg)()).fsPath,F);return $.URI.file(d)}async unzip(U){return this.F.trace("ExtensionManagementService#unzip",U.toString()),(await this.install(U)).identifier}async getManifest(U){const{location:F,cleanup:d}=await this.lb(U),P=m.$kc(F.fsPath);try{return await(0,O.$8p)(P)}finally{await d()}}getInstalled(U,F=this.H.defaultProfile.extensionsResource){return this.bb.scanExtensions(U??null,F)}scanAllUserInstalledExtensions(){return this.bb.scanAllUserExtensions(!1)}scanInstalledExtensionAtLocation(U){return this.bb.scanUserExtensionAtLocation(U)}async install(U,F={}){this.F.trace("ExtensionManagementService#install",U.toString());const{location:d,cleanup:P}=await this.lb(U);try{const z=await(0,O.$8p)(m.$kc(d.fsPath)),T=(0,n.$7o)(z.publisher,z.name);if(z.engines&&z.engines.vscode&&!(0,W.$hp)(z.engines.vscode,this.G.version,this.G.date))throw new Error(u.localize(0,null,T,this.G.version));const G=(await this.I([{manifest:z,extension:d,options:F}])).find(({identifier:ee})=>(0,n.$2o)(ee,{id:T}));if(G?.local)return G.local;throw G?.error?G.error:(0,r.$Tp)(new Error(`Unknown error while installing extension ${T}`))}finally{await P()}}async installFromLocation(U,F){this.F.trace("ExtensionManagementService#installFromLocation",U.toString());const d=await this.bb.scanUserExtensionAtLocation(U);if(!d)throw new Error(`Cannot find a valid extension from the location ${U.toString()}`);return await this.ub([[d,void 0]],F),this.F.info("Successfully installed extension",d.identifier.id,F.toString()),d}async installExtensionsFromProfile(U,F,d){this.F.trace("ExtensionManagementService#installExtensionsFromProfile",U,F.toString(),d.toString());const P=(await this.bb.scanExtensions(1,F)).filter(z=>U.some(T=>(0,n.$2o)(T,z.identifier)));if(P.length){const z=await Promise.all(P.map(T=>this.bb.scanMetadata(T,F)));await this.ub(P.map((T,H)=>[T,z[H]]),d),this.F.info("Successfully installed extensions",P.map(T=>T.identifier.id),d.toString())}return P}async updateMetadata(U,F,d=this.H.defaultProfile.extensionsResource){return this.F.trace("ExtensionManagementService#updateMetadata",U.identifier.id),F.isPreReleaseVersion&&(F.preRelease=!0,F.hasPreReleaseVersion=!0),F.isMachineScoped===!1&&(F.isMachineScoped=void 0),F.isBuiltin===!1&&(F.isBuiltin=void 0),F.pinned===!1&&(F.pinned=void 0),U=await this.bb.updateMetadata(U,F,d),this.cb.invalidate(d),this.w.fire(U),U}async reinstallFromGallery(U){if(this.F.trace("ExtensionManagementService#reinstallFromGallery",U.identifier.id),!this.z.isEnabled())throw new Error(u.localize(1,null));const F=await this.getTargetPlatform(),[d]=await this.z.getExtensions([{...U.identifier,preRelease:U.preRelease}],{targetPlatform:F,compatible:!0},R.CancellationToken.None);if(!d)throw new Error(u.localize(2,null));await this.bb.setUninstalled(U);try{await this.bb.removeUninstalledExtension(U)}catch(P){throw new Error(u.localize(3,null,(0,N.$Ri)(P)))}return this.installFromGallery(d)}ab(U,F,d,P){return this.bb.copyExtension(U,F,d,P)}copyExtensions(U,F){return this.bb.copyExtensions(U,F)}markAsUninstalled(...U){return this.bb.setUninstalled(...U)}async cleanUp(){this.F.trace("ExtensionManagementService#cleanUp");try{await this.bb.cleanUp()}catch(U){this.F.error(U)}}async download(U,F,d){const{location:P}=await this.db.download(U,F,!d);return P}async lb(U){if(U.scheme===b.Schemas.file)return{location:U,async cleanup(){}};this.F.trace("Downloading extension from",U.toString());const F=(0,f.$Ig)(this.db.extensionsDownloadDir,(0,l.$rg)());return await this.hb.download(U,F),this.F.info("Downloaded extension to",F.toString()),{location:F,cleanup:async()=>{try{await this.ib.del(F)}catch(P){this.F.error(P)}}}}Y(){return this.H.defaultProfile.extensionsResource}Z(U,F,d){if($.URI.isUri(F))return new X(U,F,d,this.z,this.bb,this.D,this.H,this.fb,this.gb,this.F);const P=n.$3o.create(F).toString();let z=this.eb.get(P);return z||(this.eb.set(P,z=new V(U,F,d,this.db,this.bb,this.D,this.H,this.fb,this.gb,this.F)),z.waitUntilTaskIsFinished().finally(()=>this.eb.delete(P))),z}$(U,F){return new Q(U,F.profileLocation,this.gb)}async pb(U){const F=async P=>{let z=await w.Promises.readdir(P);z=z.map(G=>m.$jc(P,G));const T=await Promise.all(z.map(G=>w.Promises.stat(G)));let H=Promise.resolve([]);return T.forEach((G,ee)=>{const ue=z[ee];G.isFile()&&(H=H.then(fe=>[...fe,ue])),G.isDirectory()&&(H=H.then(fe=>F(ue).then($e=>[...fe,...$e])))}),H};return(await F(U.location.fsPath)).map(P=>({path:`extension/${m.$lc(U.location.fsPath,P)}`,localPath:P}))}async qb({added:U,removed:F}){if(F){const d=U&&this.D.extUri.isEqual(F.profileLocation,U.profileLocation)?F.extensions.filter(P=>U.extensions.every(z=>!(0,n.$2o)(z,P))):F.extensions;for(const P of d)this.F.info("Extensions removed from another source",P.id,F.profileLocation.toString()),this.u.fire({identifier:P,profileLocation:F.profileLocation})}if(U){const P=(await this.bb.scanExtensions(1,U.profileLocation)).filter(z=>U.extensions.some(T=>(0,n.$2o)(T,z.identifier)));this.s.fire(P.map(z=>(this.F.info("Extensions added from another source",z.identifier.id,U.profileLocation.toString()),{identifier:z.identifier,local:z,profileLocation:U.profileLocation,operation:1})))}}async sb(){this.B(this.bb.onExtract(F=>this.rb.add(F)));const U=await this.ib.resolve(this.fb.userExtensionsLocation);for(const F of U.children??[])F.isDirectory&&this.rb.add(F.resource);this.B(this.ib.watch(this.fb.userExtensionsLocation)),this.B(this.ib.onDidFilesChange(F=>this.tb(F)))}async tb(U){if(!U.affects(this.fb.userExtensionsLocation,1))return;const F=[];for(const d of U.rawAdded){if(this.rb.has(d)||!this.D.extUri.isEqual(this.D.extUri.dirname(d),this.fb.userExtensionsLocation)||this.D.extUri.isEqual(d,this.D.extUri.joinPath(this.fb.userExtensionsLocation,".obsolete"))||this.D.extUri.basename(d).startsWith(".")||!(await this.ib.stat(d)).isDirectory)continue;const P=await this.bb.scanUserExtensionAtLocation(d);P&&P.installedTimestamp===void 0&&(this.rb.add(d),F.push(P))}F.length&&(await this.ub(F.map(d=>[d,void 0]),this.H.defaultProfile.extensionsResource),this.F.info("Added extensions to default profile from external source",F.map(d=>d.identifier.id)))}async ub(U,F){const d=U.map(P=>P[0]);await this.vb(d),await this.gb.addExtensionsToProfile(U,F),this.s.fire(d.map(P=>({local:P,identifier:P.identifier,operation:1,profileLocation:F})))}async vb(U){const F=await this.bb.getUninstalledExtensions();for(const d of U){const P=n.$3o.create(d);F[P.toString()]&&(this.F.trace("Removing the extension from uninstalled list:",P.id),await this.bb.setInstalled(P),this.F.info("Removed the extension from uninstalled list:",P.id))}}};e.$_p=Z,e.$_p=Z=me([se(0,t.$zo),se(1,he.$vl),se(2,oe.$oj),se(3,i.$ci),se(4,o.$1p),se(5,s.$Wp),se(6,g.$eo),se(7,_.$6h),se(8,te.$rk),se(9,re.$Gj),se(10,ce.$2k),se(11,ae.$4k)],Z);let M=class extends a.$Tc{constructor(U,F,d,P,z,T){super(),this.j=U,this.m=F,this.n=d,this.s=P,this.t=z,this.u=T,this.h=this.B(new k.$Wd),this.onExtract=this.h.event,this.c=(0,f.$Ig)(this.n.userExtensionsLocation,".obsolete"),this.g=new L.$bh}async cleanUp(){await this.H(),await this.G()}async scanExtensions(U,F){const d={includeInvalid:!0,profileLocation:F};let P=[];return U===null||U===0?P.push(...await this.n.scanAllExtensions({includeInvalid:!0},d,!1)):U===1&&P.push(...await this.n.scanUserExtensions(d)),P=U!==null?P.filter(z=>z.type===U):P,Promise.all(P.map(z=>this.F(z)))}async scanAllUserExtensions(U){const F=await this.n.scanUserExtensions({includeAllVersions:!U,includeInvalid:!0});return Promise.all(F.map(d=>this.F(d)))}async scanUserExtensionAtLocation(U){try{const F=await this.n.scanExistingExtension(U,1,{includeInvalid:!0});if(F)return await this.F(F)}catch(F){this.u.error(F)}return null}async extractUserExtension(U,F,d,P,z){const T=U.toString(),H=$.URI.file(m.$jc(this.n.userExtensionsLocation.fsPath,`.${(0,l.$rg)()}`)),G=$.URI.file(m.$jc(this.n.userExtensionsLocation.fsPath,T));let ee=await this.m.exists(G);if(ee&&P){try{await this.y(U.id,G,"removeExisting")}catch{throw new t.$Ao(u.localize(4,null,G.fsPath,U.id),t.ExtensionManagementErrorCode.Delete)}ee=!1}if(ee)await this.n.updateMetadata(G,d);else try{try{this.u.trace(`Started extracting the extension from ${F} to ${G.fsPath}`),await(0,p.$Pp)(F,H.fsPath,{sourcePath:"extension",overwrite:!0},z),this.u.info(`Extracted extension to ${G}:`,U.id)}catch(ue){let fe=t.ExtensionManagementErrorCode.Extract;throw ue instanceof p.$Np&&(ue.type==="CorruptZip"?fe=t.ExtensionManagementErrorCode.CorruptZip:ue.type==="Incomplete"&&(fe=t.ExtensionManagementErrorCode.IncompleteZip)),new t.$Ao(ue.message,fe)}await this.n.updateMetadata(H,d);try{this.u.trace(`Started renaming the extension from ${H.fsPath} to ${G.fsPath}`),await this.C(H.fsPath,G.fsPath),this.u.info("Renamed to",G.fsPath)}catch(ue){if(ue.code==="ENOTEMPTY")this.u.info("Rename failed because extension was installed by another source. So ignoring renaming.",U.id);else throw this.u.info(`Rename failed because of ${(0,A.$0)(ue)}. Deleted from extracted location`,H),ue}this.h.fire(G)}catch(ue){try{await this.m.del(H,{recursive:!0})}catch{}throw ue}return this.D(G,1)}async scanMetadata(U,F){return F?(await this.w(U,F))?.metadata:this.n.scanMetadata(U.location)}async w(U,F){return(await this.s.scanProfileExtensions(F)).find(P=>(0,n.$2o)(P.identifier,U.identifier))}async updateMetadata(U,F,d){return d?await this.s.updateMetadata([[U,F]],d):await this.n.updateMetadata(U.location,F),this.D(U.location,U.type,d)}getUninstalledExtensions(){return this.z()}async setUninstalled(...U){const F=U.map(d=>n.$3o.create(d));await this.z(d=>F.forEach(P=>{d[P.toString()]=!0,this.u.info("Marked extension as uninstalled",P.toString())}))}async setInstalled(U){await this.z(F=>delete F[U.toString()])}async removeExtension(U,F){if(this.t.extUri.isEqualOrParent(U.location,this.n.userExtensionsLocation))return this.y(U.identifier.id,U.location,F)}async removeUninstalledExtension(U){await this.removeExtension(U,"uninstalled"),await this.z(F=>delete F[n.$3o.create(U).toString()])}async copyExtension(U,F,d,P){const z=await this.w(U,F),T=await this.w(U,d);return P={...z?.metadata,...P},T?await this.s.updateMetadata([[U,{...T.metadata,...P}]],d):await this.s.addExtensionsToProfile([[U,P]],d),this.D(U.location,U.type,d)}async copyExtensions(U,F){const d=await this.scanExtensions(1,U),P=await Promise.all(d.filter(z=>!z.isApplicationScoped).map(async z=>[z,await this.scanMetadata(z,U)]));await this.s.addExtensionsToProfile(P,F)}async y(U,F,d){this.u.trace(`Deleting ${d} extension from disk`,U,F.fsPath);const P=this.t.extUri.joinPath(this.t.extUri.dirname(F),`${this.t.extUri.basename(F)}.${(0,h.$Ui)((0,l.$rg)()).toString(16)}${q}`);await this.C(F.fsPath,P.fsPath),await this.m.del(P,{recursive:!0}),this.u.info(`Deleted ${d} extension from disk`,U,F.fsPath)}async z(U){return this.g.queue(async()=>{let F;try{F=(await this.m.readFile(this.c,"utf8")).value.toString()}catch(P){if((0,te.$Ik)(P)!==1)throw P}let d={};if(F)try{d=JSON.parse(F)}catch{}return U&&(U(d),Object.keys(d).length?await this.m.writeFile(this.c,j.$ke.fromString(JSON.stringify(d))):await this.m.del(this.c)),d})}async C(U,F){try{await w.Promises.rename(U,F,2*60*1e3)}catch(d){throw new t.$Ao(d.message||u.localize(5,null,U,F),d.code||t.ExtensionManagementErrorCode.Rename)}}async D(U,F,d){if(d){const z=(await this.n.scanUserExtensions({profileLocation:d})).find(T=>this.t.extUri.isEqual(T.location,U));if(z)return this.F(z)}else{const P=await this.n.scanExistingExtension(U,F,{includeInvalid:!0});if(P)return this.F(P)}throw new Error(u.localize(6,null,U.path))}async F(U){const F=await this.m.resolve(U.location);let d,P;return F.children&&(d=F.children.find(({name:z})=>/^readme(\.txt|\.md|)$/i.test(z))?.resource,P=F.children.find(({name:z})=>/^changelog(\.txt|\.md|)$/i.test(z))?.resource),{identifier:U.identifier,type:U.type,isBuiltin:U.isBuiltin||!!U.metadata?.isBuiltin,location:U.location,manifest:U.manifest,targetPlatform:U.targetPlatform,validations:U.validations,isValid:U.isValid,readmeUrl:d,changelogUrl:P,publisherDisplayName:U.metadata?.publisherDisplayName||null,publisherId:U.metadata?.publisherId||null,isApplicationScoped:!!U.metadata?.isApplicationScoped,isMachineScoped:!!U.metadata?.isMachineScoped,isPreReleaseVersion:!!U.metadata?.isPreReleaseVersion,hasPreReleaseVersion:!!U.metadata?.hasPreReleaseVersion,preRelease:!!U.metadata?.preRelease,installedTimestamp:U.metadata?.installedTimestamp,updated:!!U.metadata?.updated,pinned:!!U.metadata?.pinned}}async G(){const U=await this.getUninstalledExtensions();if(Object.keys(U).length===0){this.u.debug("No uninstalled extensions found.");return}this.u.debug("Removing uninstalled extensions:",Object.keys(U));const F=await this.n.scanUserExtensions({includeAllVersions:!0,includeUninstalled:!0,includeInvalid:!0}),d=new Set;for(const z of F)U[n.$3o.create(z).toString()]||d.add(z.identifier.id.toLowerCase());try{const z=(0,n.$8o)(F,T=>T.identifier);await L.Promises.settled(z.map(async T=>{const H=T.sort((G,ee)=>E.rcompare(G.manifest.version,ee.manifest.version))[0];d.has(H.identifier.id.toLowerCase())||await this.j(await this.F(H))}))}catch(z){this.u.error(z)}const P=F.filter(z=>z.metadata&&U[n.$3o.create(z).toString()]);await Promise.allSettled(P.map(z=>this.removeUninstalledExtension(z)))}async H(){this.u.trace("ExtensionManagementService#removeTempDeleteFolders");let U;try{U=await this.m.resolve(this.n.userExtensionsLocation)}catch(F){(0,te.$Ik)(F)!==1&&this.u.error(F);return}if(U?.children)try{await Promise.allSettled(U.children.map(async F=>{if(!(!F.isDirectory||!F.name.endsWith(q))){this.u.trace("Deleting the temporarily deleted folder",F.resource.toString());try{await this.m.del(F.resource,{recursive:!0}),this.u.trace("Deleted the temporarily deleted folder",F.resource.toString())}catch(d){(0,te.$Ik)(d)!==1&&this.u.error(d)}}}))}catch{}}};e.$aq=M,e.$aq=M=me([se(1,te.$rk),se(2,o.$1p),se(3,s.$Wp),se(4,ce.$2k),se(5,oe.$oj)],M);class C extends r.$Up{get profileLocation(){return this.j}get verificationStatus(){return this.k}get operation(){return(0,S.$Qf)(this.options.operation)?this.l:this.options.operation}constructor(U,F,d,P,z,T,H,G,ee){super(),this.identifier=U,this.source=F,this.options=d,this.m=P,this.n=z,this.o=T,this.p=H,this.q=G,this.s=ee,this.j=this.options.profileLocation,this.k=!1,this.l=2}async h(U){const[F,d]=await this.x(U);return this.j=F.isBuiltin||F.isApplicationScoped?this.o.defaultProfile.extensionsResource:this.options.profileLocation,this.n.extUri.isEqual(this.o.defaultProfile.extensionsResource,this.j)&&await this.p.initializeDefaultProfileExtensions(),await this.q.addExtensionsToProfile([[F,d]],this.j),F}async u({zipPath:U,key:F,metadata:d},P,z){let T=await this.v(F);return T?T=await this.m.updateMetadata(T,d):(this.s.trace("Extracting extension...",F.id),T=await this.m.extractUserExtension(F,U,d,P,z),this.s.info("Extracting extension completed.",F.id)),T}async v(U){return await this.w(U)?(this.s.trace("Removing the extension from uninstalled list:",U.id),await this.m.setInstalled(U),this.s.info("Removed the extension from uninstalled list:",U.id),(await this.m.scanAllUserExtensions(!0)).find(P=>n.$3o.create(P).equals(U))):void 0}async w(U){return!!(await this.m.getUninstalledExtensions())[U.toString()]}}class V extends C{constructor(U,F,d,P,z,T,H,G,ee,ue){super(F.identifier,F,d,z,T,H,G,ee,ue),this.y=F,this.z=P}async x(U){let F;try{F=await this.m.scanExtensions(null,this.options.profileLocation)}catch(H){throw new t.$Ao(H,t.ExtensionManagementErrorCode.Scanning)}const d=F.find(H=>(0,n.$2o)(H.identifier,this.y.identifier));d&&(this.l=3);const P={id:this.y.identifier.uuid,publisherId:this.y.publisherId,publisherDisplayName:this.y.publisherDisplayName,targetPlatform:this.y.properties.targetPlatform,isApplicationScoped:this.options.isApplicationScoped||d?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||d?.isMachineScoped,isBuiltin:this.options.isBuiltin||d?.isBuiltin,isSystem:d?.type===0?!0:void 0,updated:!!d,isPreReleaseVersion:this.y.properties.isPreReleaseVersion,hasPreReleaseVersion:d?.hasPreReleaseVersion||this.y.properties.isPreReleaseVersion,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:this.options.pinned??d?.pinned,preRelease:(0,S.$Pf)(this.options.preRelease)?this.options.preRelease:this.options.installPreReleaseVersion||this.y.properties.isPreReleaseVersion||d?.preRelease};if(d?.manifest.version===this.y.version)try{return[await this.m.updateMetadata(d,P),P]}catch(H){throw new t.$Ao((0,A.$0)(H),t.ExtensionManagementErrorCode.UpdateMetadata)}const{location:z,verificationStatus:T}=await this.z.download(this.y,this.l,!this.options.donotVerifySignature);try{return this.k=T,this.B(z.fsPath),[await this.u({zipPath:z.fsPath,key:n.$3o.create(this.y),metadata:P},!1,U),P]}catch(H){try{await this.z.delete(z)}catch(G){this.s.warn("Error while deleting the downloaded file",z.toString(),(0,A.$0)(G))}throw H}}async B(U){try{await(0,O.$8p)(U)}catch(F){throw new t.$Ao((0,r.$Sp)(F).message,t.ExtensionManagementErrorCode.Invalid)}}}e.$bq=V;class X extends C{constructor(U,F,d,P,z,T,H,G,ee,ue){super({id:(0,n.$7o)(U.publisher,U.name)},F,d,z,T,H,G,ee,ue),this.y=U,this.z=F,this.A=P}async h(U){const F=await super.h(U);return this.D(F,U),F}async x(U){const F=new n.$3o(this.identifier,this.y.version),P=(await this.m.scanExtensions(1,this.options.profileLocation)).find(H=>(0,n.$2o)(this.identifier,H.identifier)),z={isApplicationScoped:this.options.isApplicationScoped||P?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||P?.isMachineScoped,isBuiltin:this.options.isBuiltin||P?.isBuiltin,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:this.options.pinned??P?.pinned};if(P)if(this.l=3,F.equals(new n.$3o(P.identifier,P.manifest.version)))try{await this.m.removeExtension(P,"existing")}catch{throw new Error(u.localize(7,null,this.y.displayName||this.y.name))}else!this.options.profileLocation&&E.gt(P.manifest.version,this.y.version)&&await this.m.setUninstalled(P);else{const H=await this.v(F);if(H)try{await this.m.removeExtension(H,"existing")}catch{throw new Error(u.localize(8,null,this.y.displayName||this.y.name))}}return[await this.u({zipPath:m.$kc(this.z.fsPath),key:F,metadata:z},!0,U),z]}async D(U,F){try{let[d]=await this.A.getExtensions([{id:U.identifier.id,version:U.manifest.version}],F);if(d||([d]=await this.A.getExtensions([{id:U.identifier.id}],F)),d){const P={id:d.identifier.uuid,publisherDisplayName:d.publisherDisplayName,publisherId:d.publisherId,isPreReleaseVersion:d.properties.isPreReleaseVersion,hasPreReleaseVersion:U.hasPreReleaseVersion||d.properties.isPreReleaseVersion,preRelease:d.properties.isPreReleaseVersion||this.options.installPreReleaseVersion};await this.m.updateMetadata(U,P,this.options.profileLocation)}}catch{}}}class Q extends r.$Up{constructor(U,F,d){super(),this.extension=U,this.j=F,this.k=d}async h(U){await this.k.removeExtensionFromProfile(this.extension,this.j)}}}),define(ie[160],ne([0,1,4,23,22,25,42,13,18,11]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$GO=void 0;let v=class extends A.$Xp{constructor(m,f,E,S,$,l){super(a.URI.file(m.extensionsPath),f,E,S,$,l)}};e.$GO=v,e.$GO=v=me([se(0,h.$ci),se(1,k.$rk),se(2,j.$4k),se(3,R.$2k),se(4,N.$vl),se(5,L.$oj)],v)}),define(ie[161],ne([0,1,11,18,42,52,13,10,4,32,22,23]),function(J,e,L,j,R,N,A,k,h,a,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$s_b=void 0;let m=class extends N.$5p{constructor(E,S,$,l,w,p,u,g){super(L.URI.file(w.builtinExtensionsPath),L.URI.file(w.extensionsPath),w.userHome,E.defaultProfile,E,S,$,l,w,p,u,g)}};e.$s_b=m,e.$s_b=m=me([se(0,b.$4k),se(1,R.$Wp),se(2,A.$rk),se(3,h.$oj),se(4,j.$ci),se(5,a.$Gj),se(6,v.$2k),se(7,k.$6h)],m)}),define(ie[162],ne([0,1,9,6,2,127,3,88,10,23]),function(J,e,L,j,R,N,A,k,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ap=e.$zp=e.$yp=e.$xp=e.$wp=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.$vp=e.$up=e.$tp=void 0,e.$tp="__$__isNewStorageMarker",e.$up="__$__targetStorageMarker",e.$vp=(0,h.$7h)("storageService");var v;(function(w){w[w.NONE=0]="NONE",w[w.SHUTDOWN=1]="SHUTDOWN"})(v||(e.WillSaveStateReason=v={}));var b;(function(w){w[w.APPLICATION=-1]="APPLICATION",w[w.PROFILE=0]="PROFILE",w[w.WORKSPACE=1]="WORKSPACE"})(b||(e.StorageScope=b={}));var m;(function(w){w[w.USER=0]="USER",w[w.MACHINE=1]="MACHINE"})(m||(e.StorageTarget=m={}));function f(w){const p=w.get(e.$up);if(p)try{return JSON.parse(p)}catch{}return Object.create(null)}e.$wp=f;class E extends R.$Tc{static{this.a=60*1e3}constructor(p={flushInterval:E.a}){super(),this.m=p,this.b=this.B(new j.$Zd),this.c=this.B(new j.$Zd),this.onDidChangeTarget=this.c.event,this.f=this.B(new j.$Wd),this.onWillSaveState=this.f.event,this.h=this.B(new L.$gh(()=>this.n(),this.m.flushInterval)),this.j=this.B(new R.$Uc),this.C=void 0,this.F=void 0,this.H=void 0}onDidChangeValue(p,u,g){return j.Event.filter(this.b.event,i=>i.scope===p&&(u===void 0||i.key===u),g)}n(){this.j.value=(0,L.$kh)(()=>{this.r()&&this.flush(),this.h.schedule()})}r(){return!0}t(){(0,R.$Oc)([this.j,this.h])}initialize(){return this.g||(this.g=(async()=>{(0,N.mark)("code/willInitStorage");try{await this.O()}finally{(0,N.mark)("code/didInitStorage")}this.h.schedule()})()),this.g}u(p,u){const{key:g,external:i}=u;if(g===e.$up){switch(p){case-1:this.H=void 0;break;case 0:this.F=void 0;break;case 1:this.C=void 0;break}this.c.fire({scope:p})}else this.b.fire({scope:p,key:g,target:this.J(p)[g],external:i})}w(p){this.f.fire({reason:p})}get(p,u,g){return this.P(u)?.get(p,g)}getBoolean(p,u,g){return this.P(u)?.getBoolean(p,g)}getNumber(p,u,g){return this.P(u)?.getNumber(p,g)}getObject(p,u,g){return this.P(u)?.getObject(p,g)}storeAll(p,u){this.y(()=>{for(const g of p)this.store(g.key,g.value,g.scope,g.target,u)})}store(p,u,g,i,r=!1){if((0,A.$Sf)(u)){this.remove(p,g,r);return}this.y(()=>{this.z(p,g,i),this.P(g)?.set(p,u,r)})}remove(p,u,g=!1){this.y(()=>{this.z(p,u,void 0),this.P(u)?.delete(p,g)})}y(p){this.b.pause(),this.c.pause();try{p()}finally{this.b.resume(),this.c.resume()}}keys(p,u){const g=[],i=this.J(p);for(const r of Object.keys(i))i[r]===u&&g.push(r);return g}z(p,u,g,i=!1){const r=this.J(u);typeof g=="number"?r[p]!==g&&(r[p]=g,this.P(u)?.set(e.$up,JSON.stringify(r),i)):typeof r[p]=="number"&&(delete r[p],this.P(u)?.set(e.$up,JSON.stringify(r),i))}get D(){return this.C||(this.C=this.L(1)),this.C}get G(){return this.F||(this.F=this.L(0)),this.F}get I(){return this.H||(this.H=this.L(-1)),this.H}J(p){switch(p){case-1:return this.I;case 0:return this.G;default:return this.D}}L(p){const u=this.P(p);return u?f(u):Object.create(null)}isNew(p){return this.getBoolean(e.$tp,p)===!0}async flush(p=v.NONE){this.f.fire({reason:p});const u=this.P(-1),g=this.P(0),i=this.P(1);switch(p){case v.NONE:await L.Promises.settled([u?.whenFlushed()??Promise.resolve(),g?.whenFlushed()??Promise.resolve(),i?.whenFlushed()??Promise.resolve()]);break;case v.SHUTDOWN:await L.Promises.settled([u?.flush(0)??Promise.resolve(),g?.flush(0)??Promise.resolve(),i?.flush(0)??Promise.resolve()]);break}}async log(){const p=this.P(-1)?.items??new Map,u=this.P(0)?.items??new Map,g=this.P(1)?.items??new Map;return l(p,u,g,this.Q(-1)??"",this.Q(0)??"",this.Q(1)??"")}async optimize(p){return await this.flush(),this.P(p)?.optimize()}async switch(p,u){return this.w(v.NONE),(0,a.$3k)(p)?this.R(p,u):this.S(p,u)}M(p,u){return!(p.id===u.id||S(u)&&S(p))}N(p,u,g){this.y(()=>{const i=new Set;for(const[r,t]of p)i.add(r),u.get(r)!==t&&this.u(g,{key:r,external:!0});for(const[r]of u.items)i.has(r)||this.u(g,{key:r,external:!0})})}}e.$xp=E;function S(w){return w.isDefault||!!w.useDefaultFlags?.globalState}e.$yp=S;class $ extends E{constructor(){super(),this.U=this.B(new k.$rp(new k.$sp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.W=this.B(new k.$rp(new k.$sp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.X=this.B(new k.$rp(new k.$sp,{hint:k.StorageHint.STORAGE_IN_MEMORY})),this.B(this.X.onDidChangeStorage(p=>this.u(1,p))),this.B(this.W.onDidChangeStorage(p=>this.u(0,p))),this.B(this.U.onDidChangeStorage(p=>this.u(-1,p)))}P(p){switch(p){case-1:return this.U;case 0:return this.W;default:return this.X}}Q(p){switch(p){case-1:return"inMemory (application)";case 0:return"inMemory (profile)";default:return"inMemory (workspace)"}}async O(){}async R(){}async S(){}r(){return!1}hasScope(p){return!1}}e.$zp=$;async function l(w,p,u,g,i,r){const t=W=>{try{return JSON.parse(W)}catch{return W}},n=new Map,s=new Map;w.forEach((W,te)=>{n.set(te,W),s.set(te,t(W))});const o=new Map,c=new Map;p.forEach((W,te)=>{o.set(te,W),c.set(te,t(W))});const I=new Map,O=new Map;u.forEach((W,te)=>{I.set(te,W),O.set(te,t(W))}),console.group(g!==i?`Storage: Application (path: ${g})`:`Storage: Application & Profile (path: ${g}, default profile)`);const y=[];if(n.forEach((W,te)=>{y.push({key:te,value:W})}),console.table(y),console.groupEnd(),console.log(s),g!==i){console.group(`Storage: Profile (path: ${i}, profile specific)`);const W=[];o.forEach((te,_)=>{W.push({key:_,value:te})}),console.table(W),console.groupEnd(),console.log(c)}console.group(`Storage: Workspace (path: ${r})`);const D=[];I.forEach((W,te)=>{D.push({key:te,value:W})}),console.table(D),console.groupEnd(),console.log(O)}e.$Ap=l}),define(ie[163],ne([0,1,19,20,7,12,35,3,11,29,18,21,26,50,13,4,32,45,146,162,25,176]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fp=e.$Ep=e.$Dp=void 0;const i=N.$o?"web":(0,b.$vo)(N.$u,A.$ec),r="X-Market-Search-Activity-Id";var t;(function(P){P[P.None=0]="None",P[P.IncludeVersions=1]="IncludeVersions",P[P.IncludeFiles=2]="IncludeFiles",P[P.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",P[P.IncludeSharedAccounts=8]="IncludeSharedAccounts",P[P.IncludeVersionProperties=16]="IncludeVersionProperties",P[P.ExcludeNonValidated=32]="ExcludeNonValidated",P[P.IncludeInstallationTargets=64]="IncludeInstallationTargets",P[P.IncludeAssetUri=128]="IncludeAssetUri",P[P.IncludeStatistics=256]="IncludeStatistics",P[P.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",P[P.Unpublished=4096]="Unpublished",P[P.IncludeNameConflictInfo=32768]="IncludeNameConflictInfo"})(t||(t={}));function n(...P){return String(P.reduce((z,T)=>z|T,0))}var s;(function(P){P[P.Tag=1]="Tag",P[P.ExtensionId=4]="ExtensionId",P[P.Category=5]="Category",P[P.ExtensionName=7]="ExtensionName",P[P.Target=8]="Target",P[P.Featured=9]="Featured",P[P.SearchText=10]="SearchText",P[P.ExcludeWithFlags=12]="ExcludeWithFlags"})(s||(s={}));const o={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source",Signature:"Microsoft.VisualStudio.Services.VsixSignature"},c={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",PreRelease:"Microsoft.VisualStudio.Code.PreRelease",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension",SponsorLink:"Microsoft.VisualStudio.Code.SponsorLink",SupportLink:"Microsoft.VisualStudio.Services.Links.Support"},O={pageNumber:1,pageSize:10,sortBy:0,sortOrder:0,flags:t.None,criteria:[],assetTypes:[]};class y{constructor(z=O){this.d=z}get pageNumber(){return this.d.pageNumber}get pageSize(){return this.d.pageSize}get sortBy(){return this.d.sortBy}get sortOrder(){return this.d.sortOrder}get flags(){return this.d.flags}get criteria(){return this.d.criteria}withPage(z,T=this.d.pageSize){return new y({...this.d,pageNumber:z,pageSize:T})}withFilter(z,...T){const H=[...this.d.criteria,...T.length?T.map(G=>({filterType:z,value:G})):[{filterType:z}]];return new y({...this.d,criteria:H})}withSortBy(z){return new y({...this.d,sortBy:z})}withSortOrder(z){return new y({...this.d,sortOrder:z})}withFlags(...z){return new y({...this.d,flags:z.reduce((T,H)=>T|H,0)})}withAssetTypes(...z){return new y({...this.d,assetTypes:z})}withSource(z){return new y({...this.d,source:z})}get raw(){const{criteria:z,pageNumber:T,pageSize:H,sortBy:G,sortOrder:ee,flags:ue,assetTypes:fe}=this.d;return{filters:[{criteria:z,pageNumber:T,pageSize:H,sortBy:G,sortOrder:ee}],assetTypes:fe,flags:ue}}get searchText(){const z=this.d.criteria.filter(T=>T.filterType===s.SearchText)[0];return z&&z.value?z.value:""}get telemetryData(){return{filterTypes:this.d.criteria.map(z=>String(z.filterType)),flags:this.d.flags,sortBy:String(this.sortBy),sortOrder:String(this.sortOrder),pageNumber:String(this.pageNumber),source:this.d.source,searchTextLength:this.searchText.length}}}function D(P,z){const T=(P||[]).filter(H=>H.statisticName===z)[0];return T?T.value:0}function W(P){const z="Microsoft.VisualStudio.Code.Translation.";return P.files.filter(H=>H.assetType.indexOf(z)===0).reduce((H,G)=>{const ee=oe(P,G.assetType);return ee&&H.push([G.assetType.substring(z.length),ee]),H},[])}function te(P){if(P.properties){const z=P.properties.filter(G=>G.key===o.Repository),T=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),H=z.filter(G=>T.test(G.value))[0];return H?{uri:H.value,fallbackUri:H.value}:null}return oe(P,o.Repository)}function _(P){return{uri:`${P.fallbackAssetUri}/${o.VSIX}?redirect=true${P.targetPlatform?`&targetPlatform=${P.targetPlatform}`:""}`,fallbackUri:`${P.fallbackAssetUri}/${o.VSIX}${P.targetPlatform?`?targetPlatform=${P.targetPlatform}`:""}`}}function oe(P,z){return P.files.filter(H=>H.assetType===z)[0]?{uri:`${P.assetUri}/${z}${P.targetPlatform?`?targetPlatform=${P.targetPlatform}`:""}`,fallbackUri:`${P.fallbackAssetUri}/${z}${P.targetPlatform?`?targetPlatform=${P.targetPlatform}`:""}`}:null}function re(P,z){const T=P.properties?P.properties.filter(G=>G.key===z):[],H=T.length>0&&T[0].value;return H?H.split(",").map(G=>(0,m.$6o)(G)):[]}function he(P){const z=P.properties?P.properties.filter(T=>T.key===c.Engine):[];return z.length>0&&z[0].value||""}function ce(P){const z=P.properties?P.properties.filter(T=>T.key===c.PreRelease):[];return z.length>0&&z[0].value==="true"}function ae(P){const z=P.properties?P.properties.filter(H=>H.key===c.LocalizedLanguages):[],T=z.length>0&&z[0].value||"";return T?T.split(","):[]}function q(P){return P.properties?.find(z=>z.key===c.SponsorLink)?.value}function Z(P){return P.properties?.find(z=>z.key===c.SupportLink)?.value}function M(P){return P.indexOf("preview")!==-1}function C(P){return P.targetPlatform?(0,b.$uo)(P.targetPlatform):"undefined"}function V(P){const z=(0,L.$Mb)(P.versions.map(C)),T=!!P.tags?.includes(b.$po),H=z.indexOf("web");return T?H===-1&&z.push("web"):H!==-1&&z.splice(H,1),z}function X(P,z){for(let T=0;T<P.length;T++){const H=P[T];if(H.version===P[T-1]?.version){let G=T;if(C(H)===z)for(;G>0&&P[G-1].version===H.version;)G--;G!==T&&(P.splice(T,1),P.splice(G,0,H))}}return P}e.$Dp=X;function Q(P,z,T){P.telemetryData={index:z,querySource:T,queryActivityId:P.queryContext?.[r]}}function K(P,z,T,H){const G=P.versions[0],ee={manifest:oe(z,o.Manifest),readme:oe(z,o.Details),changelog:oe(z,o.Changelog),license:oe(z,o.License),repository:te(z),download:_(z),icon:oe(z,o.Icon),signature:oe(z,o.Signature),coreTranslations:W(z)};return{identifier:{id:(0,m.$7o)(P.publisher.publisherName,P.extensionName),uuid:P.extensionId},name:P.extensionName,version:z.version,displayName:P.displayName,publisherId:P.publisher.publisherId,publisher:P.publisher.publisherName,publisherDisplayName:P.publisher.displayName,publisherDomain:P.publisher.domain?{link:P.publisher.domain,verified:!!P.publisher.isDomainVerified}:void 0,publisherSponsorLink:q(G),description:P.shortDescription||"",installCount:D(P.statistics,"install"),rating:D(P.statistics,"averagerating"),ratingCount:D(P.statistics,"ratingcount"),categories:P.categories||[],tags:P.tags||[],releaseDate:Date.parse(P.releaseDate),lastUpdated:Date.parse(P.lastUpdated),allTargetPlatforms:T,assets:ee,properties:{dependencies:re(z,c.Dependency),extensionPack:re(z,c.ExtensionPack),engine:he(z),localizedLanguages:ae(z),targetPlatform:C(z),isPreReleaseVersion:ce(z)},hasPreReleaseVersion:ce(G),hasReleaseVersion:!0,preview:M(P.flags),isSigned:!!ee.signature,queryContext:H,supportLink:Z(G)}}let U=class{constructor(z,T,H,G,ee,ue,fe,$e){this.k=T,this.l=H,this.n=G,this.o=ee,this.q=ue,this.u=fe,this.w=$e;const we=fe.extensionsGallery,de=we?.servicePPEUrl&&$e.getValue("_extensionsGallery.enablePPE");this.d=de?we.servicePPEUrl:we?.serviceUrl,this.g=de?void 0:we?.searchUrl,this.h=we?.controlUrl,this.j=(0,w.$Cp)(fe.version,fe,this.n,this.w,this.q,z,this.o)}x(z=""){return`${this.d}${z}`}isEnabled(){return!!this.d}async getExtensions(z,T,H){const G=j.CancellationToken.isCancellationToken(T)?{}:T,ee=j.CancellationToken.isCancellationToken(T)?T:H,ue=[],fe=[],$e=[],we=[];let de=!0;for(const ve of z){ve.uuid?fe.push(ve.uuid):ue.push(ve.id);const ke=!!(ve.version||ve.preRelease);$e.push({id:ve.id,uuid:ve.uuid,includePreRelease:ke}),ve.version&&we.push({id:ve.id,uuid:ve.uuid,version:ve.version}),de=de&&!!ve.hasPreRelease&&!ke}if(!fe.length&&!ue.length)return[];let le=new y().withPage(1,z.length);fe.length&&(le=le.withFilter(s.ExtensionId,...fe)),ue.length&&(le=le.withFilter(s.ExtensionName,...ue)),(G.queryAllVersions||de)&&(le=le.withFlags(le.flags,t.IncludeVersions)),G.source&&(le=le.withSource(G.source));const{extensions:pe}=await this.z(le,{targetPlatform:G.targetPlatform??i,includePreRelease:$e,versions:we,compatible:!!G.compatible},ee);return G.source&&pe.forEach((ve,ke)=>Q(ve,ke,G.source)),pe}async getCompatibleExtension(z,T,H){if((0,b.$wo)(z.allTargetPlatforms,H))return null;if(await this.isExtensionCompatible(z,T,H))return z;const G=new y().withFlags(t.IncludeVersions).withPage(1,1).withFilter(s.ExtensionId,z.identifier.uuid),{extensions:ee}=await this.z(G,{targetPlatform:H,compatible:!0,includePreRelease:T},j.CancellationToken.None);return ee[0]||null}async isExtensionCompatible(z,T,H){if(!(0,b.$xo)(z.properties.targetPlatform,z.allTargetPlatforms,H)||!T&&z.properties.isPreReleaseVersion)return!1;let G=z.properties.engine;if(!G){const ee=await this.getManifest(z,j.CancellationToken.None);if(!ee)throw new Error("Manifest was not found");G=ee.engines.vscode}return(0,f.$hp)(G,this.u.version,this.u.date)}async y(z,T,H,G,ee){if(!(0,b.$xo)(C(z),G,ee)||T!=="any"&&ce(z)!==(T==="prerelease"))return!1;if(H)try{const ue=await this.E(z);if(!(0,f.$hp)(ue,this.u.version,this.u.date))return!1}catch(ue){return this.l.error(`Error while getting the engine for the version ${z.version}.`,(0,R.$0)(ue)),!1}return!0}async query(z,T){let H=z.text||"";const G=z.pageSize??50;let ee=new y().withPage(1,G);H?(H=H.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(de,le,pe)=>(ee=ee.withFilter(s.Category,pe||le),"")),H=H.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(de,le,pe)=>(ee=ee.withFilter(s.Tag,pe||le),"")),H=H.replace(/\bfeatured(\s+|\b|$)/g,()=>(ee=ee.withFilter(s.Featured),"")),H=H.trim(),H&&(H=H.length<200?H:H.substring(0,200),ee=ee.withFilter(s.SearchText,H)),ee=ee.withSortBy(0)):z.ids?ee=ee.withFilter(s.ExtensionId,...z.ids):z.names?ee=ee.withFilter(s.ExtensionName,...z.names):ee=ee.withSortBy(4),typeof z.sortBy=="number"&&(ee=ee.withSortBy(z.sortBy)),typeof z.sortOrder=="number"&&(ee=ee.withSortOrder(z.sortOrder)),z.source&&(ee=ee.withSource(z.source));const ue=async(de,le)=>{const{extensions:pe,total:ve}=await this.z(de,{targetPlatform:i,compatible:!1,includePreRelease:!!z.includePreRelease},le);return pe.forEach((ke,De)=>Q(ke,(de.pageNumber-1)*de.pageSize+De,z.source)),{extensions:pe,total:ve}},{extensions:fe,total:$e}=await ue(ee,T),we=async(de,le)=>{if(le.isCancellationRequested)throw new R.$5;const{extensions:pe}=await ue(ee.withPage(de+1),le);return pe};return{firstPage:fe,total:$e,pageSize:ee.pageSize,getPage:we}}async z(z,T,H){const G=z.flags;z.flags&t.IncludeLatestVersionOnly&&z.flags&t.IncludeVersions&&(z=z.withFlags(z.flags&~t.IncludeVersions,t.IncludeLatestVersionOnly)),!(z.flags&t.IncludeLatestVersionOnly)&&!(z.flags&t.IncludeVersions)&&(z=z.withFlags(z.flags,t.IncludeLatestVersionOnly)),T.versions?.length&&(z=z.withFlags(z.flags&~t.IncludeLatestVersionOnly,t.IncludeVersions)),z=z.withFlags(z.flags,t.IncludeAssetUri,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeStatistics,t.IncludeVersionProperties);const{galleryExtensions:ee,total:ue,context:fe}=await this.B(z,H);if(!(z.flags&t.IncludeLatestVersionOnly)){const le=[];for(const pe of ee){const ve=await this.A(pe,T,fe);ve&&le.push(ve)}return{extensions:le,total:ue}}const we=[],de=new Map;for(let le=0;le<ee.length;le++){const pe=ee[le],ve={id:(0,m.$7o)(pe.publisher.publisherName,pe.extensionName),uuid:pe.extensionId},ke=(0,k.$Pf)(T.includePreRelease)?T.includePreRelease:!!T.includePreRelease.find(B=>(0,m.$2o)(B,ve))?.includePreRelease;if(T.compatible&&(0,b.$wo)(V(pe),T.targetPlatform))continue;const De=await this.A(pe,T,fe);!De||De.properties.isPreReleaseVersion&&(!ke||!De.hasReleaseVersion)||!De.properties.isPreReleaseVersion&&De.properties.targetPlatform!==T.targetPlatform&&De.hasPreReleaseVersion?de.set(pe.extensionId,le):we.push([le,De])}if(de.size){const le=new g.$Sd,pe=new y().withFlags(G&~t.IncludeLatestVersionOnly,t.IncludeVersions).withPage(1,de.size).withFilter(s.ExtensionId,...de.keys()),{extensions:ve}=await this.z(pe,T,H);this.o.publicLog2("galleryService:additionalQuery",{duration:le.elapsed(),count:de.size});for(const ke of ve){const De=de.get(ke.identifier.uuid);we.push([De,ke])}}return{extensions:we.sort((le,pe)=>le[0]-pe[0]).map(([,le])=>le),total:ue}}async A(z,T,H){const G={id:(0,m.$7o)(z.publisher.publisherName,z.extensionName),uuid:z.extensionId},ee=T.versions?.find(we=>(0,m.$2o)(we,G))?.version,ue=(0,k.$Pf)(T.includePreRelease)?T.includePreRelease:!!T.includePreRelease.find(we=>(0,m.$2o)(we,G))?.includePreRelease,fe=V(z),$e=X(z.versions,T.targetPlatform);if(T.compatible&&(0,b.$wo)(fe,T.targetPlatform))return null;for(let we=0;we<$e.length;we++){const de=$e[we];if(!(ee&&de.version!==ee)){if(await this.y(de,ue?"any":"release",T.compatible,fe,T.targetPlatform))return K(z,de,fe,H);if(ee&&de.version===ee)return null}}return ee||T.compatible?null:K(z,z.versions[0],fe)}async B(z,T){if(!this.isEnabled())throw new Error("No extension gallery service configured.");z=z.withFlags(z.flags,t.ExcludeNonValidated).withFilter(s.Target,"Microsoft.VisualStudio.Code").withFilter(s.ExcludeWithFlags,n(t.Unpublished));const H=await this.j,G=JSON.stringify(z.raw),ee={...H,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(G.length)},ue=new g.$Sd;let fe,$e,we=0;try{if(fe=await this.k.request({type:"POST",url:this.g&&z.criteria.some(le=>le.filterType===s.SearchText)?this.g:this.x("/extensionquery"),data:G,headers:ee},T),fe.res.statusCode&&fe.res.statusCode>=400&&fe.res.statusCode<500)return{galleryExtensions:[],total:we};const de=await(0,l.$op)(fe);if(de){const le=de.results[0],pe=le.extensions,ve=le.resultMetadata&&le.resultMetadata.filter(ke=>ke.metadataType==="ResultCount")[0];return we=ve&&ve.metadataItems.filter(ke=>ke.name==="TotalCount")[0].count||0,{galleryExtensions:pe,total:we,context:{[r]:fe.res.headers.activityid}}}return{galleryExtensions:[],total:we}}catch(de){const le=(0,R.$4)(de)?b.ExtensionGalleryErrorCode.Cancelled:(0,R.$0)(de).startsWith("XHR timeout")?b.ExtensionGalleryErrorCode.Timeout:b.ExtensionGalleryErrorCode.Failed;throw $e=new b.$Bo((0,R.$0)(de),le),$e}finally{this.o.publicLog2("galleryService:query",{...z.telemetryData,requestBodySize:String(G.length),duration:ue.elapsed(),success:!!fe&&(0,l.$kp)(fe),responseBodySize:fe?.res.headers["Content-Length"],statusCode:fe?String(fe.res.statusCode):void 0,errorCode:$e?.code,count:String(we)})}}async reportStatistic(z,T,H,G){if(!this.isEnabled())return;const ee=N.$o?this.x(`/itemName/${z}.${T}/version/${H}/statType/${G==="install"?"1":"3"}/vscodewebextension`):this.x(`/publishers/${z}/extensions/${T}/${H}/stats?statType=${G}`),ue=N.$o?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",$e={...await this.j,Accept:ue};try{await this.k.request({type:"POST",url:ee,headers:$e},j.CancellationToken.None)}catch{}}async download(z,T,H){this.l.trace("ExtensionGalleryService#download",z.identifier.id);const G=(0,m.$0o)(z),ee=new Date().getTime(),ue=le=>this.o.publicLog("galleryService:downloadVSIX",{...G,duration:le}),fe=H===2?"install":H===3?"update":"",$e=fe?{uri:`${z.assets.download.uri}${h.URI.parse(z.assets.download.uri).query?"&":"?"}${fe}=true`,fallbackUri:`${z.assets.download.fallbackUri}${h.URI.parse(z.assets.download.fallbackUri).query?"&":"?"}${fe}=true`}:z.assets.download,we=z.queryContext?.[r]?{[r]:z.queryContext[r]}:void 0,de=await this.D($e,we?{headers:we}:void 0);await this.q.writeFile(T,de.stream),ue(new Date().getTime()-ee)}async downloadSignatureArchive(z,T){if(!z.assets.signature)throw new Error("No signature asset found");this.l.trace("ExtensionGalleryService#downloadSignatureArchive",z.identifier.id);const H=await this.D(z.assets.signature);await this.q.writeFile(T,H.stream)}async getReadme(z,T){if(z.assets.readme){const H=await this.D(z.assets.readme,{},T);return await(0,l.$np)(H)||""}return""}async getManifest(z,T){if(z.assets.manifest){const H=await this.D(z.assets.manifest,{},T),G=await(0,l.$np)(H);return G?JSON.parse(G):null}return null}async C(z,T){const H=oe(z,o.Manifest);if(!H)throw new Error("Manifest was not found");const G={"Accept-Encoding":"gzip"},ee=await this.D(H,{headers:G});return await(0,l.$op)(ee)}async getCoreTranslation(z,T){const H=z.assets.coreTranslations.filter(G=>G[0]===T.toUpperCase())[0];if(H){const G=await this.D(H[1]),ee=await(0,l.$np)(G);return ee?JSON.parse(ee):null}return null}async getChangelog(z,T){if(z.assets.changelog){const H=await this.D(z.assets.changelog,{},T);return await(0,l.$np)(H)||""}return""}async getAllCompatibleVersions(z,T,H){let G=new y().withFlags(t.IncludeVersions,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeVersionProperties).withPage(1,1);z.identifier.uuid?G=G.withFilter(s.ExtensionId,z.identifier.uuid):G=G.withFilter(s.ExtensionName,z.identifier.id);const{galleryExtensions:ee}=await this.B(G,j.CancellationToken.None);if(!ee.length)return[];const ue=V(ee[0]);if((0,b.$wo)(ue,H))return[];const fe=[];await Promise.all(ee[0].versions.map(async de=>{try{await this.y(de,T?"any":"release",!0,ue,H)&&fe.push(de)}catch{}}));const $e=[],we=new Set;for(const de of X(fe,H))we.has(de.version)||(we.add(de.version),$e.push({version:de.version,date:de.lastUpdated,isPreReleaseVersion:ce(de)}));return $e}async D(z,T={},H=j.CancellationToken.None){const G=await this.j,ee={type:"GET"},ue={...G,...T.headers||{}};T={...T,...ee,headers:ue};const fe=z.uri,$e=z.fallbackUri,we={...T,url:fe};try{const de=await this.k.request(we,H);if(de.res.statusCode===200)return de;const le=await(0,l.$np)(de);throw new Error(`Expected 200, got back ${de.res.statusCode} instead.

${le}`)}catch(de){if((0,R.$4)(de))throw de;const le=(0,R.$0)(de);this.o.publicLog2("galleryService:cdnFallback",{url:fe,message:le});const pe={...T,url:$e};return this.k.request(pe,H)}}async E(z){let T=he(z);if(!T){const H=await this.C(z,j.CancellationToken.None);if(!H)throw new Error("Manifest was not found");T=H.engines.vscode}return T}async getExtensionsControlManifest(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.h)return{malicious:[],deprecated:{},search:[]};const z=await this.k.request({type:"GET",url:this.h},j.CancellationToken.None);if(z.res.statusCode!==200)throw new Error("Could not get extensions report.");const T=await(0,l.$op)(z),H=[],G={},ee=[];if(T){for(const ue of T.malicious)H.push({id:ue});if(T.migrateToPreRelease)for(const[ue,fe]of Object.entries(T.migrateToPreRelease))(!fe.engine||(0,f.$hp)(fe.engine,this.u.version,this.u.date))&&(G[ue.toLowerCase()]={disallowInstall:!0,extension:{id:fe.id,displayName:fe.displayName,autoMigrate:{storage:!!fe.migrateStorage},preRelease:!0}});if(T.deprecated)for(const[ue,fe]of Object.entries(T.deprecated))fe&&(G[ue.toLowerCase()]=(0,k.$Pf)(fe)?{}:fe);if(T.search)for(const ue of T.search)ee.push(ue)}return{malicious:H,deprecated:G,search:ee}}};U=me([se(1,l.$ip),se(2,S.$oj),se(3,v.$bi),se(4,u.$vl),se(5,E.$rk),se(6,$.$Gj),se(7,a.$Ai)],U);let F=class extends U{constructor(z,T,H,G,ee,ue,fe,$e){super(z,T,H,G,ee,ue,fe,$e)}};e.$Ep=F,e.$Ep=F=me([se(0,p.$vp),se(1,l.$ip),se(2,S.$oj),se(3,v.$bi),se(4,u.$vl),se(5,E.$rk),se(6,$.$Gj),se(7,a.$Ai)],F);let d=class extends U{constructor(z,T,H,G,ee,ue,fe){super(void 0,z,T,H,G,ee,ue,fe)}};e.$Fp=d,e.$Fp=d=me([se(0,l.$ip),se(1,S.$oj),se(2,v.$bi),se(3,u.$vl),se(4,E.$rk),se(5,$.$Gj),se(6,a.$Ai)],d)}),define(ie[164],ne([0,1,11,18,13,4,142,22,23,3,68]),function(J,e,L,j,R,N,A,k,h,a,v){"use strict";var b,m;Object.defineProperty(e,"__esModule",{value:!0}),e.$FO=e.$EO=e.$DO=void 0;let f=class extends h.$7k{static{b=this}static{this.a="profileAssociationsMigration"}constructor(l,w,p,u,g){super(p,u,w,g),this.U=l,this.W=p}O(){return this.U.getItem(b.b,[]).map(w=>({...w,location:(0,a.$Jf)(w.location)?this.w.extUri.joinPath(this.profilesHome,w.location):L.URI.revive(w.location)}))}Q(){const l=this.U.getItem(b.c,{});return this.U.getItem(b.a,!1)?l:this.N(l)}S(){return this.w.extUri.joinPath(L.URI.file(this.W.extensionsPath).with({scheme:this.profilesHome.scheme}),"extensions.json")}};e.$DO=f,e.$DO=f=b=me([se(0,A.$yO),se(1,k.$2k),se(2,j.$ci),se(3,R.$rk),se(4,N.$oj)],f);let E=m=class extends f{constructor(l,w,p,u,g){super(l,w,p,u,g),this.$=l}P(l){l.length?this.$.setItem(m.b,l.map(w=>({...w,location:this.w.extUri.basename(w.location)}))):this.$.removeItem(m.b)}O(){const l=super.O();return this.$.getItem("userDataProfilesMigration",!1)||(this.P(l),this.$.setItem("userDataProfilesMigration",!0)),l}R(l){l.emptyWindows||l.workspaces?this.$.setItem(m.c,l):this.$.removeItem(m.c)}Q(){const l="workspaceAndProfileInfo",w=this.$.getItem(l,void 0);if(w){this.$.removeItem(l);const u=w.reduce((g,{workspace:i,profile:r})=>(g[L.URI.revive(i).toString()]=L.URI.revive(r).toString(),g),{});this.$.setItem(m.c,{workspaces:u})}const p=super.Q();return this.$.getItem(m.a,!1)||(this.R(p),this.$.setItem(m.a,!0)),p}};e.$EO=E,e.$EO=E=m=me([se(0,A.$zO),se(1,k.$2k),se(2,j.$ci),se(3,R.$rk),se(4,N.$oj)],E);let S=class extends E{constructor(l,w,p,u){super(new v.$CO(0,w,u,p),l,w,p,u)}async init(){return await this.$.init(),super.init()}};e.$FO=S,e.$FO=S=me([se(0,k.$2k),se(1,j.$ci),se(2,R.$rk),se(3,N.$oj)],S)}),define(ie[165],ne([0,1,140,9,14,7,3,29,18,141,4,45,139,177]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pr=e.$or=void 0;let E=class extends b.$jp{constructor(w,p,u,g){super(g),this.m=w,this.n=p,this.r=u,this.s(),this.B(w.onDidChangeConfiguration(i=>{i.affectsConfiguration("http")&&this.s()}))}s(){const w=this.m.getValue("http");this.f=w?.proxy,this.g=!!w?.proxyStrictSSL,this.h=w?.proxyAuthorization}async request(w,p){const{f:u,g}=this;let i;try{i=await(0,a.$am)(this.m,this.r,this.n.args,process.env)}catch(n){this.j||(this.j=!0,this.r.error("resolving shell environment failed",(0,N.$0)(n)))}const r={...process.env,...i},t=w.agent?w.agent:await(0,m.$nr)(w.url||"",r,{proxyUrl:u,strictSSL:g});return w.agent=t,w.strictSSL=g,this.h&&(w.headers={...w.headers||{},"Proxy-Authorization":this.h}),this.c(w.isChromiumNetwork?"electron":"node",w,()=>$(w,p))}async resolveProxy(w){}async loadCertificates(){return(await new Promise((p,u)=>{J(["@vscode/proxy-agent"],p,u)})).loadSystemCertificates({log:this.r})}};e.$or=E,e.$or=E=me([se(0,k.$Ai),se(1,h.$ci),se(2,v.$oj),se(3,v.$pj)],E);async function S(l){return((0,L.parse)(l.url).protocol==="https:"?await new Promise((u,g)=>{J(["https"],u,g)}):await new Promise((u,g)=>{J(["http"],u,g)})).request}async function $(l,w){return j.Promises.withAsyncBody(async(p,u)=>{const g=(0,L.parse)(l.url),i=l.getRawRequest?l.getRawRequest(l):await S(l),r={hostname:g.hostname,port:g.port?parseInt(g.port):g.protocol==="https:"?443:80,protocol:g.protocol,path:g.path,method:l.type||"GET",headers:l.headers,agent:l.agent,rejectUnauthorized:(0,A.$Pf)(l.strictSSL)?l.strictSSL:!0};l.user&&l.password&&(r.auth=l.user+":"+l.password);const t=i(r,n=>{const s=(0,A.$Nf)(l.followRedirects)?l.followRedirects:3;if(n.statusCode&&n.statusCode>=300&&n.statusCode<400&&s>0&&n.headers.location)$({...l,url:n.headers.location,followRedirects:s-1},w).then(p,u);else{let o=n;!l.isChromiumNetwork&&n.headers["content-encoding"]==="gzip"&&(o=n.pipe((0,f.createGunzip)())),p({res:n,stream:(0,R.$ze)(o)})}});t.on("error",u),l.timeout&&t.setTimeout(l.timeout),l.isChromiumNetwork&&t.removeHeader("Content-Length"),l.data&&typeof l.data=="string"&&t.write(l.data),t.end(),w.onCancellationRequested(()=>{t.abort(),u(new N.$5)})})}e.$pr=$}),define(ie[178],ne([0,1,33,9,34,7,2,15,16,12,35,11,24,29,136,59,138,18,114,163,21,64,143,42,52,159,161,13,126,128,51,124,62,63,147,4,132,39,133,150,32,45,165,68,69,25,149,41,151,152,22,154,23,164,153,160,129,131,5,155]),function(J,e,L,j,R,N,A,k,h,a,v,b,m,f,E,S,$,l,w,p,u,g,i,r,t,n,s,o,c,I,O,y,D,W,te,_,oe,re,he,ce,ae,q,Z,M,C,V,X,Q,K,U,F,d,P,z,T,H,G,ee,ue,fe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;class $e extends A.$Tc{constructor(le){super(),this.b=le,this.c()}c(){process.once("exit",()=>this.dispose())}async run(){const[le,pe]=await this.f();return le.invokeFunction(async ve=>{const ke=ve.get(_.$oj),De=ve.get(o.$rk),B=ve.get(l.$ci),Y=ve.get(P.$4k);ke.info("CLI main",this.b),this.g(ke),await this.h(B,De,Y,le),await Promise.all(pe.map(x=>{(0,j.$Yg)(x.flush(),1e3)}))})}async f(){const le=new D.$5h,pe={_serviceBrand:void 0,...ce.default};le.set(ae.$Gj,pe);const ve=new w.$Cm(this.b,pe);le.set(l.$ci,ve),await Promise.all([ve.appSettingsHome.with({scheme:k.Schemas.file}).fsPath,ve.extensionsPath].map(Le=>Le?m.Promises.mkdir(Le,{recursive:!0}):void 0));const ke=new ee.$xO((0,_.$Cj)(ve),ve.logsHome);le.set(_.$pj,ke);const De=this.B(ke.createLogger("cli",{name:(0,ue.localize)(0,null)})),B=[];ke.getLogLevel()===_.LogLevel.Trace&&B.push(new _.$wj(ke.getLogLevel()));const Y=this.B(new G.$HO(De,B));le.set(_.$oj,Y);const x=this.B(new c.$dq(Y));le.set(o.$rk,x);const ge=this.B(new I.$Cq(Y));x.registerProvider(k.Schemas.file,ge);const ye=new d.$3r(x);le.set(F.$2k,ye);const je=new M.$BO(1,ve,Y,x),Se=new z.$DO(je,ye,ve,x,Y);le.set(P.$4k,Se),x.registerProvider(k.Schemas.vscodeUserData,new fe.$T_b(k.Schemas.file,ge,k.Schemas.vscodeUserData,Se,ye,Y));const ze=a.$i&&pe.win32RegValueName?this.B(new he.$R_b(Y,pe.win32RegValueName)):ve.policyFile?this.B(new oe.$S_b(ve.policyFile,x,Y)):new re.$Mn;le.set(re.$Kn,ze);const Ie=this.B(new E.$ao(Se.defaultProfile.settingsResource,x,ze,Y));le.set(f.$Ai,Ie),await Promise.all([je.init(),Ie.initialize()]);let Ne;try{Ne=await(0,T.$v_b)(je,Y)}catch(Le){Le.code!=="ENOENT"&&Y.error(Le)}const Ce=await(0,T.$w_b)(je,Y);Se.init(),le.set(F.$2k,new d.$3r(x));const Oe=new Z.$or(Ie,ve,Y,ke);le.set(q.$ip,Oe),le.set(S.$eo,new O.$4h($.$WO,void 0,!0)),le.set(r.$Wp,new O.$4h(H.$GO,void 0,!0)),le.set(t.$1p,new O.$4h(s.$s_b,void 0,!0)),le.set(g.$Gp,new O.$4h(g.$Hp,void 0,!0)),le.set(n.$$p,new O.$4h(n.$_p,void 0,!0)),le.set(u.$zo,new O.$4h(p.$Fp,void 0,!0)),le.set(W.$ir,new O.$4h(te.$kr,void 0,!1));const Ae=[],Fe=(0,Q.$Yo)(pe,Ie);if((0,Q.$To)(pe,ve)){pe.aiConfig&&pe.aiConfig.ariaKey&&Ae.push(new K.$vO(Oe,Fe,"monacoworkbench",null,pe.aiConfig.ariaKey));const Le={appenders:Ae,sendErrorTelemetry:!1,commonProperties:(0,C.$Ko)((0,L.release)(),(0,L.hostname)(),process.arch,pe.commit,pe.version,Ne,Ce,Fe),piiPaths:(0,Q.$Zo)(ve)};le.set(V.$vl,new O.$4h(X.$qr,[Le],!1))}else le.set(V.$vl,Q.$Oo);return[new y.$Fq(le),Ae]}g(le){(0,N.setUnexpectedErrorHandler)(pe=>{const ve=(0,R.$Ri)(pe,!0);ve&&le.error(`[uncaught exception in CLI]: ${ve}`)}),process.on("uncaughtException",pe=>{(0,N.$Z)(pe)||(0,N.$1)(pe)}),process.on("unhandledRejection",pe=>(0,N.$1)(pe))}async h(le,pe,ve,ke){let De;if(le.args.profile&&(De=ve.profiles.find(Y=>Y.name===le.args.profile),!De))throw new Error(`Profile '${le.args.profile}' not found.`);const B=(De??ve.defaultProfile).extensionsResource;if(this.b["list-extensions"])return ke.createInstance(i.$Ip,new _.$wj(_.LogLevel.Info,!1)).listExtensions(!!this.b["show-versions"],this.b.category,B);if(this.b["install-extension"]||this.b["install-builtin-extension"]){const Y={isMachineScoped:!!this.b["do-not-sync"],installPreReleaseVersion:!!this.b["pre-release"],profileLocation:B};return ke.createInstance(i.$Ip,new _.$wj(_.LogLevel.Info,!1)).installExtensions(this.j(this.b["install-extension"]||[]),this.j(this.b["install-builtin-extension"]||[]),Y,!!this.b.force)}else{if(this.b["uninstall-extension"])return ke.createInstance(i.$Ip,new _.$wj(_.LogLevel.Info,!1)).uninstallExtensions(this.j(this.b["uninstall-extension"]),!!this.b.force,B);if(this.b["update-extensions"])return ke.createInstance(i.$Ip,new _.$wj(_.LogLevel.Info,!1)).updateExtensions(B);if(this.b["locate-extension"])return ke.createInstance(i.$Ip,new _.$wj(_.LogLevel.Info,!1)).locateExtension(this.b["locate-extension"]);this.b.telemetry&&console.log(await(0,U.$fac)(le.appRoot,le.extensionsPath))}}j(le){return le.map(pe=>/\.vsix$/i.test(pe)?b.URI.file((0,h.$ic)(pe)?pe:(0,h.$jc)((0,v.cwd)(),pe)):pe)}}async function we(de){const le=new $e(de);try{await le.run()}finally{le.dispose()}}e.main=we})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/903b1e9d8990623e3d7da1df3d33db3e42d80eda/core/vs/code/node/cliProcessMain.js.map
