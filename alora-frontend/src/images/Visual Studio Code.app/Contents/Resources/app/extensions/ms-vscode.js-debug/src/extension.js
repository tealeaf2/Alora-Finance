"use strict";var r7=Object.create;var Ff=Object.defineProperty;var l$=Object.getOwnPropertyDescriptor;var n7=Object.getOwnPropertyNames;var i7=Object.getPrototypeOf,o7=Object.prototype.hasOwnProperty;var s7=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),a7=(t,e)=>{for(var r in e)Ff(t,r,{get:e[r],enumerable:!0})},p$=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of n7(e))!o7.call(t,i)&&i!==r&&Ff(t,i,{get:()=>e[i],enumerable:!(n=l$(e,i))||n.enumerable});return t};var A=(t,e,r)=>(r=t!=null?r7(i7(t)):{},p$(e||!t||!t.__esModule?Ff(r,"default",{value:t,enumerable:!0}):r,t)),c7=t=>p$(Ff({},"__esModule",{value:!0}),t),D=(t,e,r,n)=>{for(var i=n>1?void 0:n?l$(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Ff(e,r,i),i},b=(t,e)=>(r,n)=>e(r,n,t);var we=v((AAe,y$)=>{"use strict";var u7=Object.create,tH=Object.defineProperty,l7=Object.getOwnPropertyDescriptor,h$=Object.getOwnPropertyNames,p7=Object.getPrototypeOf,d7=Object.prototype.hasOwnProperty,f7=(t,e)=>function(){return e||(0,t[h$(t)[0]])((e={exports:{}}).exports,e),e.exports},h7=(t,e)=>{for(var r in e)tH(t,r,{get:e[r],enumerable:!0})},m$=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h$(e))!d7.call(t,i)&&i!==r&&tH(t,i,{get:()=>e[i],enumerable:!(n=l7(e,i))||n.enumerable});return t},m7=(t,e,r)=>(r=t!=null?u7(p7(t)):{},m$(e||!t||!t.__esModule?tH(r,"default",{value:t,enumerable:!0}):r,t)),g7=t=>m$(tH({},"__esModule",{value:!0}),t),H7=f7({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,u,{signal:l}={}){return new Promise((p,d)=>{function m(){l?.removeEventListener("abort",m),c.removeListener(u,f),c.removeListener("error",g)}function f(...y){m(),p(y)}function g(y){m(),d(y)}l?.addEventListener("abort",m),c.on(u,f),c.on("error",g)})}},54:function(s,a,c){"use strict";var u=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};let l=c(361),p=u(c(374)),d=u(c(304)),m=p.default("agent-base");function f(){let{stack:y}=new Error;return typeof y=="string"&&y.split(`
`).some(x=>x.indexOf("(https.js:")!==-1||x.indexOf("node:https:")!==-1)}function g(y,x){return new g.Agent(y,x)}(function(y){class x extends l.EventEmitter{constructor($,L){super();let R=L;typeof $=="function"?this.callback=$:$&&(R=$),this.timeout=null,R&&typeof R.timeout=="number"&&(this.timeout=R.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:f()?443:80}set defaultPort($){this.explicitDefaultPort=$}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:f()?"https:":"http:"}set protocol($){this.explicitProtocol=$}callback($,L,R){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest($,L){let R=Object.assign({},L);typeof R.secureEndpoint!="boolean"&&(R.secureEndpoint=f()),R.host==null&&(R.host="localhost"),R.port==null&&(R.port=R.secureEndpoint?443:80),R.protocol==null&&(R.protocol=R.secureEndpoint?"https:":"http:"),R.host&&R.path&&delete R.path,delete R.agent,delete R.hostname,delete R._defaultAgent,delete R.defaultPort,delete R.createConnection,$._last=!0,$.shouldKeepAlive=!1;let X=!1,z=null,F=R.timeout||this.timeout,M=B=>{$._hadError||($.emit("error",B),$._hadError=!0)},O=()=>{z=null,X=!0;let B=new Error(`A "socket" was not created for HTTP request before ${F}ms`);B.code="ETIMEOUT",M(B)},C=B=>{X||(z!==null&&(clearTimeout(z),z=null),M(B))},V=B=>{if(X)return;if(z!=null&&(clearTimeout(z),z=null),G=B,!!G&&typeof G.addRequest=="function")return m("Callback returned another Agent instance %o",B.constructor.name),void B.addRequest($,R);var G;if(B)return B.once("free",()=>{this.freeSocket(B,R)}),void $.onSocket(B);let S=new Error(`no Duplex stream was returned to agent-base for \`${$.method} ${$.path}\``);M(S)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(m("Converting legacy callback function to promise"),this.promisifiedCallback=d.default(this.callback)):this.promisifiedCallback=this.callback),typeof F=="number"&&F>0&&(z=setTimeout(O,F)),"port"in R&&typeof R.port!="number"&&(R.port=Number(R.port));try{m("Resolving socket for %o request: %o",R.protocol,`${$.method} ${$.path}`),Promise.resolve(this.promisifiedCallback($,R)).then(V,C)}catch(B){Promise.reject(B).catch(C)}}else M(new Error("`callback` is not defined"))}freeSocket($,L){m("Freeing socket %o %o",$.constructor.name,L),$.destroy()}destroy(){m("Destroying agent %o",this.constructor.name)}}y.Agent=x,y.prototype=y.Agent.prototype})(g||(g={})),s.exports=g},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return function(u,l){return new Promise((p,d)=>{c.call(this,u,l,(m,f)=>{m?d(m):p(f)})})}}},370:function(s,a,c){"use strict";var u=this&&this.__awaiter||function($,L,R,X){return new(R||(R=Promise))(function(z,F){function M(V){try{C(X.next(V))}catch(B){F(B)}}function O(V){try{C(X.throw(V))}catch(B){F(B)}}function C(V){var B;V.done?z(V.value):(B=V.value,B instanceof R?B:new R(function(G){G(B)})).then(M,O)}C((X=X.apply($,L||[])).next())})},l=this&&this.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(c(808)),d=l(c(404)),m=l(c(310)),f=l(c(374)),g=l(c(46)),y=c(54),x=(0,f.default)("http-proxy-agent");class E extends y.Agent{constructor(L){let R;if(R=typeof L=="string"?m.default.parse(L):L,!R)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");x("Creating new HttpProxyAgent instance: %o",R),super(R);let X=Object.assign({},R);var z;this.secureProxy=R.secureProxy||typeof(z=X.protocol)=="string"&&/^https:?$/i.test(z),X.host=X.hostname||X.host,typeof X.port=="string"&&(X.port=parseInt(X.port,10)),!X.port&&X.host&&(X.port=this.secureProxy?443:80),X.host&&X.path&&(delete X.path,delete X.pathname),this.proxy=X}callback(L,R){return u(this,void 0,void 0,function*(){let{proxy:X,secureProxy:z}=this,F=m.default.parse(L.path),M;if(F.protocol||(F.protocol="http:"),F.hostname||(F.hostname=R.hostname||R.host||null),F.port==null&&(R.port,1)&&(F.port=String(R.port)),F.port==="80"&&(F.port=""),L.path=m.default.format(F),X.auth&&L.setHeader("Proxy-Authorization",`Basic ${Buffer.from(X.auth).toString("base64")}`),z?(x("Creating `tls.Socket`: %o",X),M=d.default.connect(X)):(x("Creating `net.Socket`: %o",X),M=p.default.connect(X)),L._header){let O,C;x("Regenerating stored HTTP header string for request"),L._header=null,L._implicitHeader(),L.output&&L.output.length>0?(x("Patching connection write() output buffer with updated header"),O=L.output[0],C=O.indexOf(`\r
\r
`)+4,L.output[0]=L._header+O.substring(C),x("Output buffer: %o",L.output)):L.outputData&&L.outputData.length>0&&(x("Patching connection write() output buffer with updated header"),O=L.outputData[0].data,C=O.indexOf(`\r
\r
`)+4,L.outputData[0].data=L._header+O.substring(C),x("Output buffer: %o",L.outputData[0].data))}return yield(0,g.default)(M,"connect"),M})}}a.default=E},201:function(s,a,c){"use strict";let u=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(c(370));function l(p){return new u.default(p)}(function(p){p.HttpProxyAgent=u.default,p.prototype=u.default.prototype})(l||(l={})),s.exports=l},146:function(s,a,c){"use strict";var u=this&&this.__awaiter||function(R,X,z,F){return new(z||(z=Promise))(function(M,O){function C(G){try{B(F.next(G))}catch(S){O(S)}}function V(G){try{B(F.throw(G))}catch(S){O(S)}}function B(G){var S;G.done?M(G.value):(S=G.value,S instanceof z?S:new z(function(T){T(S)})).then(C,V)}B((F=F.apply(R,X||[])).next())})},l=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(c(808)),d=l(c(404)),m=l(c(310)),f=l(c(491)),g=l(c(374)),y=c(54),x=l(c(829)),E=g.default("https-proxy-agent:agent");class $ extends y.Agent{constructor(X){let z;if(z=typeof X=="string"?m.default.parse(X):X,!z)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");E("creating new HttpsProxyAgent instance: %o",z),super(z);let F=Object.assign({},z);var M;this.secureProxy=z.secureProxy||typeof(M=F.protocol)=="string"&&/^https:?$/i.test(M),F.host=F.hostname||F.host,typeof F.port=="string"&&(F.port=parseInt(F.port,10)),!F.port&&F.host&&(F.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in F)&&(F.ALPNProtocols=["http 1.1"]),F.host&&F.path&&(delete F.path,delete F.pathname),this.proxy=F}callback(X,z){return u(this,void 0,void 0,function*(){let{proxy:F,secureProxy:M}=this,O;M?(E("Creating `tls.Socket`: %o",F),O=d.default.connect(F)):(E("Creating `net.Socket`: %o",F),O=p.default.connect(F));let C=Object.assign({},F.headers),V=`CONNECT ${z.host}:${z.port} HTTP/1.1\r
`;F.auth&&(C["Proxy-Authorization"]=`Basic ${Buffer.from(F.auth).toString("base64")}`);let{host:B,port:G,secureEndpoint:S}=z;(function(ne,Q){return!!(!Q&&ne===80||Q&&ne===443)})(G,S)||(B+=`:${G}`),C.Host=B,C.Connection="close";for(let ne of Object.keys(C))V+=`${ne}: ${C[ne]}\r
`;let T=x.default(O);O.write(`${V}\r
`);let{statusCode:J,buffered:K}=yield T;if(J===200){if(X.once("socket",L),z.secureEndpoint){E("Upgrading socket connection to TLS");let ne=z.servername||z.host;return d.default.connect(Object.assign(Object.assign({},function(Q,...pe){let Ae={},me;for(me in Q)pe.includes(me)||(Ae[me]=Q[me]);return Ae}(z,"host","hostname","path","port")),{socket:O,servername:ne}))}return O}O.destroy();let ee=new p.default.Socket({writable:!1});return ee.readable=!0,X.once("socket",ne=>{E("replaying proxy buffer for failed request"),f.default(ne.listenerCount("data")>0),ne.push(K),ne.push(null)}),ee})}}function L(R){R.resume()}a.default=$},18:function(s,a,c){"use strict";let u=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(c(146));function l(p){return new u.default(p)}(function(p){p.HttpsProxyAgent=u.default,p.prototype=u.default.prototype})(l||(l={})),s.exports=l},829:function(s,a,c){"use strict";var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=u(c(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((d,m)=>{let f=0,g=[];function y(){let $=p.read();$?function(L){g.push(L),f+=L.length;let R=Buffer.concat(g,f);if(R.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void y();let X=R.toString("ascii",0,R.indexOf(`\r
`)),z=+X.split(" ")[1];l("got proxy server response: %o",X),d({statusCode:z,buffered:R})}($):p.once("readable",y)}function x($){l("onclose had error %o",$)}function E(){l("onend")}p.on("error",function $(L){p.removeListener("end",E),p.removeListener("error",$),p.removeListener("close",x),p.removeListener("readable",y),l("onerror %o",L),m(L)}),p.on("close",x),p.on("end",E),y()})}},539:function(s,a,c){"use strict";var u,l=this&&this.__extends||(u=function(M,O){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,V){C.__proto__=V}||function(C,V){for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(C[B]=V[B])},u(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function C(){this.constructor=M}u(M,O),M.prototype=O===null?Object.create(O):(C.prototype=O.prototype,new C)}),p=this&&this.__assign||function(){return p=Object.assign||function(M){for(var O,C=1,V=arguments.length;C<V;C++)for(var B in O=arguments[C])Object.prototype.hasOwnProperty.call(O,B)&&(M[B]=O[B]);return M},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var d=c(685),m=c(687),f=c(310),g=c(472),y=c(796),x=c(201),E=c(18);if(process.env.VSCODE_NLS_CONFIG){var $=process.env.VSCODE_NLS_CONFIG;g.config(JSON.parse($))}var L=g.loadMessageBundle(),R=void 0,X=!0;function z(M){var O;return new Promise(function(C,V){var B=(0,f.parse)(M.url),G={hostname:B.hostname,agent:!!M.agent&&M.agent,port:B.port?parseInt(B.port):B.protocol==="https:"?443:80,path:B.path,method:M.type||"GET",headers:M.headers,rejectUnauthorized:typeof M.strictSSL!="boolean"||M.strictSSL};M.user&&M.password&&(G.auth=M.user+":"+M.password);var S=function(T){if(T.statusCode>=300&&T.statusCode<400&&M.followRedirects&&M.followRedirects>0&&T.headers.location){var J=T.headers.location;J.startsWith("/")&&(J=(0,f.format)({protocol:B.protocol,hostname:B.hostname,port:B.port,pathname:J})),C(z(function(K){for(var ee=[],ne=1;ne<arguments.length;ne++)ee[ne-1]=arguments[ne];return ee.forEach(function(Q){return Object.keys(Q).forEach(function(pe){return K[pe]=Q[pe]})}),K}({},M,{url:J,followRedirects:M.followRedirects-1})))}else C({req:O,res:T})};(O=B.protocol==="https:"?m.request(G,S):d.request(G,S)).on("error",V),M.timeout&&O.setTimeout(M.timeout),M.data&&O.write(M.data),O.end(),M.token&&(M.token.isCancellationRequested&&O.destroy(new F),M.token.onCancellationRequested(function(){O.destroy(new F)}))})}a.configure=function(M,O){R=M,X=O},a.xhr=function(M){return typeof(M=p({},M)).strictSSL!="boolean"&&(M.strictSSL=X),M.agent||(M.agent=function(O,C){C===void 0&&(C={});var V=(0,f.parse)(O),B=C.proxyUrl||function(T){return T.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:T.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(V);if(!B)return null;var G=(0,f.parse)(B);if(!/^https?:$/.test(G.protocol))return null;var S={host:G.hostname,port:Number(G.port),auth:G.auth,rejectUnauthorized:typeof C.strictSSL!="boolean"||C.strictSSL,protocol:G.protocol};return V.protocol==="http:"?x(S):E(S)}(M.url,{proxyUrl:R,strictSSL:X})),typeof M.followRedirects!="number"&&(M.followRedirects=5),z(M).then(function(O){return new Promise(function(C,V){var B,G,S=O.res,T=S,J=!1,K=S.headers&&S.headers["content-encoding"];if(K&&(B=M.type,G=O.res.statusCode,!(B==="HEAD"||G>=100&&G<200||G===204||G===304))){var ee={flush:y.constants.Z_SYNC_FLUSH,finishFlush:y.constants.Z_SYNC_FLUSH};if(K==="gzip"){var ne=y.createGunzip(ee);S.pipe(ne),T=ne}else if(K==="deflate"){var Q=y.createInflate(ee);S.pipe(Q),T=Q}}var pe=[];T.on("data",function(Ae){return pe.push(Ae)}),T.on("end",function(){if(!J){if(J=!0,M.followRedirects>0&&(S.statusCode>=300&&S.statusCode<=303||S.statusCode===307)){var Ae=S.headers.location;if(Ae.startsWith("/")){var me=(0,f.parse)(M.url);Ae=(0,f.format)({protocol:me.protocol,hostname:me.hostname,port:me.port,pathname:Ae})}if(Ae){var Ke={type:M.type,url:Ae,user:M.user,password:M.password,headers:M.headers,timeout:M.timeout,followRedirects:M.followRedirects-1,data:M.data,token:M.token};return void(0,a.xhr)(Ke).then(C,V)}}var ge=Buffer.concat(pe),Xt={responseText:ge.toString(),body:ge,status:S.statusCode,headers:S.headers||{}};S.statusCode>=200&&S.statusCode<300||S.statusCode===1223?C(Xt):V(Xt)}}),T.on("error",function(Ae){var me;me=F.is(Ae)?Ae:{responseText:L("error","Unable to access {0}. Error: {1}",M.url,Ae.message),body:Buffer.concat(pe),status:500,headers:{}},J=!0,V(me)}),M.token&&(M.token.isCancellationRequested&&T.destroy(new F),M.token.onCancellationRequested(function(){T.destroy(new F)}))})},function(O){var C;return C=F.is(O)?O:{responseText:M.agent?L("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",M.url,O.message):L("error.cannot.connect","Unable to connect to {0}. Error: {1}",M.url,O.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(C)})},a.getErrorStatusDescription=function(M){if(!(M<400))switch(M){case 400:return L("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return L("status.401","Unauthorized. The server is refusing to respond.");case 403:return L("status.403","Forbidden. The server is refusing to respond.");case 404:return L("status.404","Not Found. The requested location could not be found.");case 405:return L("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return L("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return L("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return L("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return L("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return L("status.410","Gone. The requested page is no longer available.");case 411:return L("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return L("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return L("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return L("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return L("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return L("status.500","Internal Server Error.");case 501:return L("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return L("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return L("status.416","HTTP status code {0}",M)}};var F=function(M){function O(){var C=M.call(this,"The user aborted a request")||this;return C.name="AbortError",Object.setPrototypeOf(C,O.prototype),C}return l(O,M),O.is=function(C){return C instanceof O},O}(Error)},800:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var u,l,p,d=c(926);function m(g){return g!==void 0}function f(g,y){return a.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),y.length===0?g:g.replace(/\{(\d+)\}/g,function(x,E){var $=E[0],L=y[$],R=x;return typeof L=="string"?R=L:typeof L!="number"&&typeof L!="boolean"&&L!=null||(R=String(L)),R})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(g){g.is=function(y){var x=y;return x&&m(x.key)&&m(x.comment)}}(u||(u={})),a.isDefined=m,a.isPseudo=!1,a.setPseudo=function(g){a.isPseudo=g},a.format=f,a.localize=function(g,y){for(var x=[],E=2;E<arguments.length;E++)x[E-2]=arguments[E];return f(y,x)},a.loadMessageBundle=function(g){return(0,d.default)().loadMessageBundle(g)},a.config=function(g){return(0,d.default)().config(g)}},926:(s,a)=>{"use strict";var c;function u(){if(c===void 0)throw new Error("No runtime abstraction layer installed");return c}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");c=p}}(u||(u={})),a.default=u},472:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var u=c(17),l=c(147),p=c(926),d=c(800),m=c(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return m.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return m.BundleFormat}});var f,g,y=Object.prototype.toString;function x(O){return y.call(O)==="[object Number]"}function E(O){return y.call(O)==="[object String]"}function $(O){return JSON.parse(l.readFileSync(O,"utf8"))}function L(O){return function(C,V){for(var B=[],G=2;G<arguments.length;G++)B[G-2]=arguments[G];return x(C)?C>=O.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,d.format)(O[C],B):E(V)?(console.warn("Message ".concat(V," didn't get externalized correctly.")),(0,d.format)(V,B)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function R(O,C){return f[O]=C,C}function X(O){try{return function(C){var V=$(u.join(C,"nls.metadata.json")),B=Object.create(null);for(var G in V){var S=V[G];B[G]=S.messages}return B}(O)}catch(C){return void console.log("Generating default bundle from meta data failed.",C)}}function z(O,C){var V;if(g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0)try{V=function(G,S){var T,J,K,ee=u.join(g.cacheRoot,"".concat(G.id,"-").concat(G.hash,".json")),ne=!1,Q=!1;try{return T=JSON.parse(l.readFileSync(ee,{encoding:"utf8",flag:"r"})),J=ee,K=new Date,l.utimes(J,K,K,function(){}),T}catch(pe){if(pe.code==="ENOENT")Q=!0;else{if(!(pe instanceof SyntaxError))throw pe;console.log("Syntax error parsing message bundle: ".concat(pe.message,".")),l.unlink(ee,function(Ae){Ae&&console.error("Deleting corrupted bundle ".concat(ee," failed."))}),ne=!0}}if(T=function(pe,Ae){var me=g.translationsConfig[pe.id];if(me){var Ke=$(me).contents,ge=$(u.join(Ae,"nls.metadata.json")),Xt=Object.create(null);for(var Xe in ge){var ie=ge[Xe],Le=Ke["".concat(pe.outDir,"/").concat(Xe)];if(Le){for(var te=[],ve=0;ve<ie.keys.length;ve++){var Ue=ie.keys[ve],Ht=Le[E(Ue)?Ue:Ue.key];Ht===void 0&&(Ht=ie.messages[ve]),te.push(Ht)}Xt[Xe]=te}else Xt[Xe]=ie.messages}return Xt}}(G,S),!T||ne)return T;if(Q)try{l.writeFileSync(ee,JSON.stringify(T),{encoding:"utf8",flag:"wx"})}catch(pe){if(pe.code==="EEXIST")return T;throw pe}return T}(O,C)}catch(G){console.log("Load or create bundle failed ",G)}if(!V){if(g.languagePackSupport)return X(C);var B=function(G){for(var S=g.language;S;){var T=u.join(G,"nls.bundle.".concat(S,".json"));if(l.existsSync(T))return T;var J=S.lastIndexOf("-");S=J>0?S.substring(0,J):void 0}if(S===void 0&&(T=u.join(G,"nls.bundle.json"),l.existsSync(T)))return T}(C);if(B)try{return $(B)}catch(G){console.log("Loading in the box message bundle failed.",G)}V=X(C)}return V}function F(O){if(!O)return d.localize;var C=u.extname(O);if(C&&(O=O.substr(0,O.length-C.length)),g.messageFormat===d.MessageFormat.both||g.messageFormat===d.MessageFormat.bundle){var V=function(ne){for(var Q,pe=u.dirname(ne);Q=u.join(pe,"nls.metadata.header.json"),!l.existsSync(Q);){var Ae=u.dirname(pe);if(Ae===pe){Q=void 0;break}pe=Ae}return Q}(O);if(V){var B=u.dirname(V),G=f[B];if(G===void 0)try{var S=JSON.parse(l.readFileSync(V,"utf8"));try{var T=z(S,B);G=R(B,T?{header:S,nlsBundle:T}:null)}catch(ne){console.error("Failed to load nls bundle",ne),G=R(B,null)}}catch(ne){console.error("Failed to read header file",ne),G=R(B,null)}if(G){var J=O.substr(B.length+1).replace(/\\/g,"/"),K=G.nlsBundle[J];return K===void 0?(console.error("Messages for file ".concat(O," not found. See console for details.")),function(){return"Messages not found."}):L(K)}}}if(g.messageFormat===d.MessageFormat.both||g.messageFormat===d.MessageFormat.file)try{var ee=$(function(ne){var Q;if(!(g.cacheLanguageResolution&&Q)){if(d.isPseudo||!g.language)Q=".nls.json";else for(var pe=g.language;pe;){var Ae=".nls."+pe+".json";if(l.existsSync(ne+Ae)){Q=Ae;break}var me=pe.lastIndexOf("-");me>0?pe=pe.substring(0,me):(Q=".nls.json",pe=null)}g.cacheLanguageResolution}return ne+Q}(O));return Array.isArray(ee)?L(ee):(0,d.isDefined)(ee.messages)&&(0,d.isDefined)(ee.keys)?L(ee.messages):(console.error("String bundle '".concat(O,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(ne){ne.code!=="ENOENT"&&console.error("Failed to load single file bundle",ne)}return console.error("Failed to load message bundle for file ".concat(O)),function(){return"Failed to load message bundle. See console for details."}}function M(O){return O&&(E(O.locale)&&(g.locale=O.locale.toLowerCase(),g.language=g.locale,f=Object.create(null)),O.messageFormat!==void 0&&(g.messageFormat=O.messageFormat),O.bundleFormat===d.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,d.setPseudo)(g.locale==="pseudo"),F}(function(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:d.MessageFormat.bundle},E(process.env.VSCODE_NLS_CONFIG))try{var O=JSON.parse(process.env.VSCODE_NLS_CONFIG),C=void 0;if(O.availableLanguages){var V=O.availableLanguages["*"];E(V)&&(C=V)}if(E(O.locale)&&(g.locale=O.locale.toLowerCase()),C===void 0?g.language=g.locale:C!=="en"&&(g.language=C),function(G){return G===!0||G===!1}(O._languagePackSupport)&&(g.languagePackSupport=O._languagePackSupport),E(O._cacheRoot)&&(g.cacheRoot=O._cacheRoot),E(O._languagePackId)&&(g.languagePackId=O._languagePackId),E(O._translationsConfigFile)){g.translationsConfigFile=O._translationsConfigFile;try{g.translationsConfig=$(g.translationsConfigFile)}catch{if(O._corruptedFile){var B=u.dirname(O._corruptedFile);l.exists(B,function(S){S&&l.writeFile(O._corruptedFile,"corrupted","utf8",function(T){console.error(T)})})}}}}catch{}(0,d.setPseudo)(g.locale==="pseudo"),f=Object.create(null)})(),a.loadMessageBundle=F,a.config=M,p.default.install(Object.freeze({loadMessageBundle:F,config:M}))},374:(s,a)=>{function c(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return c}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},r={},n=function s(a){var c=r[a];if(c!==void 0)return c.exports;var u=r[a]={exports:{}};return e[a].call(u.exports,u,u.exports,s),u.exports}(539),i=t;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}}),g$={};h7(g$,{config:()=>x7,t:()=>H$});y$.exports=g7(g$);var y7=require("fs"),v7=require("fs/promises"),d$=m7(H7());async function b7(t){if(t.protocol==="file:")return await(0,v7.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,d$.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,d$.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function w7(t){return(0,y7.readFileSync)(t,"utf8")}var Bf;function x7(t){if("contents"in t){typeof t.contents=="string"?Bf=JSON.parse(t.contents):Bf=t.contents;return}if("fsPath"in t){let e=w7(t.fsPath),r=JSON.parse(e);Bf=f$(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,n)=>{let i=b7(e).then(o=>{try{let s=JSON.parse(o);Bf=f$(s)?s.contents.bundle:s}catch(s){n(s)}}).catch(o=>{n(o)});r(i)})}}function H$(...t){let e=t[0],r,n,i;if(typeof e=="string")r=e,n=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0];else if(e instanceof Array){let s=t.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return H$(a,...s)}else n=e.message,r=n,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=Bf?.[r];return o?typeof o=="string"?eH(o,i):o.comment?eH(o.message,i):eH(n,i):eH(n,i)}var _7=/{([^}]+)}/g;function eH(t,e){return t.replace(_7,(r,n)=>e[n]??r)}function f$(t){return typeof t?.contents?.bundle=="object"&&typeof t?.version=="string"}});var Qo=v(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.findWindowsCandidates=Lr.sort=Lr.preferredEdgePath=Lr.preferredFirefoxPath=Lr.preferredChromePath=Lr.escapeRegexSpecialChars=Lr.canAccess=void 0;var $7=require("path");async function Wf({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}Lr.canAccess=Wf;var k7="/\\.?*()^${}|[]+";function R7(t,e){let r=k7.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}Lr.escapeRegexSpecialChars=R7;async function M7(t,e){if(await Wf(t,e.CHROME_PATH))return e.CHROME_PATH}Lr.preferredChromePath=M7;async function O7(t,e){if(await Wf(t,e.FIREFOX_PATH))return e.FIREFOX_PATH}Lr.preferredFirefoxPath=O7;async function F7(t,e){if(await Wf(t,e.EDGE_PATH))return e.EDGE_PATH}Lr.preferredEdgePath=F7;function B7(t,e){return[...t].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}Lr.sort=B7;async function N7(t,e,r){let n=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of r){let a=$7.win32.join(o,s.name);i.push(Wf(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}Lr.findWindowsCandidates=N7});var hH=v(fH=>{"use strict";Object.defineProperty(fH,"__esModule",{value:!0});fH.DarwinFinderBase=void 0;var j7=require("path"),U7=require("fs"),q0=Qo(),D$=/( \(0x[a-f0-9]+\))/,W0=class{constructor(e=process.env,r=U7.promises,n=n){this.env=e,this.fs=r,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,q0.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${D$.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...r,...i.split(`
`).map(c=>c.trim().replace(D$,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=j7.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,q0.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${r}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,q0.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};fH.DarwinFinderBase=W0});var C$=v(mH=>{"use strict";Object.defineProperty(mH,"__esModule",{value:!0});mH.DarwinChromeBrowserFinder=void 0;var q7=Qo(),W7=hH(),V0=class extends W7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,q7.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};mH.DarwinChromeBrowserFinder=V0});var P$=v(gH=>{"use strict";Object.defineProperty(gH,"__esModule",{value:!0});gH.DarwinEdgeBrowserFinder=void 0;var V7=Qo(),G7=hH(),G0=class extends G7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,V7.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};gH.DarwinEdgeBrowserFinder=G0});var T$=v(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.DarwinFirefoxBrowserFinder=void 0;var z7=Qo(),K7=hH(),z0=class extends K7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],r=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",r,e);return(0,z7.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};HH.DarwinFirefoxBrowserFinder=z0});var vH=v(yH=>{"use strict";Object.defineProperty(yH,"__esModule",{value:!0});yH.LinuxChromeBrowserFinder=void 0;var X7=require("path"),ol=Qo(),K0=require("child_process"),J7=require("os"),Y7=require("fs"),L$=/\r?\n/,X0=class{constructor(e=process.env,r=Y7.promises){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,ol.canAccess)(this.fs,r)&&e.add(r),[X7.posix.join((0,J7.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,K0.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(L$)[0];await(0,ol.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=r?[{regex:new RegExp((0,ol.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,ol.sort)(e,o)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,ol.canAccess)(this.fs,e)){let o;try{o=(0,K0.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,K0.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(L$).map(a=>a.replace(r,"$1"));await Promise.all(s.map(async a=>{await(0,ol.canAccess)(this.fs,a)&&i.push(a)}))}return i}};yH.LinuxChromeBrowserFinder=X0});var $$=v(bH=>{"use strict";Object.defineProperty(bH,"__esModule",{value:!0});bH.LinuxEdgeBrowserFinder=void 0;var Q7=vH(),J0=class extends Q7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};bH.LinuxEdgeBrowserFinder=J0});var k$=v(wH=>{"use strict";Object.defineProperty(wH,"__esModule",{value:!0});wH.LinuxFirefoxBrowserFinder=void 0;var Z7=vH(),Y0=class extends Z7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};wH.LinuxFirefoxBrowserFinder=Y0});var M$=v(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.WindowsChromeBrowserFinder=void 0;var eJ=require("path"),R$=Qo(),tJ=require("fs"),Q0=class{constructor(e=process.env,r=tJ.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=eJ.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,R$.findWindowsCandidates)(this.env,this.fs,r),i=await(0,R$.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};xH.WindowsChromeBrowserFinder=Q0});var F$=v(_H=>{"use strict";Object.defineProperty(_H,"__esModule",{value:!0});_H.WindowsEdgeBrowserFinder=void 0;var $r=require("path"),rJ=require("fs"),O$=Qo(),Z0=class{constructor(e=process.env,r=rJ.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${$r.sep}Microsoft${$r.sep}Edge SxS${$r.sep}Application${$r.sep}msedge.exe`,type:"canary"},{name:`${$r.sep}Microsoft${$r.sep}Edge Dev${$r.sep}Application${$r.sep}msedge.exe`,type:"dev"},{name:`${$r.sep}Microsoft${$r.sep}Edge Beta${$r.sep}Application${$r.sep}msedge.exe`,type:"beta"},{name:`${$r.sep}Microsoft${$r.sep}Edge${$r.sep}Application${$r.sep}msedge.exe`,type:"stable"}],r=await(0,O$.findWindowsCandidates)(this.env,this.fs,e),n=await(0,O$.preferredEdgePath)(this.fs,this.env);return n&&r.unshift({path:n,quality:"custom"}),r}};_H.WindowsEdgeBrowserFinder=Z0});var N$=v(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.WindowsFirefoxBrowserFinder=void 0;var nJ=require("path"),B$=Qo(),iJ=require("fs"),eA=class{constructor(e=process.env,r=iJ.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=nJ.win32.sep,r=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,B$.findWindowsCandidates)(this.env,this.fs,r),i=await(0,B$.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};AH.WindowsFirefoxBrowserFinder=eA});var tA=v(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.FirefoxBrowserFinder=bn.EdgeBrowserFinder=bn.ChromeBrowserFinder=bn.isQuality=bn.allQualities=void 0;var oJ=C$(),sJ=P$(),aJ=T$(),cJ=vH(),uJ=$$(),lJ=k$(),pJ=M$(),dJ=F$(),fJ=N$(),hJ={canary:null,stable:null,beta:null,dev:null,custom:null};bn.allQualities=new Set(Object.keys(hJ));var mJ=t=>bn.allQualities.has(t);bn.isQuality=mJ;bn.ChromeBrowserFinder=process.platform==="win32"?pJ.WindowsChromeBrowserFinder:process.platform==="darwin"?oJ.DarwinChromeBrowserFinder:cJ.LinuxChromeBrowserFinder;bn.EdgeBrowserFinder=process.platform==="win32"?dJ.WindowsEdgeBrowserFinder:process.platform==="darwin"?sJ.DarwinEdgeBrowserFinder:uJ.LinuxEdgeBrowserFinder;bn.FirefoxBrowserFinder=process.platform==="win32"?fJ.WindowsFirefoxBrowserFinder:process.platform==="darwin"?aJ.DarwinFirefoxBrowserFinder:lJ.LinuxFirefoxBrowserFinder});var V$=v((qAe,W$)=>{W$.exports=q$;q$.sync=HJ;var j$=require("fs");function gJ(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function U$(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:gJ(e,r)}function q$(t,e,r){j$.stat(t,function(n,i){r(n,n?!1:U$(i,t,e))})}function HJ(t,e){return U$(j$.statSync(t),t,e)}});var J$=v((WAe,X$)=>{X$.exports=z$;z$.sync=yJ;var G$=require("fs");function z$(t,e,r){G$.stat(t,function(n,i){r(n,n?!1:K$(i,e))})}function yJ(t,e){return K$(G$.statSync(t),e)}function K$(t,e){return t.isFile()&&vJ(t,e)}function vJ(t,e){var r=t.mode,n=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,p=r&u||r&c&&i===s||r&a&&n===o||r&l&&o===0;return p}});var nA=v((GAe,Y$)=>{var VAe=require("fs"),IH;process.platform==="win32"||global.TESTING_WINDOWS?IH=V$():IH=J$();Y$.exports=rA;rA.sync=bJ;function rA(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){rA(t,e||{},function(o,s){o?i(o):n(s)})})}IH(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function bJ(t,e){try{return IH.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ik=v((zAe,nk)=>{var sl=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Q$=require("path"),wJ=sl?";":":",Z$=nA(),ek=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),tk=(t,e)=>{let r=e.colon||wJ,n=t.match(/\//)||sl&&t.match(/\\/)?[""]:[...sl?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=sl?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=sl?i.split(r):[""];return sl&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},rk=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=tk(t,e),s=[],a=u=>new Promise((l,p)=>{if(u===n.length)return e.all&&s.length?l(s):p(ek(t));let d=n[u],m=/^".*"$/.test(d)?d.slice(1,-1):d,f=Q$.join(m,t),g=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;l(c(g,u,0))}),c=(u,l,p)=>new Promise((d,m)=>{if(p===i.length)return d(a(l+1));let f=i[p];Z$(u+f,{pathExt:o},(g,y)=>{if(!g&&y)if(e.all)s.push(u+f);else return d(u+f);return d(c(u,l,p+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},xJ=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=tk(t,e),o=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=Q$.join(c,t),l=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+u:u;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(Z$.sync(d,{pathExt:i}))if(e.all)o.push(d);else return d}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw ek(t)};nk.exports=rk;rk.sync=xJ});var sk=v((KAe,iA)=>{"use strict";var ok=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};iA.exports=ok;iA.exports.default=ok});var lk=v((XAe,uk)=>{"use strict";var ak=require("path"),_J=ik(),AJ=sk();function ck(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=_J.sync(t.command,{path:r[AJ({env:r})],pathExt:e?ak.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=ak.resolve(i?t.options.cwd:"",s)),s}function IJ(t){return ck(t)||ck(t,!0)}uk.exports=IJ});var pk=v((JAe,sA)=>{"use strict";var oA=/([()\][%!^"`<>&|;, *?])/g;function SJ(t){return t=t.replace(oA,"^$1"),t}function EJ(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(oA,"^$1"),e&&(t=t.replace(oA,"^$1")),t}sA.exports.command=SJ;sA.exports.argument=EJ});var fk=v((YAe,dk)=>{"use strict";dk.exports=/^#!(.*)/});var mk=v((QAe,hk)=>{"use strict";var DJ=fk();hk.exports=(t="")=>{let e=t.match(DJ);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Hk=v((ZAe,gk)=>{"use strict";var aA=require("fs"),CJ=mk();function PJ(t){let r=Buffer.alloc(150),n;try{n=aA.openSync(t,"r"),aA.readSync(n,r,0,150,0),aA.closeSync(n)}catch{}return CJ(r.toString())}gk.exports=PJ});var wk=v((eIe,bk)=>{"use strict";var TJ=require("path"),yk=lk(),vk=pk(),LJ=Hk(),$J=process.platform==="win32",kJ=/\.(?:com|exe)$/i,RJ=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function MJ(t){t.file=yk(t);let e=t.file&&LJ(t.file);return e?(t.args.unshift(t.file),t.command=e,yk(t)):t.file}function OJ(t){if(!$J)return t;let e=MJ(t),r=!kJ.test(e);if(t.options.forceShell||r){let n=RJ.test(e);t.command=TJ.normalize(t.command),t.command=vk.command(t.command),t.args=t.args.map(o=>vk.argument(o,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function FJ(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:OJ(n)}bk.exports=FJ});var Ak=v((tIe,_k)=>{"use strict";var cA=process.platform==="win32";function uA(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function BJ(t,e){if(!cA)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let o=xk(i,e,"spawn");if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function xk(t,e){return cA&&t===1&&!e.file?uA(e.original,"spawn"):null}function NJ(t,e){return cA&&t===1&&!e.file?uA(e.original,"spawnSync"):null}_k.exports={hookChildProcess:BJ,verifyENOENT:xk,verifyENOENTSync:NJ,notFoundError:uA}});var Ek=v((rIe,al)=>{"use strict";var Ik=require("child_process"),lA=wk(),pA=Ak();function Sk(t,e,r){let n=lA(t,e,r),i=Ik.spawn(n.command,n.args,n.options);return pA.hookChildProcess(i,n),i}function jJ(t,e,r){let n=lA(t,e,r),i=Ik.spawnSync(n.command,n.args,n.options);return i.error=i.error||pA.verifyENOENTSync(i.status,n),i}al.exports=Sk;al.exports.spawn=Sk;al.exports.sync=jJ;al.exports._parse=lA;al.exports._enoent=pA});var Ck=v((nIe,Dk)=>{"use strict";Dk.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var Tk=v((iIe,dA)=>{"use strict";var Pk=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};dA.exports=Pk;dA.exports.default=Pk});var kk=v((oIe,Gf)=>{"use strict";var Vf=require("path"),Lk=Tk(),$k=t=>{t={cwd:process.cwd(),path:process.env[Lk()],execPath:process.execPath,...t};let e,r=Vf.resolve(t.cwd),n=[];for(;e!==r;)n.push(Vf.join(r,"node_modules/.bin")),e=r,r=Vf.resolve(r,"..");let i=Vf.resolve(t.cwd,t.execPath,"..");return n.push(i),n.concat(t.path).join(Vf.delimiter)};Gf.exports=$k;Gf.exports.default=$k;Gf.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=Lk({env:e});return t.path=e[r],e[r]=Gf.exports(t),e}});var Mk=v((sIe,fA)=>{"use strict";var Rk=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};fA.exports=Rk;fA.exports.default=Rk});var Fk=v((aIe,EH)=>{"use strict";var UJ=Mk(),SH=new WeakMap,Ok=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(SH.set(o,++n),n===1)r=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return UJ(o,t),SH.set(o,n),o};EH.exports=Ok;EH.exports.default=Ok;EH.exports.callCount=t=>{if(!SH.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return SH.get(t)}});var Bk=v(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});DH.SIGNALS=void 0;var qJ=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];DH.SIGNALS=qJ});var hA=v(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.SIGRTMAX=cl.getRealtimeSignals=void 0;var WJ=function(){let t=jk-Nk+1;return Array.from({length:t},VJ)};cl.getRealtimeSignals=WJ;var VJ=function(t,e){return{name:`SIGRT${e+1}`,number:Nk+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Nk=34,jk=64;cl.SIGRTMAX=jk});var Uk=v(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0});CH.getSignals=void 0;var GJ=require("os"),zJ=Bk(),KJ=hA(),XJ=function(){let t=(0,KJ.getRealtimeSignals)();return[...zJ.SIGNALS,...t].map(JJ)};CH.getSignals=XJ;var JJ=function({name:t,number:e,description:r,action:n,forced:i=!1,standard:o}){let{signals:{[t]:s}}=GJ.constants,a=s!==void 0;return{name:t,number:a?s:e,description:r,supported:a,action:n,forced:i,standard:o}}});var Wk=v(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.signalsByNumber=ul.signalsByName=void 0;var YJ=require("os"),qk=Uk(),QJ=hA(),ZJ=function(){return(0,qk.getSignals)().reduce(eY,{})},eY=function(t,{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}){return{...t,[e]:{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}}},tY=ZJ();ul.signalsByName=tY;var rY=function(){let t=(0,qk.getSignals)(),e=QJ.SIGRTMAX+1,r=Array.from({length:e},(n,i)=>nY(i,t));return Object.assign({},...r)},nY=function(t,e){let r=iY(t,e);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=r;return{[t]:{name:n,number:t,description:i,supported:o,action:s,forced:a,standard:c}}},iY=function(t,e){let r=e.find(({name:n})=>YJ.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},oY=rY();ul.signalsByNumber=oY});var Gk=v((dIe,Vk)=>{"use strict";var{signalsByName:sY}=Wk(),aY=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",cY=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:p}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:sY[i].description,m=n&&n.code,g=`Command ${aY({timedOut:c,timeout:p,errorCode:m,signal:i,signalDescription:d,exitCode:o,isCanceled:u})}: ${s}`,y=Object.prototype.toString.call(n)==="[object Error]",x=y?`${g}
${n.message}`:g,E=[x,e,t].filter(Boolean).join(`
`);return y?(n.originalMessage=n.message,n.message=E):n=new Error(E),n.shortMessage=x,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n};Vk.exports=cY});var Kk=v((fIe,mA)=>{"use strict";var PH=["stdin","stdout","stderr"],uY=t=>PH.some(e=>t[e]!==void 0),zk=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return PH.map(n=>t[n]);if(uY(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${PH.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,PH.length);return Array.from({length:r},(n,i)=>e[i])};mA.exports=zk;mA.exports.node=t=>{let e=zk(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Xk=v((hIe,TH)=>{TH.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&TH.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&TH.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Qk=v((mIe,Xf)=>{var lY=require("assert"),zf=Xk(),pY=/^win/i.test(process.platform),LH=require("events");typeof LH!="function"&&(LH=LH.EventEmitter);var vr;process.__signal_exit_emitter__?vr=process.__signal_exit_emitter__:(vr=process.__signal_exit_emitter__=new LH,vr.count=0,vr.emitted={});vr.infinite||(vr.setMaxListeners(1/0),vr.infinite=!0);Xf.exports=function(t,e){lY.equal(typeof t,"function","a callback must be provided for exit handler"),Kf===!1&&Jk();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){vr.removeListener(r,t),vr.listeners("exit").length===0&&vr.listeners("afterexit").length===0&&HA()};return vr.on(r,t),n};Xf.exports.unload=HA;function HA(){Kf&&(Kf=!1,zf.forEach(function(t){try{process.removeListener(t,yA[t])}catch{}}),process.emit=gA,process.reallyExit=Yk,vr.count-=1)}function ll(t,e,r){vr.emitted[t]||(vr.emitted[t]=!0,vr.emit(t,e,r))}var yA={};zf.forEach(function(t){yA[t]=function(){var r=process.listeners(t);r.length===vr.count&&(HA(),ll("exit",null,t),ll("afterexit",null,t),pY&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});Xf.exports.signals=function(){return zf};Xf.exports.load=Jk;var Kf=!1;function Jk(){Kf||(Kf=!0,vr.count+=1,zf=zf.filter(function(t){try{return process.on(t,yA[t]),!0}catch{return!1}}),process.emit=fY,process.reallyExit=dY)}var Yk=process.reallyExit;function dY(t){process.exitCode=t||0,ll("exit",process.exitCode,null),ll("afterexit",process.exitCode,null),Yk.call(process,process.exitCode)}var gA=process.emit;function fY(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=gA.apply(this,arguments);return ll("exit",process.exitCode,null),ll("afterexit",process.exitCode,null),r}else return gA.apply(this,arguments)}});var eR=v((gIe,Zk)=>{"use strict";var hY=require("os"),mY=Qk(),gY=1e3*5,HY=(t,e="SIGTERM",r={})=>{let n=t(e);return yY(t,e,r,n),n},yY=(t,e,r,n)=>{if(!vY(e,r,n))return;let i=wY(r),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},vY=(t,{forceKillAfterTimeout:e},r)=>bY(t)&&e!==!1&&r,bY=t=>t===hY.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",wY=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return gY;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},xY=(t,e)=>{t.kill()&&(e.isCanceled=!0)},_Y=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},AY=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,c)=>{i=setTimeout(()=>{_Y(t,r,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},IY=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},SY=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=mY(()=>{t.kill()});return n.finally(()=>{i()})};Zk.exports={spawnedKill:HY,spawnedCancel:xY,setupTimeout:AY,validateTimeout:IY,setExitHandler:SY}});var rR=v((HIe,tR)=>{"use strict";var zi=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";zi.writable=t=>zi(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";zi.readable=t=>zi(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";zi.duplex=t=>zi.writable(t)&&zi.readable(t);zi.transform=t=>zi.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";tR.exports=zi});var iR=v((yIe,nR)=>{"use strict";var{PassThrough:EY}=require("stream");nR.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new EY({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var oR=v((vIe,Jf)=>{"use strict";var{constants:DY}=require("buffer"),CY=require("stream"),{promisify:PY}=require("util"),TY=iR(),LY=PY(CY.pipeline),$H=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function vA(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=TY(e);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=DY.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await LY(t,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new $H)})}),n.getBufferedValue()}Jf.exports=vA;Jf.exports.buffer=(t,e)=>vA(t,{...e,encoding:"buffer"});Jf.exports.array=(t,e)=>vA(t,{...e,array:!0});Jf.exports.MaxBufferError=$H});var aR=v((bIe,sR)=>{"use strict";var{PassThrough:$Y}=require("stream");sR.exports=function(){var t=[],e=new $Y({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var pR=v((wIe,lR)=>{"use strict";var uR=rR(),cR=oR(),kY=aR(),RY=(t,e)=>{e===void 0||t.stdin===void 0||(uR(e)?e.pipe(t.stdin):t.stdin.end(e))},MY=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=kY();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},bA=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},wA=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?cR(t,{encoding:e,maxBuffer:n}):cR.buffer(t,{maxBuffer:n})},OY=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=wA(t,{encoding:n,buffer:i,maxBuffer:o}),c=wA(e,{encoding:n,buffer:i,maxBuffer:o}),u=wA(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},bA(t,a),bA(e,c),bA(r,u)])}},FY=({input:t})=>{if(uR(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};lR.exports={handleInput:RY,makeAllStream:MY,getSpawnedResult:OY,validateInputSync:FY}});var fR=v((xIe,dR)=>{"use strict";var BY=(async()=>{})().constructor.prototype,NY=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(BY,t)]),jY=(t,e)=>{for(let[r,n]of NY){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}return t},UY=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});dR.exports={mergePromise:jY,getSpawnedPromise:UY}});var gR=v((_Ie,mR)=>{"use strict";var hR=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],qY=/^[\w.-]+$/,WY=/"/g,VY=t=>typeof t!="string"||qY.test(t)?t:`"${t.replace(WY,'\\"')}"`,GY=(t,e)=>hR(t,e).join(" "),zY=(t,e)=>hR(t,e).map(r=>VY(r)).join(" "),KY=/ +/g,XY=t=>{let e=[];for(let r of t.trim().split(KY)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${r}`:e.push(r)}return e};mR.exports={joinCommand:GY,getEscapedCommand:zY,parseCommand:XY}});var _A=v((AIe,pl)=>{"use strict";var JY=require("path"),xA=require("child_process"),YY=Ek(),QY=Ck(),ZY=kk(),eQ=Fk(),kH=Gk(),yR=Kk(),{spawnedKill:tQ,spawnedCancel:rQ,setupTimeout:nQ,validateTimeout:iQ,setExitHandler:oQ}=eR(),{handleInput:sQ,getSpawnedResult:aQ,makeAllStream:cQ,validateInputSync:uQ}=pR(),{mergePromise:HR,getSpawnedPromise:lQ}=fR(),{joinCommand:vR,parseCommand:bR,getEscapedCommand:wR}=gR(),pQ=1e3*1e3*100,dQ=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let o=e?{...process.env,...t}:t;return r?ZY.env({env:o,cwd:n,execPath:i}):o},xR=(t,e,r={})=>{let n=YY._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:pQ,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=dQ(r),r.stdio=yR(r),process.platform==="win32"&&JY.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},Yf=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?QY(e):e,RH=(t,e,r)=>{let n=xR(t,e,r),i=vR(t,e),o=wR(t,e);iQ(n.options);let s;try{s=xA.spawn(n.file,n.args,n.options)}catch(m){let f=new xA.ChildProcess,g=Promise.reject(kH({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return HR(f,g)}let a=lQ(s),c=nQ(s,n.options,a),u=oQ(s,n.options,c),l={isCanceled:!1};s.kill=tQ.bind(null,s.kill.bind(s)),s.cancel=rQ.bind(null,s,l);let d=eQ(async()=>{let[{error:m,exitCode:f,signal:g,timedOut:y},x,E,$]=await aQ(s,n.options,u),L=Yf(n.options,x),R=Yf(n.options,E),X=Yf(n.options,$);if(m||f!==0||g!==null){let z=kH({error:m,exitCode:f,signal:g,stdout:L,stderr:R,all:X,command:i,escapedCommand:o,parsed:n,timedOut:y,isCanceled:l.isCanceled,killed:s.killed});if(!n.options.reject)return z;throw z}return{command:i,escapedCommand:o,exitCode:0,stdout:L,stderr:R,all:X,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return sQ(s,n.options.input),s.all=cQ(s,n.options),HR(s,d)};pl.exports=RH;pl.exports.sync=(t,e,r)=>{let n=xR(t,e,r),i=vR(t,e),o=wR(t,e);uQ(n.options);let s;try{s=xA.spawnSync(n.file,n.args,n.options)}catch(u){throw kH({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=Yf(n.options,s.stdout,s.error),c=Yf(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let u=kH({stdout:a,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};pl.exports.command=(t,e)=>{let[r,...n]=bR(t);return RH(r,n,e)};pl.exports.commandSync=(t,e)=>{let[r,...n]=bR(t);return RH.sync(r,n,e)};pl.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let n=yR.node(r),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=r;return RH(o,[...s,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Bt=v($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.NON_CUSTOM_TAG_KEYS=$e.PRE_DESTROY=$e.POST_CONSTRUCT=$e.DESIGN_PARAM_TYPES=$e.PARAM_TYPES=$e.TAGGED_PROP=$e.TAGGED=$e.MULTI_INJECT_TAG=$e.INJECT_TAG=$e.OPTIONAL_TAG=$e.UNMANAGED_TAG=$e.NAME_TAG=$e.NAMED_TAG=void 0;$e.NAMED_TAG="named";$e.NAME_TAG="name";$e.UNMANAGED_TAG="unmanaged";$e.OPTIONAL_TAG="optional";$e.INJECT_TAG="inject";$e.MULTI_INJECT_TAG="multi_inject";$e.TAGGED="inversify:tagged";$e.TAGGED_PROP="inversify:tagged_props";$e.PARAM_TYPES="inversify:paramtypes";$e.DESIGN_PARAM_TYPES="design:paramtypes";$e.POST_CONSTRUCT="post_construct";$e.PRE_DESTROY="pre_destroy";function fQ(){return[$e.INJECT_TAG,$e.MULTI_INJECT_TAG,$e.NAME_TAG,$e.UNMANAGED_TAG,$e.NAMED_TAG,$e.OPTIONAL_TAG]}$e.NON_CUSTOM_TAG_KEYS=fQ()});var bi=v(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.TargetTypeEnum=Js.BindingTypeEnum=Js.BindingScopeEnum=void 0;var hQ={Request:"Request",Singleton:"Singleton",Transient:"Transient"};Js.BindingScopeEnum=hQ;var mQ={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};Js.BindingTypeEnum=mQ;var gQ={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};Js.TargetTypeEnum=gQ});var Ys=v(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.id=void 0;var HQ=0;function yQ(){return HQ++}MH.id=yQ});var AR=v(OH=>{"use strict";Object.defineProperty(OH,"__esModule",{value:!0});OH.Binding=void 0;var _R=bi(),vQ=Ys(),bQ=function(){function t(e,r){this.id=(0,vQ.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=_R.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===_R.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();OH.Binding=bQ});var kr=v(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.STACK_OVERFLOW=ue.CIRCULAR_DEPENDENCY_IN_FACTORY=ue.ON_DEACTIVATION_ERROR=ue.PRE_DESTROY_ERROR=ue.POST_CONSTRUCT_ERROR=ue.ASYNC_UNBIND_REQUIRED=ue.MULTIPLE_POST_CONSTRUCT_METHODS=ue.MULTIPLE_PRE_DESTROY_METHODS=ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ue.ARGUMENTS_LENGTH_MISMATCH=ue.INVALID_DECORATOR_OPERATION=ue.INVALID_TO_SELF_VALUE=ue.LAZY_IN_SYNC=ue.INVALID_FUNCTION_BINDING=ue.INVALID_MIDDLEWARE_RETURN=ue.NO_MORE_SNAPSHOTS_AVAILABLE=ue.INVALID_BINDING_TYPE=ue.NOT_IMPLEMENTED=ue.CIRCULAR_DEPENDENCY=ue.UNDEFINED_INJECT_ANNOTATION=ue.MISSING_INJECT_ANNOTATION=ue.MISSING_INJECTABLE_ANNOTATION=ue.NOT_REGISTERED=ue.CANNOT_UNBIND=ue.AMBIGUOUS_MATCH=ue.KEY_NOT_FOUND=ue.NULL_ARGUMENT=ue.DUPLICATED_METADATA=ue.DUPLICATED_INJECTABLE_DECORATOR=void 0;ue.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ue.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ue.NULL_ARGUMENT="NULL argument";ue.KEY_NOT_FOUND="Key Not Found";ue.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ue.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ue.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ue.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ue.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var wQ=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};ue.UNDEFINED_INJECT_ANNOTATION=wQ;ue.CIRCULAR_DEPENDENCY="Circular dependency found:";ue.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ue.INVALID_BINDING_TYPE="Invalid binding type:";ue.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ue.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ue.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var xQ=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};ue.LAZY_IN_SYNC=xQ;ue.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ue.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var _Q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};ue.ARGUMENTS_LENGTH_MISMATCH=_Q;ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ue.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ue.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ue.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var AQ=function(t,e){return"@postConstruct error in class "+t+": "+e};ue.POST_CONSTRUCT_ERROR=AQ;var IQ=function(t,e){return"@preDestroy error in class "+t+": "+e};ue.PRE_DESTROY_ERROR=IQ;var SQ=function(t,e){return"onDeactivation() error in class "+t+": "+e};ue.ON_DEACTIVATION_ERROR=SQ;var EQ=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};ue.CIRCULAR_DEPENDENCY_IN_FACTORY=EQ;ue.STACK_OVERFLOW="Maximum call stack size exceeded"});var IA=v(Ki=>{"use strict";var DQ=Ki&&Ki.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CQ=Ki&&Ki.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PQ=Ki&&Ki.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DQ(e,t,r);return CQ(e,t),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.MetadataReader=void 0;var AA=PQ(Bt()),TQ=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(AA.PARAM_TYPES,e),n=Reflect.getMetadata(AA.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(AA.TAGGED_PROP,e)||[];return r},t}();Ki.MetadataReader=TQ});var IR=v(FH=>{"use strict";Object.defineProperty(FH,"__esModule",{value:!0});FH.BindingCount=void 0;var LQ={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};FH.BindingCount=LQ});var SA=v(jn=>{"use strict";var $Q=jn&&jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kQ=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RQ=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Q(e,t,r);return kQ(e,t),e};Object.defineProperty(jn,"__esModule",{value:!0});jn.tryAndThrowErrorIfStackOverflow=jn.isStackOverflowExeption=void 0;var MQ=RQ(kr());function SR(t){return t instanceof RangeError||t.message===MQ.STACK_OVERFLOW}jn.isStackOverflowExeption=SR;var OQ=function(t,e){try{return t()}catch(r){throw SR(r)&&(r=e()),r}};jn.tryAndThrowErrorIfStackOverflow=OQ});var dl=v(Nt=>{"use strict";var FQ=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BQ=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NQ=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FQ(e,t,r);return BQ(e,t),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getSymbolDescription=Nt.circularDependencyToException=Nt.listMetadataForTarget=Nt.listRegisteredBindingsForServiceIdentifier=Nt.getServiceIdentifierAsString=Nt.getFunctionName=void 0;var jQ=NQ(kr());function ER(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Nt.getServiceIdentifierAsString=ER;function UQ(t,e,r){var n="",i=r(t,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=PR(o.implementationType)),n=n+`
 `+s,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}Nt.listRegisteredBindingsForServiceIdentifier=UQ;function DR(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:DR(t.parentRequest,e)}function qQ(t){function e(n,i){i===void 0&&(i=[]);var o=ER(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?e(n.parentRequest,i):i}var r=e(t);return r.reverse().join(" --> ")}function CR(t){t.childRequests.forEach(function(e){if(DR(e,e.serviceIdentifier)){var r=qQ(e);throw new Error(jQ.CIRCULAR_DEPENDENCY+" "+r)}else CR(e)})}Nt.circularDependencyToException=CR;function WQ(t,e){if(e.isTagged()||e.isNamed()){var r="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(o){r+=o.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}Nt.listMetadataForTarget=WQ;function PR(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}Nt.getFunctionName=PR;function VQ(t){return t.toString().slice(7,-1)}Nt.getSymbolDescription=VQ});var TR=v(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.Context=void 0;var GQ=Ys(),zQ=function(){function t(e){this.id=(0,GQ.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();BH.Context=zQ});var wi=v(Xi=>{"use strict";var KQ=Xi&&Xi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XQ=Xi&&Xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JQ=Xi&&Xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KQ(e,t,r);return XQ(e,t),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Metadata=void 0;var YQ=JQ(Bt()),QQ=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===YQ.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();Xi.Metadata=QQ});var LR=v(NH=>{"use strict";Object.defineProperty(NH,"__esModule",{value:!0});NH.Plan=void 0;var ZQ=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();NH.Plan=ZQ});var EA=v(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});jH.LazyServiceIdentifer=void 0;var eZ=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();jH.LazyServiceIdentifer=eZ});var $R=v(UH=>{"use strict";Object.defineProperty(UH,"__esModule",{value:!0});UH.QueryableString=void 0;var tZ=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",n=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();UH.QueryableString=tZ});var DA=v(Ji=>{"use strict";var rZ=Ji&&Ji.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nZ=Ji&&Ji.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iZ=Ji&&Ji.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rZ(e,t,r);return nZ(e,t),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Target=void 0;var Zo=iZ(Bt()),oZ=Ys(),sZ=dl(),kR=wi(),aZ=$R(),cZ=function(){function t(e,r,n,i){this.id=(0,oZ.id)(),this.type=e,this.serviceIdentifier=n;var o=typeof r=="symbol"?(0,sZ.getSymbolDescription)(r):r;this.name=new aZ.QueryableString(o||""),this.identifier=r,this.metadata=new Array;var s=null;typeof i=="string"?s=new kR.Metadata(Zo.NAMED_TAG,i):i instanceof kR.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(Zo.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(Zo.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(Zo.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return Zo.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(Zo.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===Zo.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return Zo.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(Zo.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(n){for(var i=0,o=r.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===n)return!0}return!1}},t}();Ji.Target=cZ});var UR=v(Rr=>{"use strict";var uZ=Rr&&Rr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lZ=Rr&&Rr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RR=Rr&&Rr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uZ(e,t,r);return lZ(e,t),e},qH=Rr&&Rr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getFunctionName=Rr.getBaseClassDependencyCount=Rr.getDependencies=void 0;var pZ=EA(),CA=RR(kr()),MR=bi(),Qf=RR(Bt()),PA=dl();Object.defineProperty(Rr,"getFunctionName",{enumerable:!0,get:function(){return PA.getFunctionName}});var OR=DA();function dZ(t,e){var r=(0,PA.getFunctionName)(e);return FR(t,r,e,!1)}Rr.getDependencies=dZ;function FR(t,e,r,n){var i=t.getConstructorMetadata(r),o=i.compilerGeneratedMetadata;if(o===void 0){var s=CA.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=r.length===0&&c.length>0,l=c.length>r.length,p=u||l?c.length:r.length,d=hZ(n,e,o,a,p),m=BR(t,r,e),f=qH(qH([],d,!0),m,!0);return f}function fZ(t,e,r,n,i){var o=i[t.toString()]||[],s=jR(o),a=s.unmanaged!==!0,c=n[t],u=s.inject||s.multiInject;if(c=u||c,c instanceof pZ.LazyServiceIdentifer&&(c=c.unwrap()),a){var l=c===Object,p=c===Function,d=c===void 0,m=l||p||d;if(!e&&m){var f=CA.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(f)}var g=new OR.Target(MR.TargetTypeEnum.ConstructorArgument,s.targetName,c);return g.metadata=o,g}return null}function hZ(t,e,r,n,i){for(var o=[],s=0;s<i;s++){var a=s,c=fZ(a,t,e,r,n);c!==null&&o.push(c)}return o}function mZ(t,e,r,n){var i=t||e;if(i===void 0){var o=CA.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+n+".";throw new Error(o)}return i}function BR(t,e,r){for(var n=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(n),s=Object.keys(n),a=s.concat(o),c=0,u=a;c<u.length;c++){var l=u[c],p=n[l],d=jR(p),m=d.targetName||l,f=mZ(d.inject,d.multiInject,l,r),g=new OR.Target(MR.TargetTypeEnum.ClassProperty,m,f);g.metadata=p,i.push(g)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var x=BR(t,y,r);i=qH(qH([],i,!0),x,!0)}return i}function NR(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var n=(0,PA.getFunctionName)(r),i=FR(t,n,r,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===Qf.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:NR(t,r)}else return 0}Rr.getBaseClassDependencyCount=NR;function jR(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[Qf.INJECT_TAG],multiInject:e[Qf.MULTI_INJECT_TAG],targetName:e[Qf.NAME_TAG],unmanaged:e[Qf.UNMANAGED_TAG]}}});var qR=v(WH=>{"use strict";Object.defineProperty(WH,"__esModule",{value:!0});WH.Request=void 0;var gZ=Ys(),HZ=function(){function t(e,r,n,i,o){this.id=(0,gZ.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return t.prototype.addChildRequest=function(e,r,n){var i=new t(e,this.parentContext,this,r,n);return this.childRequests.push(i),i},t}();WH.Request=HZ});var RA=v(en=>{"use strict";var yZ=en&&en.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vZ=en&&en.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GR=en&&en.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yZ(e,t,r);return vZ(e,t),e};Object.defineProperty(en,"__esModule",{value:!0});en.getBindingDictionary=en.createMockRequest=en.plan=void 0;var VH=IR(),LA=GR(kr()),zR=bi(),WR=GR(Bt()),bZ=SA(),fl=dl(),KR=TR(),$A=wi(),wZ=LR(),TA=UR(),kA=qR(),XR=DA();function JR(t){return t._bindingDictionary}en.getBindingDictionary=JR;function xZ(t,e,r,n,i,o){var s=t?WR.MULTI_INJECT_TAG:WR.INJECT_TAG,a=new $A.Metadata(s,r),c=new XR.Target(e,n,r,a);if(i!==void 0){var u=new $A.Metadata(i,o);c.metadata.push(u)}return c}function VR(t,e,r,n,i){var o=Zf(r.container,i.serviceIdentifier),s=[];return o.length===VH.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=Zf(r.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new kA.Request(a.serviceIdentifier,r,n,a,i);return a.constraint(c)}),_Z(i.serviceIdentifier,s,i,r.container),s}function _Z(t,e,r,n){switch(e.length){case VH.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var i=(0,fl.getServiceIdentifierAsString)(t),o=LA.NOT_REGISTERED;throw o+=(0,fl.listMetadataForTarget)(i,r),o+=(0,fl.listRegisteredBindingsForServiceIdentifier)(n,i,Zf),new Error(o);case VH.BindingCount.OnlyOneBindingAvailable:return e;case VH.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var i=(0,fl.getServiceIdentifierAsString)(t),o=LA.AMBIGUOUS_MATCH+" "+i;throw o+=(0,fl.listRegisteredBindingsForServiceIdentifier)(n,i,Zf),new Error(o)}}function YR(t,e,r,n,i,o){var s,a;if(i===null){s=VR(t,e,n,null,o),a=new kA.Request(r,n,null,s,o);var c=new wZ.Plan(n,a);n.addPlan(c)}else s=VR(t,e,n,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var l=null;if(o.isArray())l=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;l=a}if(u.type===zR.BindingTypeEnum.Instance&&u.implementationType!==null){var p=(0,TA.getDependencies)(t,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=(0,TA.getBaseClassDependencyCount)(t,u.implementationType);if(p.length<d){var m=LA.ARGUMENTS_LENGTH_MISMATCH((0,TA.getFunctionName)(u.implementationType));throw new Error(m)}}p.forEach(function(f){YR(t,!1,f.serviceIdentifier,n,l,f)})}})}function Zf(t,e){var r=[],n=JR(t);return n.hasKey(e)?r=n.get(e):t.parent!==null&&(r=Zf(t.parent,e)),r}function AZ(t,e,r,n,i,o,s,a){a===void 0&&(a=!1);var c=new KR.Context(e),u=xZ(r,n,i,"",o,s);try{return YR(t,a,i,c,null,u),c}catch(l){throw(0,bZ.isStackOverflowExeption)(l)&&(0,fl.circularDependencyToException)(c.plan.rootRequest),l}}en.plan=AZ;function IZ(t,e,r,n){var i=new XR.Target(zR.TargetTypeEnum.Variable,"",e,new $A.Metadata(r,n)),o=new KR.Context(t),s=new kA.Request(e,o,null,[],i);return s}en.createMockRequest=IZ});var eh=v(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.isPromiseOrContainsPromise=hl.isPromise=void 0;function MA(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}hl.isPromise=MA;function SZ(t){return MA(t)?!0:Array.isArray(t)&&t.some(MA)}hl.isPromiseOrContainsPromise=SZ});var QR=v(Yi=>{"use strict";var EZ=Yi&&Yi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},DZ=Yi&&Yi.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.saveToScope=Yi.tryGetFromScope=void 0;var GH=Z(),CZ=eh(),PZ=function(t,e){return e.scope===GH.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===GH.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};Yi.tryGetFromScope=PZ;var TZ=function(t,e,r){e.scope===GH.BindingScopeEnum.Singleton&&$Z(e,r),e.scope===GH.BindingScopeEnum.Request&&LZ(t,e,r)};Yi.saveToScope=TZ;var LZ=function(t,e,r){t.has(e.id)||t.set(e.id,r)},$Z=function(t,e){t.cache=e,t.activated=!0,(0,CZ.isPromise)(e)&&kZ(t,e)},kZ=function(t,e){return EZ(void 0,void 0,void 0,function(){var r,n;return DZ(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return r=i.sent(),t.cache=r,[3,3];case 2:throw n=i.sent(),t.cache=null,t.activated=!1,n;case 3:return[2]}})})}});var ZR=v(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.FactoryType=void 0;var RZ;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(RZ=th.FactoryType||(th.FactoryType={}))});var FA=v(tn=>{"use strict";var MZ=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OZ=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FZ=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MZ(e,t,r);return OZ(e,t),e};Object.defineProperty(tn,"__esModule",{value:!0});tn.getFactoryDetails=tn.ensureFullyBound=tn.multiBindToService=void 0;var BZ=Z(),NZ=FZ(kr()),Qi=bi(),OA=ZR(),jZ=function(t){return function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){return t.bind(i).toService(e)})}}};tn.multiBindToService=jZ;var UZ=function(t){var e=null;switch(t.type){case Qi.BindingTypeEnum.ConstantValue:case Qi.BindingTypeEnum.Function:e=t.cache;break;case Qi.BindingTypeEnum.Constructor:case Qi.BindingTypeEnum.Instance:e=t.implementationType;break;case Qi.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case Qi.BindingTypeEnum.Provider:e=t.provider;break;case Qi.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,BZ.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(NZ.INVALID_BINDING_TYPE+" "+r)}};tn.ensureFullyBound=UZ;var qZ=function(t){switch(t.type){case Qi.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:OA.FactoryType.Factory};case Qi.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:OA.FactoryType.Provider};case Qi.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:OA.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};tn.getFactoryDetails=qZ});var oM=v(or=>{"use strict";var ml=or&&or.__assign||function(){return ml=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ml.apply(this,arguments)},WZ=or&&or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VZ=or&&or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GZ=or&&or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WZ(e,t,r);return VZ(e,t),e},rM=or&&or.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},nM=or&&or.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zZ=or&&or.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(or,"__esModule",{value:!0});or.resolveInstance=void 0;var BA=kr(),jA=bi(),NA=GZ(Bt()),UA=eh();function KZ(t,e){return t.reduce(function(r,n){var i=e(n),o=n.target.type;return o===jA.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(i):(r.propertyRequests.push(n),r.propertyInjections.push(i)),r.isAsync||(r.isAsync=(0,UA.isPromiseOrContainsPromise)(i)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function XZ(t,e,r){var n;if(e.length>0){var i=KZ(e,r),o=ml(ml({},i),{constr:t});i.isAsync?n=JZ(o):n=iM(o)}else n=new t;return n}function iM(t){var e,r=new((e=t.constr).bind.apply(e,zZ([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(n,i){var o=n.target.identifier,s=t.propertyInjections[i];r[o]=s}),r}function JZ(t){return rM(this,void 0,void 0,function(){var e,r;return nM(this,function(n){switch(n.label){case 0:return[4,eM(t.constructorInjections)];case 1:return e=n.sent(),[4,eM(t.propertyInjections)];case 2:return r=n.sent(),[2,iM(ml(ml({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function eM(t){return rM(this,void 0,void 0,function(){var e,r,n,i;return nM(this,function(o){for(e=[],r=0,n=t;r<n.length;r++)i=n[r],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function tM(t,e){var r=YZ(t,e);return(0,UA.isPromise)(r)?r.then(function(){return e}):e}function YZ(t,e){var r,n;if(Reflect.hasMetadata(NA.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(NA.POST_CONSTRUCT,t);try{return(n=(r=e)[i.value])===null||n===void 0?void 0:n.call(r)}catch(o){throw new Error((0,BA.POST_CONSTRUCT_ERROR)(t.name,o.message))}}}function QZ(t,e){t.scope!==jA.BindingScopeEnum.Singleton&&ZZ(t,e)}function ZZ(t,e){var r="Class cannot be instantiated in "+(t.scope===jA.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,BA.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(NA.PRE_DESTROY,e))throw new Error((0,BA.PRE_DESTROY_ERROR)(e.name,r))}function eee(t,e,r,n){QZ(t,e);var i=XZ(e,r,n);return(0,UA.isPromise)(i)?i.then(function(o){return tM(e,o)}):tM(e,i)}or.resolveInstance=eee});var lM=v(rn=>{"use strict";var tee=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ree=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nee=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tee(e,t,r);return ree(e,t),e},iee=rn&&rn.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},oee=rn&&rn.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(rn,"__esModule",{value:!0});rn.resolve=void 0;var see=nee(kr()),zH=bi(),aee=RA(),sM=QR(),qA=eh(),cM=FA(),cee=SA(),uee=oM(),WA=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return n.map(function(a){var c=WA(t);return c(a)});if(e.target.isOptional()&&r.length===0)return;var s=r[0];return fee(t,e,s)}},lee=function(t,e){var r=(0,cM.getFactoryDetails)(t);return(0,cee.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(see.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},pee=function(t,e,r){var n,i=e.childRequests;switch((0,cM.ensureFullyBound)(r),r.type){case zH.BindingTypeEnum.ConstantValue:case zH.BindingTypeEnum.Function:n=r.cache;break;case zH.BindingTypeEnum.Constructor:n=r.implementationType;break;case zH.BindingTypeEnum.Instance:n=(0,uee.resolveInstance)(r,r.implementationType,i,WA(t));break;default:n=lee(r,e.parentContext)}return n},dee=function(t,e,r){var n=(0,sM.tryGetFromScope)(t,e);return n!==null||(n=r(),(0,sM.saveToScope)(t,e,n)),n},fee=function(t,e,r){return dee(t,r,function(){var n=pee(t,e,r);return(0,qA.isPromise)(n)?n=n.then(function(i){return aM(e,r,i)}):n=aM(e,r,n),n})};function aM(t,e,r){var n=hee(t.parentContext,e,r),i=Hee(t.parentContext.container),o,s=i.next();do{o=s.value;var a=t.parentContext,c=t.serviceIdentifier,u=gee(o,c);(0,qA.isPromise)(n)?n=uM(u,a,n):n=mee(u,a,n),s=i.next()}while(s.done!==!0&&!(0,aee.getBindingDictionary)(o).hasKey(t.serviceIdentifier));return n}var hee=function(t,e,r){var n;return typeof e.onActivation=="function"?n=e.onActivation(t,r):n=r,n},mee=function(t,e,r){for(var n=t.next();!n.done;){if(r=n.value(e,r),(0,qA.isPromise)(r))return uM(t,e,r);n=t.next()}return r},uM=function(t,e,r){return iee(void 0,void 0,void 0,function(){var n,i;return oee(this,function(o){switch(o.label){case 0:return[4,r];case 1:n=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=o.sent(),i=t.next(),[3,2];case 4:return[2,n]}})})},gee=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},Hee=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var n=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:n};return i};function yee(t){var e=WA(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}rn.resolve=yee});var VA=v(Mr=>{"use strict";var vee=Mr&&Mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bee=Mr&&Mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wee=Mr&&Mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vee(e,t,r);return bee(e,t),e};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.typeConstraint=Mr.namedConstraint=Mr.taggedConstraint=Mr.traverseAncerstors=void 0;var xee=wee(Bt()),_ee=wi(),pM=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:pM(r,e):!1};Mr.traverseAncerstors=pM;var dM=function(t){return function(e){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(t)(e)};return r.metaData=new _ee.Metadata(t,e),r}};Mr.taggedConstraint=dM;var Aee=dM(xee.NAMED_TAG);Mr.namedConstraint=Aee;var Iee=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var n=r.serviceIdentifier;return n===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};Mr.typeConstraint=Iee});var XH=v(KH=>{"use strict";Object.defineProperty(KH,"__esModule",{value:!0});KH.BindingWhenSyntax=void 0;var Gr=JH(),Jt=VA(),See=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new Gr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Jt.namedConstraint)(e),new Gr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,Jt.taggedConstraint)(e)(r),new Gr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Jt.typeConstraint)(e)(r.parentRequest)},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Jt.namedConstraint)(e)(r.parentRequest)},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Jt.taggedConstraint)(e)(r)(n.parentRequest)},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Jt.traverseAncerstors)(r,(0,Jt.typeConstraint)(e))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Jt.traverseAncerstors)(r,(0,Jt.typeConstraint)(e))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Jt.traverseAncerstors)(r,(0,Jt.namedConstraint)(e))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Jt.traverseAncerstors)(r,(0,Jt.namedConstraint)(e))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Jt.traverseAncerstors)(n,(0,Jt.taggedConstraint)(e)(r))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&!(0,Jt.traverseAncerstors)(n,(0,Jt.taggedConstraint)(e)(r))},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Jt.traverseAncerstors)(r,e)},new Gr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Jt.traverseAncerstors)(r,e)},new Gr.BindingOnSyntax(this._binding)},t}();KH.BindingWhenSyntax=See});var JH=v(YH=>{"use strict";Object.defineProperty(YH,"__esModule",{value:!0});YH.BindingOnSyntax=void 0;var fM=XH(),Eee=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new fM.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new fM.BindingWhenSyntax(this._binding)},t}();YH.BindingOnSyntax=Eee});var GA=v(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.BindingWhenOnSyntax=void 0;var Dee=JH(),Cee=XH(),Pee=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Cee.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new Dee.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();QH.BindingWhenOnSyntax=Pee});var hM=v(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.BindingInSyntax=void 0;var zA=bi(),KA=GA(),Tee=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=zA.BindingScopeEnum.Request,new KA.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=zA.BindingScopeEnum.Singleton,new KA.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=zA.BindingScopeEnum.Transient,new KA.BindingWhenOnSyntax(this._binding)},t}();ZH.BindingInSyntax=Tee});var mM=v(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.BindingInWhenOnSyntax=void 0;var Lee=hM(),$ee=JH(),kee=XH(),Ree=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new kee.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new $ee.BindingOnSyntax(this._binding),this._bindingInSyntax=new Lee.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();ey.BindingInWhenOnSyntax=Ree});var yM=v(Zi=>{"use strict";var Mee=Zi&&Zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oee=Zi&&Zi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fee=Zi&&Zi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mee(e,t,r);return Oee(e,t),e};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.BindingToSyntax=void 0;var gM=Fee(kr()),zr=bi(),HM=mM(),gl=GA(),Bee=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=zr.BindingTypeEnum.Instance,this._binding.implementationType=e,new HM.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+gM.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=zr.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=zr.BindingScopeEnum.Singleton,new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=zr.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new HM.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=zr.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=zr.BindingScopeEnum.Singleton,new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=zr.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=zr.BindingScopeEnum.Singleton,new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(gM.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=zr.BindingTypeEnum.Function,this._binding.scope=zr.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=zr.BindingTypeEnum.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(e)};return n},this._binding.scope=zr.BindingScopeEnum.Singleton,new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=zr.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(n){return r.container.getNamed(e,n)}},new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=zr.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=zr.BindingScopeEnum.Singleton,new gl.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();Zi.BindingToSyntax=Bee});var vM=v(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.ContainerSnapshot=void 0;var Nee=function(){function t(){}return t.of=function(e,r,n,i,o){var s=new t;return s.bindings=e,s.middleware=r,s.deactivations=i,s.activations=n,s.moduleActivationStore=o,s},t}();ty.ContainerSnapshot=Nee});var bM=v(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.isClonable=void 0;function jee(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}ry.isClonable=jee});var XA=v(eo=>{"use strict";var Uee=eo&&eo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qee=eo&&eo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wee=eo&&eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Uee(e,t,r);return qee(e,t),e};Object.defineProperty(eo,"__esModule",{value:!0});eo.Lookup=void 0;var Ec=Wee(kr()),Vee=bM(),Gee=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(Ec.NULL_ARGUMENT);if(r==null)throw new Error(Ec.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(Ec.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(Ec.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(Ec.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Ec.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(n,i){var o=e.hasKey(n)?e.get(n):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(c){return a===c})});r._setValue(n,s)}})},t.prototype.removeByCondition=function(e){var r=this,n=[];return this._map.forEach(function(i,o){for(var s=[],a=0,c=i;a<c.length;a++){var u=c[a],l=e(u);l?n.push(u):s.push(u)}r._setValue(o,s)}),n},t.prototype.hasKey=function(e){if(e==null)throw new Error(Ec.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){r.forEach(function(i){return e.add(n,(0,Vee.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,n){e(n,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();eo.Lookup=Gee});var xM=v(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.ModuleActivationStore=void 0;var wM=XA(),zee=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,n){this._getModuleActivationHandlers(e).onDeactivations.add(r,n)},t.prototype.addActivation=function(e,r,n){this._getModuleActivationHandlers(e).onActivations.add(r,n)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){e._map.set(n,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new wM.Lookup,onDeactivations:new wM.Lookup};return e},t}();ny.ModuleActivationStore=zee});var AM=v(sr=>{"use strict";var oy=sr&&sr.__assign||function(){return oy=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oy.apply(this,arguments)},Kee=sr&&sr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xee=sr&&sr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_M=sr&&sr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kee(e,t,r);return Xee(e,t),e},Un=sr&&sr.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},qn=sr&&sr.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jee=sr&&sr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(sr,"__esModule",{value:!0});sr.Container=void 0;var Yee=AR(),xi=_M(kr()),Hl=bi(),Dc=_M(Bt()),Qee=IA(),iy=RA(),Zee=lM(),ete=yM(),Cc=eh(),tte=Ys(),rte=dl(),nte=vM(),rh=XA(),ite=xM(),ote=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+xi.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=Hl.BindingScopeEnum.Transient;else if(r.defaultScope!==Hl.BindingScopeEnum.Singleton&&r.defaultScope!==Hl.BindingScopeEnum.Transient&&r.defaultScope!==Hl.BindingScopeEnum.Request)throw new Error(""+xi.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+xi.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+xi.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,tte.id)(),this._bindingDictionary=new rh.Lookup,this._snapshots=[],this._middleware=null,this._activations=new rh.Lookup,this._deactivations=new rh.Lookup,this.parent=null,this._metadataReader=new Qee.MetadataReader,this._moduleActivationStore=new ite.ModuleActivationStore}return t.merge=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new t,s=Jee([e,r],n,!0).map(function(u){return(0,iy.getBindingDictionary)(u)}),a=(0,iy.getBindingDictionary)(o);function c(u,l){u.traverse(function(p,d){d.forEach(function(m){l.add(m.serviceIdentifier,m.clone())})})}return s.forEach(function(u){c(u,a)}),o},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=n(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Un(this,void 0,void 0,function(){var n,i,o,s,a;return qn(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=n(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Un(this,void 0,void 0,function(){var n,i,o,s;return qn(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(o=i[n],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||Hl.BindingScopeEnum.Transient,n=new Yee.Binding(e,r);return this._bindingDictionary.add(e,n),new ete.BindingToSyntax(n)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return Un(this,void 0,void 0,function(){return qn(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return Un(this,void 0,void 0,function(){var r;return qn(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,n){e._deactivateSingletons(n)}),this._bindingDictionary=new rh.Lookup},t.prototype.unbindAllAsync=function(){return Un(this,void 0,void 0,function(){var e,r=this;return qn(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(r._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new rh.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,Dc.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,iy.createMockRequest)(this,e,r,n);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,r,n)),i},t.prototype.snapshot=function(){this._snapshots.push(nte.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(xi.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},n)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return Un(this,void 0,void 0,function(){var r;return qn(this,function(n){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,n){var i=this._getNotAllArgs(e,!1,r,n);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,r,n){return Un(this,void 0,void 0,function(){var i;return qn(this,function(o){return i=this._getNotAllArgs(e,!1,r,n),[2,this._get(i)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,Dc.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,Dc.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getAll(i)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,Dc.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,Dc.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var n=this.get(e);return r||this.unbind(e),n},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(Dc.PRE_DESTROY,e)){var n=Reflect.getMetadata(Dc.PRE_DESTROY,e);return r[n.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var n=this,i=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,Cc.isPromise)(o))return this._handleDeactivationError(o.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,i);if((0,Cc.isPromise)(s))return this._handleDeactivationError(s,i)}catch(a){throw new Error(xi.ON_DEACTIVATION_ERROR(i.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return Un(this,void 0,void 0,function(){var n;return qn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),new Error(xi.ON_DEACTIVATION_ERROR(r.name,n.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var n=this,i=r.next();i.value;){var o=i.value(e);if((0,Cc.isPromise)(o))return o.then(function(){return n._deactivateContainerAsync(e,r)});i=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return Un(this,void 0,void 0,function(){var n;return qn(this,function(i){switch(i.label){case 0:n=r.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var d=e.bind(p);return r(d,l),d}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var d=e.rebind(p);return r(d,l),d}},c=function(l){return function(p,d){e._moduleActivationStore.addActivation(l,p,d),e.onActivation(p,d)}},u=function(l){return function(p,d){e._moduleActivationStore.addDeactivation(l,p,d),e.onDeactivation(p,d)}};return function(l){return{bindFunction:n(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:u(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=oy(oy({},e),{contextInterceptor:function(i){return i},targetType:Hl.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(r);if(n==null)throw new Error(xi.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,Cc.isPromiseOrContainsPromise)(r))throw new Error(xi.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,n,i){var o={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:n,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(r){var n=(0,iy.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=(0,Zee.resolve)(n);return i}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,Cc.isPromise)(e.cache)?e.cache.then(function(n){return r._deactivate(e,n)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,n=e;r<n.length;r++){var i=n[r],o=this._deactivateIfSingleton(i);if((0,Cc.isPromise)(o))throw new Error(xi.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return Un(this,void 0,void 0,function(){var r=this;return qn(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return r._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,n){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,n)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,n){return Un(this,void 0,void 0,function(){return qn(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(xi.CANNOT_UNBIND+" "+(0,rte.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,n){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(r);if((0,Cc.isPromise)(o))return o.then(function(){return i._preDestroy(n,r)})}return this._preDestroy(n,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,n){return Un(this,void 0,void 0,function(){return qn(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,r)];case 3:return i.sent(),[2]}})})},t}();sr.Container=ote});var SM=v(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.AsyncContainerModule=yl.ContainerModule=void 0;var IM=Ys(),ste=function(){function t(e){this.id=(0,IM.id)(),this.registry=e}return t}();yl.ContainerModule=ste;var ate=function(){function t(e){this.id=(0,IM.id)(),this.registry=e}return t}();yl.AsyncContainerModule=ate});var EM=v(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});sy.getFirstArrayDuplicate=void 0;function cte(t){for(var e=new Set,r=0,n=t;r<n.length;r++){var i=n[r];if(e.has(i))return i;e.add(i)}}sy.getFirstArrayDuplicate=cte});var es=v(Or=>{"use strict";var ute=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lte=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CM=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ute(e,t,r);return lte(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.createTaggedDecorator=Or.tagProperty=Or.tagParameter=Or.decorate=void 0;var ay=CM(kr()),PM=CM(Bt()),pte=EM();function dte(t){return t.prototype!==void 0}function fte(t){if(t!==void 0)throw new Error(ay.INVALID_DECORATOR_OPERATION)}function TM(t,e,r,n){fte(e),$M(PM.TAGGED,t,r.toString(),n)}Or.tagParameter=TM;function LM(t,e,r){if(dte(t))throw new Error(ay.INVALID_DECORATOR_OPERATION);$M(PM.TAGGED_PROP,t.constructor,e,r)}Or.tagProperty=LM;function hte(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,pte.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(r!==void 0)throw new Error(ay.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function $M(t,e,r,n){var i=hte(n),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[r];if(s===void 0)s=[];else for(var a=function(p){if(i.some(function(d){return d.key===p.key}))throw new Error(ay.DUPLICATED_METADATA+" "+p.key.toString())},c=0,u=s;c<u.length;c++){var l=u[c];a(l)}s.push.apply(s,i),o[r]=s,Reflect.defineMetadata(t,o,e)}function mte(t){return function(e,r,n){typeof n=="number"?TM(e,r,n,t):LM(e,r,t)}}Or.createTaggedDecorator=mte;function DM(t,e){Reflect.decorate(t,e)}function gte(t,e){return function(r,n){e(r,n,t)}}function Hte(t,e,r){typeof r=="number"?DM([gte(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):DM([t],e)}Or.decorate=Hte});var RM=v(to=>{"use strict";var yte=to&&to.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vte=to&&to.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kM=to&&to.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yte(e,t,r);return vte(e,t),e};Object.defineProperty(to,"__esModule",{value:!0});to.injectable=void 0;var bte=kM(kr()),JA=kM(Bt());function wte(){return function(t){if(Reflect.hasOwnMetadata(JA.PARAM_TYPES,t))throw new Error(bte.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(JA.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(JA.PARAM_TYPES,e,t),t}}to.injectable=wte});var MM=v(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});cy.tagged=void 0;var xte=wi(),_te=es();function Ate(t,e){return(0,_te.createTaggedDecorator)(new xte.Metadata(t,e))}cy.tagged=Ate});var OM=v(ro=>{"use strict";var Ite=ro&&ro.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ste=ro&&ro.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ete=ro&&ro.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ite(e,t,r);return Ste(e,t),e};Object.defineProperty(ro,"__esModule",{value:!0});ro.named=void 0;var Dte=Ete(Bt()),Cte=wi(),Pte=es();function Tte(t){return(0,Pte.createTaggedDecorator)(new Cte.Metadata(Dte.NAMED_TAG,t))}ro.named=Tte});var YA=v(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.injectBase=void 0;var Lte=kr(),$te=wi(),kte=es();function Rte(t){return function(e){return function(r,n,i){if(e===void 0){var o=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,Lte.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,kte.createTaggedDecorator)(new $te.Metadata(t,e))(r,n,i)}}}uy.injectBase=Rte});var FM=v(no=>{"use strict";var Mte=no&&no.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ote=no&&no.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fte=no&&no.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mte(e,t,r);return Ote(e,t),e};Object.defineProperty(no,"__esModule",{value:!0});no.inject=void 0;var Bte=Fte(Bt()),Nte=YA(),jte=(0,Nte.injectBase)(Bte.INJECT_TAG);no.inject=jte});var BM=v(io=>{"use strict";var Ute=io&&io.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qte=io&&io.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wte=io&&io.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ute(e,t,r);return qte(e,t),e};Object.defineProperty(io,"__esModule",{value:!0});io.optional=void 0;var Vte=Wte(Bt()),Gte=wi(),zte=es();function Kte(){return(0,zte.createTaggedDecorator)(new Gte.Metadata(Vte.OPTIONAL_TAG,!0))}io.optional=Kte});var NM=v(oo=>{"use strict";var Xte=oo&&oo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jte=oo&&oo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yte=oo&&oo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xte(e,t,r);return Jte(e,t),e};Object.defineProperty(oo,"__esModule",{value:!0});oo.unmanaged=void 0;var Qte=Yte(Bt()),Zte=wi(),ere=es();function tre(){return function(t,e,r){var n=new Zte.Metadata(Qte.UNMANAGED_TAG,!0);(0,ere.tagParameter)(t,e,r,n)}}oo.unmanaged=tre});var jM=v(so=>{"use strict";var rre=so&&so.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nre=so&&so.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ire=so&&so.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rre(e,t,r);return nre(e,t),e};Object.defineProperty(so,"__esModule",{value:!0});so.multiInject=void 0;var ore=ire(Bt()),sre=YA(),are=(0,sre.injectBase)(ore.MULTI_INJECT_TAG);so.multiInject=are});var UM=v(ao=>{"use strict";var cre=ao&&ao.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ure=ao&&ao.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lre=ao&&ao.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cre(e,t,r);return ure(e,t),e};Object.defineProperty(ao,"__esModule",{value:!0});ao.targetName=void 0;var pre=lre(Bt()),dre=wi(),fre=es();function hre(t){return function(e,r,n){var i=new dre.Metadata(pre.NAME_TAG,t);(0,fre.tagParameter)(e,r,n,i)}}ao.targetName=hre});var QA=v(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});ly.propertyEventDecorator=void 0;var mre=wi();function gre(t,e){return function(){return function(r,n){var i=new mre.Metadata(t,n);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,i,r.constructor)}}}ly.propertyEventDecorator=gre});var WM=v(co=>{"use strict";var Hre=co&&co.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yre=co&&co.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qM=co&&co.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hre(e,t,r);return yre(e,t),e};Object.defineProperty(co,"__esModule",{value:!0});co.postConstruct=void 0;var vre=qM(kr()),bre=qM(Bt()),wre=QA(),xre=(0,wre.propertyEventDecorator)(bre.POST_CONSTRUCT,vre.MULTIPLE_POST_CONSTRUCT_METHODS);co.postConstruct=xre});var GM=v(uo=>{"use strict";var _re=uo&&uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Are=uo&&uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VM=uo&&uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_re(e,t,r);return Are(e,t),e};Object.defineProperty(uo,"__esModule",{value:!0});uo.preDestroy=void 0;var Ire=VM(kr()),Sre=VM(Bt()),Ere=QA(),Dre=(0,Ere.propertyEventDecorator)(Sre.PRE_DESTROY,Ire.MULTIPLE_PRE_DESTROY_METHODS);uo.preDestroy=Dre});var zM=v(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.interfaces=void 0;var ZA;ZA||(ZA={});py.interfaces=ZA});var Z=v(le=>{"use strict";var Cre=le&&le.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pre=le&&le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tre=le&&le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cre(e,t,r);return Pre(e,t),e};Object.defineProperty(le,"__esModule",{value:!0});le.multiBindToService=le.getServiceIdentifierAsString=le.typeConstraint=le.namedConstraint=le.taggedConstraint=le.traverseAncerstors=le.decorate=le.interfaces=le.id=le.MetadataReader=le.preDestroy=le.postConstruct=le.targetName=le.multiInject=le.unmanaged=le.optional=le.LazyServiceIdentifer=le.inject=le.named=le.tagged=le.injectable=le.createTaggedDecorator=le.ContainerModule=le.AsyncContainerModule=le.TargetTypeEnum=le.BindingTypeEnum=le.BindingScopeEnum=le.Container=le.METADATA_KEY=void 0;var Lre=Tre(Bt());le.METADATA_KEY=Lre;var $re=AM();Object.defineProperty(le,"Container",{enumerable:!0,get:function(){return $re.Container}});var eI=bi();Object.defineProperty(le,"BindingScopeEnum",{enumerable:!0,get:function(){return eI.BindingScopeEnum}});Object.defineProperty(le,"BindingTypeEnum",{enumerable:!0,get:function(){return eI.BindingTypeEnum}});Object.defineProperty(le,"TargetTypeEnum",{enumerable:!0,get:function(){return eI.TargetTypeEnum}});var KM=SM();Object.defineProperty(le,"AsyncContainerModule",{enumerable:!0,get:function(){return KM.AsyncContainerModule}});Object.defineProperty(le,"ContainerModule",{enumerable:!0,get:function(){return KM.ContainerModule}});var kre=es();Object.defineProperty(le,"createTaggedDecorator",{enumerable:!0,get:function(){return kre.createTaggedDecorator}});var Rre=RM();Object.defineProperty(le,"injectable",{enumerable:!0,get:function(){return Rre.injectable}});var Mre=MM();Object.defineProperty(le,"tagged",{enumerable:!0,get:function(){return Mre.tagged}});var Ore=OM();Object.defineProperty(le,"named",{enumerable:!0,get:function(){return Ore.named}});var Fre=FM();Object.defineProperty(le,"inject",{enumerable:!0,get:function(){return Fre.inject}});var Bre=EA();Object.defineProperty(le,"LazyServiceIdentifer",{enumerable:!0,get:function(){return Bre.LazyServiceIdentifer}});var Nre=BM();Object.defineProperty(le,"optional",{enumerable:!0,get:function(){return Nre.optional}});var jre=NM();Object.defineProperty(le,"unmanaged",{enumerable:!0,get:function(){return jre.unmanaged}});var Ure=jM();Object.defineProperty(le,"multiInject",{enumerable:!0,get:function(){return Ure.multiInject}});var qre=UM();Object.defineProperty(le,"targetName",{enumerable:!0,get:function(){return qre.targetName}});var Wre=WM();Object.defineProperty(le,"postConstruct",{enumerable:!0,get:function(){return Wre.postConstruct}});var Vre=GM();Object.defineProperty(le,"preDestroy",{enumerable:!0,get:function(){return Vre.preDestroy}});var Gre=IA();Object.defineProperty(le,"MetadataReader",{enumerable:!0,get:function(){return Gre.MetadataReader}});var zre=Ys();Object.defineProperty(le,"id",{enumerable:!0,get:function(){return zre.id}});var Kre=zM();Object.defineProperty(le,"interfaces",{enumerable:!0,get:function(){return Kre.interfaces}});var Xre=es();Object.defineProperty(le,"decorate",{enumerable:!0,get:function(){return Xre.decorate}});var dy=VA();Object.defineProperty(le,"traverseAncerstors",{enumerable:!0,get:function(){return dy.traverseAncerstors}});Object.defineProperty(le,"taggedConstraint",{enumerable:!0,get:function(){return dy.taggedConstraint}});Object.defineProperty(le,"namedConstraint",{enumerable:!0,get:function(){return dy.namedConstraint}});Object.defineProperty(le,"typeConstraint",{enumerable:!0,get:function(){return dy.typeConstraint}});var Jre=dl();Object.defineProperty(le,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return Jre.getServiceIdentifierAsString}});var Yre=FA();Object.defineProperty(le,"multiBindToService",{enumerable:!0,get:function(){return Yre.multiBindToService}})});var VO=v(($De,_h)=>{var qO={};qO.__wbindgen_placeholder__=_h.exports;var Si,{TextDecoder:vie}=require("util"),WO=new vie("utf-8",{ignoreBOM:!0,fatal:!0});WO.decode();var ov=null;function UI(){return(ov===null||ov.buffer!==Si.memory.buffer)&&(ov=new Uint8Array(Si.memory.buffer)),ov}function bie(t,e){return WO.decode(UI().subarray(t,t+e))}var NI=0;function UO(t,e){let r=e(t.length*1);return UI().set(t,r/1),NI=t.length,r}var jI=class t{static __wrap(e){let r=Object.create(t.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();Si.__wbg_hasher_free(e)}constructor(){var e=Si.hasher_new();return t.__wrap(e)}update(e){var r=UO(e,Si.__wbindgen_malloc),n=NI;Si.hasher_update(this.ptr,r,n)}digest(e){try{var r=UO(e,Si.__wbindgen_malloc),n=NI;Si.hasher_digest(this.ptr,r,n)}finally{e.set(UI().subarray(r/1,r/1+n)),Si.__wbindgen_free(r,n*1)}}};_h.exports.Hasher=jI;_h.exports.__wbindgen_throw=function(t,e){throw new Error(bie(t,e))};var wie=require("path").join(__dirname,"chromehash_bg.wasm"),xie=require("fs").readFileSync(wie),_ie=new WebAssembly.Module(xie),Aie=new WebAssembly.Instance(_ie,qO);Si=Aie.exports;_h.exports.__wasm=Si});var YO=v(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.shaHashFile=vo.hashFile=vo.shaHash=vo.hash=void 0;var KO=VO(),XO=require("fs"),GO=require("string_decoder"),JO=require("crypto"),av=Buffer.alloc(4*5),Iie=t=>{let e=new KO.Hasher;return e.update(Cie(t)),e.digest(av),e.free(),av.toString("hex")};vo.hash=Iie;var Sie=t=>{let e=(0,JO.createHash)("sha256");return e.update(Pie(t)),e.digest("hex")};vo.shaHash=Sie;var Eie=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=new KO.Hasher,i;try{i=await XO.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(uv(s))for(n.update(s.slice(2));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else if(lv(s))for(n.update(s.slice(2).swap16());o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead).swap16());else if(cv(s)){let a=new GO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s.slice(3)),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}else{let a=new GO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}return n.digest(av),av.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};vo.hashFile=Eie;var sv={stream:!0},Die=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=(0,JO.createHash)("sha256"),i;try{i=await XO.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(uv(s)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(s.slice(2),sv));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),sv))}else if(lv(s)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(s.slice(2),sv));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),sv))}else if(cv(s))for(n.update(s.slice(3));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else for(n.update(s);o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));return n.digest("hex")}finally{await i?.close()}};vo.shaHashFile=Die;var cv=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,uv=t=>t.length>=2&&t[0]===255&&t[1]===254,lv=t=>t.length>=2&&t[0]===254&&t[1]===255,Cie=t=>cv(t)?zO(t.slice(3)):uv(t)?t.slice(2):lv(t)?t.slice(2).swap16():zO(t),Pie=t=>cv(t)?t.slice(3):uv(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):lv(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,zO=t=>Buffer.from(t.toString("utf8"),"utf16le")});var wv=v(Kn=>{"use strict";Kn.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Kn.find=(t,e)=>t.nodes.find(r=>r.type===e);Kn.exceedsLimit=(t,e,r=1,n)=>n===!1||!Kn.isInteger(t)||!Kn.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;Kn.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Kn.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);Kn.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Kn.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Kn.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Kn.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var xv=v((DPe,wF)=>{"use strict";var bF=wv();wF.exports=(t,e={})=>{let r=(n,i={})=>{let o=e.escapeInvalid&&bF.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||s)&&bF.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var _F=v((CPe,xF)=>{"use strict";xF.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var LF=v((PPe,TF)=>{"use strict";var AF=_F(),Kc=(t,e,r)=>{if(AF(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(AF(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+i+o+s+a;if(Kc.cache.hasOwnProperty(c))return Kc.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(Math.abs(u-l)===1){let g=t+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=PF(t)||PF(e),d={min:t,max:e,a:u,b:l},m=[],f=[];if(p&&(d.isPadded=p,d.maxLen=String(d.max).length),u<0){let g=l<0?Math.abs(l):1;f=IF(g,Math.abs(u),d,n),u=d.a=0}return l>=0&&(m=IF(u,l,d,n)),d.negatives=f,d.positives=m,d.result=Jie(f,m,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&m.length+f.length>1&&(d.result=`(?:${d.result})`),Kc.cache[c]=d,d.result};function Jie(t,e,r){let n=KI(t,e,"-",!1,r)||[],i=KI(e,t,"",!1,r)||[],o=KI(t,e,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function Yie(t,e){let r=1,n=1,i=EF(t,r),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),r+=1,i=EF(t,r);for(i=DF(e+1,n)-1;t<i&&i<=e;)o.add(i),n+=1,i=DF(e+1,n)-1;return o=[...o],o.sort(eoe),o}function Qie(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=Zie(t,e),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[c,u]=n[a];c===u?o+=c:c!=="0"||u!=="9"?o+=toe(c,u,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function IF(t,e,r,n){let i=Yie(t,e),o=[],s=t,a;for(let c=0;c<i.length;c++){let u=i[c],l=Qie(String(s),String(u),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+CF(a.count),s=u+1;continue}r.isPadded&&(p=roe(u,r,n)),l.string=p+l.pattern+CF(l.count),o.push(l),s=u+1,a=l}return o}function KI(t,e,r,n,i){let o=[];for(let s of t){let{string:a}=s;!n&&!SF(e,"string",a)&&o.push(r+a),n&&SF(e,"string",a)&&o.push(r+a)}return o}function Zie(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function eoe(t,e){return t>e?1:e>t?-1:0}function SF(t,e,r){return t.some(n=>n[e]===r)}function EF(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function DF(t,e){return t-t%Math.pow(10,e)}function CF(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function toe(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function PF(t){return/^-?(0+)\d/.test(t)}function roe(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Kc.cache={};Kc.clearCache=()=>Kc.cache={};TF.exports=Kc});var YI=v((TPe,NF)=>{"use strict";var noe=require("util"),RF=LF(),$F=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),ioe=t=>e=>t===!0?Number(e):String(e),XI=t=>typeof t=="number"||typeof t=="string"&&t!=="",Sh=t=>Number.isInteger(+t),JI=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},ooe=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,soe=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},kF=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},aoe=(t,e)=>{t.negatives.sort((s,a)=>s<a?-1:s>a?1:0),t.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=e.capture?"":"?:",n="",i="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,e.wrap?`(${r}${o})`:o},MF=(t,e,r,n)=>{if(r)return RF(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);if(t===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},OF=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return RF(t,e,r)},FF=(...t)=>new RangeError("Invalid range arguments: "+noe.inspect(...t)),BF=(t,e,r)=>{if(r.strictRanges===!0)throw FF([t,e]);return[]},coe=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},uoe=(t,e,r=1,n={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw FF([t,e]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(t),c=String(e),u=String(r);r=Math.max(Math.abs(r),1);let l=JI(a)||JI(c)||JI(u),p=l?Math.max(a.length,c.length,u.length):0,d=l===!1&&ooe(t,e,n)===!1,m=n.transform||ioe(d);if(n.toRegex&&r===1)return MF(kF(t,p),kF(e,p),!0,n);let f={negatives:[],positives:[]},g=E=>f[E<0?"negatives":"positives"].push(Math.abs(E)),y=[],x=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):y.push(soe(m(i,x),p,d)),i=s?i-r:i+r,x++;return n.toRegex===!0?r>1?aoe(f,n):OF(y,null,{wrap:!1,...n}):y},loe=(t,e,r=1,n={})=>{if(!Sh(t)&&t.length>1||!Sh(e)&&e.length>1)return BF(t,e,n);let i=n.transform||(d=>String.fromCharCode(d)),o=`${t}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,c=Math.min(o,s),u=Math.max(o,s);if(n.toRegex&&r===1)return MF(c,u,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-r:o+r,p++;return n.toRegex===!0?OF(l,null,{wrap:!1,options:n}):l},_v=(t,e,r,n={})=>{if(e==null&&XI(t))return[t];if(!XI(t)||!XI(e))return BF(t,e,n);if(typeof r=="function")return _v(t,e,1,{transform:r});if($F(r))return _v(t,e,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Sh(r)?Sh(t)&&Sh(e)?uoe(t,e,r,i):loe(t,e,Math.max(Math.abs(r),1),i):r!=null&&!$F(r)?coe(r,i):_v(t,e,1,r)};NF.exports=_v});var qF=v((LPe,UF)=>{"use strict";var poe=YI(),jF=wv(),doe=(t,e={})=>{let r=(n,i={})=>{let o=jF.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||s===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=jF.reduce(n.nodes),p=poe(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)u+=r(l,n);return u};return r(t)};UF.exports=doe});var GF=v(($Pe,VF)=>{"use strict";var foe=YI(),WF=xv(),Vl=wv(),Xc=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Vl.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let o of i)n.push(Xc(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Xc(i,o,r):i+o);return Vl.flatten(n)},hoe=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Xc(a.pop(),WF(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Xc(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Vl.reduce(i.nodes);if(Vl.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=foe(...p,e);d.length===0&&(d=WF(i,e)),a.push(Xc(a.pop(),d)),i.nodes=[];return}let c=Vl.encloseBrace(i),u=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<i.nodes.length;p++){let d=i.nodes[p];if(d.type==="comma"&&i.type==="brace"){p===1&&u.push(""),u.push("");continue}if(d.type==="close"){a.push(Xc(a.pop(),u,c));continue}if(d.value&&d.type!=="open"){u.push(Xc(u.pop(),d.value));continue}d.nodes&&n(d,i)}return u};return Vl.flatten(n(t))};VF.exports=hoe});var KF=v((kPe,zF)=>{"use strict";zF.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ZF=v((RPe,QF)=>{"use strict";var moe=xv(),{MAX_LENGTH:XF,CHAR_BACKSLASH:QI,CHAR_BACKTICK:goe,CHAR_COMMA:Hoe,CHAR_DOT:yoe,CHAR_LEFT_PARENTHESES:voe,CHAR_RIGHT_PARENTHESES:boe,CHAR_LEFT_CURLY_BRACE:woe,CHAR_RIGHT_CURLY_BRACE:xoe,CHAR_LEFT_SQUARE_BRACKET:JF,CHAR_RIGHT_SQUARE_BRACKET:YF,CHAR_DOUBLE_QUOTE:_oe,CHAR_SINGLE_QUOTE:Aoe,CHAR_NO_BREAK_SPACE:Ioe,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Soe}=KF(),Eoe=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(XF,r.maxLength):XF;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},o=[i],s=i,a=i,c=0,u=t.length,l=0,p=0,d,m={},f=()=>t[l++],g=y=>{if(y.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&y.type==="text"){a.value+=y.value;return}return s.nodes.push(y),y.parent=s,y.prev=a,a=y,y};for(g({type:"bos"});l<u;)if(s=o[o.length-1],d=f(),!(d===Soe||d===Ioe)){if(d===QI){g({type:"text",value:(e.keepEscaping?d:"")+f()});continue}if(d===YF){g({type:"text",value:"\\"+d});continue}if(d===JF){c++;let y=!0,x;for(;l<u&&(x=f());){if(d+=x,x===JF){c++;continue}if(x===QI){d+=f();continue}if(x===YF&&(c--,c===0))break}g({type:"text",value:d});continue}if(d===voe){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:d});continue}if(d===boe){if(s.type!=="paren"){g({type:"text",value:d});continue}s=o.pop(),g({type:"text",value:d}),s=o[o.length-1];continue}if(d===_oe||d===Aoe||d===goe){let y=d,x;for(e.keepQuotes!==!0&&(d="");l<u&&(x=f());){if(x===QI){d+=x+f();continue}if(x===y){e.keepQuotes===!0&&(d+=x);break}d+=x}g({type:"text",value:d});continue}if(d===woe){p++;let x={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=g(x),o.push(s),g({type:"open",value:d});continue}if(d===xoe){if(s.type!=="brace"){g({type:"text",value:d});continue}let y="close";s=o.pop(),s.close=!0,g({type:y,value:d}),p--,s=o[o.length-1];continue}if(d===Hoe&&p>0){if(s.ranges>0){s.ranges=0;let y=s.nodes.shift();s.nodes=[y,{type:"text",value:moe(s)}]}g({type:"comma",value:d}),s.commas++;continue}if(d===yoe&&p>0&&s.commas===0){let y=s.nodes;if(p===0||y.length===0){g({type:"text",value:d});continue}if(a.type==="dot"){if(s.range=[],a.value+=d,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){y.pop();let x=y[y.length-1];x.value+=a.value+d,a=x,s.ranges--;continue}g({type:"dot",value:d});continue}g({type:"text",value:d})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(E=>{E.nodes||(E.type==="open"&&(E.isOpen=!0),E.type==="close"&&(E.isClose=!0),E.nodes||(E.type="text"),E.invalid=!0)});let y=o[o.length-1],x=y.nodes.indexOf(s);y.nodes.splice(x,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};QF.exports=Eoe});var rB=v((MPe,tB)=>{"use strict";var eB=xv(),Doe=qF(),Coe=GF(),Poe=ZF(),In=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=In.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(In.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};In.parse=(t,e={})=>Poe(t,e);In.stringify=(t,e={})=>eB(typeof t=="string"?In.parse(t,e):t,e);In.compile=(t,e={})=>(typeof t=="string"&&(t=In.parse(t,e)),Doe(t,e));In.expand=(t,e={})=>{typeof t=="string"&&(t=In.parse(t,e));let r=Coe(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};In.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?In.compile(t,e):In.expand(t,e);tB.exports=In});var Eh=v((OPe,aB)=>{"use strict";var Toe=require("path"),wo="\\\\/",nB=`[^${wo}]`,cs="\\.",Loe="\\+",$oe="\\?",Av="\\/",koe="(?=.)",iB="[^/]",ZI=`(?:${Av}|$)`,oB=`(?:^|${Av})`,eS=`${cs}{1,2}${ZI}`,Roe=`(?!${cs})`,Moe=`(?!${oB}${eS})`,Ooe=`(?!${cs}{0,1}${ZI})`,Foe=`(?!${eS})`,Boe=`[^.${Av}]`,Noe=`${iB}*?`,sB={DOT_LITERAL:cs,PLUS_LITERAL:Loe,QMARK_LITERAL:$oe,SLASH_LITERAL:Av,ONE_CHAR:koe,QMARK:iB,END_ANCHOR:ZI,DOTS_SLASH:eS,NO_DOT:Roe,NO_DOTS:Moe,NO_DOT_SLASH:Ooe,NO_DOTS_SLASH:Foe,QMARK_NO_DOT:Boe,STAR:Noe,START_ANCHOR:oB},joe={...sB,SLASH_LITERAL:`[${wo}]`,QMARK:nB,STAR:`${nB}*?`,DOTS_SLASH:`${cs}{1,2}(?:[${wo}]|$)`,NO_DOT:`(?!${cs})`,NO_DOTS:`(?!(?:^|[${wo}])${cs}{1,2}(?:[${wo}]|$))`,NO_DOT_SLASH:`(?!${cs}{0,1}(?:[${wo}]|$))`,NO_DOTS_SLASH:`(?!${cs}{1,2}(?:[${wo}]|$))`,QMARK_NO_DOT:`[^.${wo}]`,START_ANCHOR:`(?:^|[${wo}])`,END_ANCHOR:`(?:[${wo}]|$)`},Uoe={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};aB.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Uoe,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Toe.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?joe:sB}}});var Dh=v(an=>{"use strict";var qoe=require("path"),Woe=process.platform==="win32",{REGEX_BACKSLASH:Voe,REGEX_REMOVE_BACKSLASH:Goe,REGEX_SPECIAL_CHARS:zoe,REGEX_SPECIAL_CHARS_GLOBAL:Koe}=Eh();an.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);an.hasRegexChars=t=>zoe.test(t);an.isRegexChar=t=>t.length===1&&an.hasRegexChars(t);an.escapeRegex=t=>t.replace(Koe,"\\$1");an.toPosixSlashes=t=>t.replace(Voe,"/");an.removeBackslashes=t=>t.replace(Goe,e=>e==="\\"?"":e);an.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};an.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Woe===!0||qoe.sep==="\\";an.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?an.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};an.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};an.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${t})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var mB=v((BPe,hB)=>{"use strict";var cB=Dh(),{CHAR_ASTERISK:tS,CHAR_AT:Xoe,CHAR_BACKWARD_SLASH:Ch,CHAR_COMMA:Joe,CHAR_DOT:rS,CHAR_EXCLAMATION_MARK:nS,CHAR_FORWARD_SLASH:fB,CHAR_LEFT_CURLY_BRACE:iS,CHAR_LEFT_PARENTHESES:oS,CHAR_LEFT_SQUARE_BRACKET:Yoe,CHAR_PLUS:Qoe,CHAR_QUESTION_MARK:uB,CHAR_RIGHT_CURLY_BRACE:Zoe,CHAR_RIGHT_PARENTHESES:lB,CHAR_RIGHT_SQUARE_BRACKET:ese}=Eh(),pB=t=>t===fB||t===Ch,dB=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},tse=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],c=t,u=-1,l=0,p=0,d=!1,m=!1,f=!1,g=!1,y=!1,x=!1,E=!1,$=!1,L=!1,R=!1,X=0,z,F,M={value:"",depth:0,isGlob:!1},O=()=>u>=n,C=()=>c.charCodeAt(u+1),V=()=>(z=F,c.charCodeAt(++u));for(;u<n;){F=V();let J;if(F===Ch){E=M.backslashes=!0,F=V(),F===iS&&(x=!0);continue}if(x===!0||F===iS){for(X++;O()!==!0&&(F=V());){if(F===Ch){E=M.backslashes=!0,V();continue}if(F===iS){X++;continue}if(x!==!0&&F===rS&&(F=V())===rS){if(d=M.isBrace=!0,f=M.isGlob=!0,R=!0,i===!0)continue;break}if(x!==!0&&F===Joe){if(d=M.isBrace=!0,f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===Zoe&&(X--,X===0)){x=!1,d=M.isBrace=!0,R=!0;break}}if(i===!0)continue;break}if(F===fB){if(o.push(u),s.push(M),M={value:"",depth:0,isGlob:!1},R===!0)continue;if(z===rS&&u===l+1){l+=2;continue}p=u+1;continue}if(r.noext!==!0&&(F===Qoe||F===Xoe||F===tS||F===uB||F===nS)===!0&&C()===oS){if(f=M.isGlob=!0,g=M.isExtglob=!0,R=!0,F===nS&&u===l&&(L=!0),i===!0){for(;O()!==!0&&(F=V());){if(F===Ch){E=M.backslashes=!0,F=V();continue}if(F===lB){f=M.isGlob=!0,R=!0;break}}continue}break}if(F===tS){if(z===tS&&(y=M.isGlobstar=!0),f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===uB){if(f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===Yoe){for(;O()!==!0&&(J=V());){if(J===Ch){E=M.backslashes=!0,V();continue}if(J===ese){m=M.isBracket=!0,f=M.isGlob=!0,R=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&F===nS&&u===l){$=M.negated=!0,l++;continue}if(r.noparen!==!0&&F===oS){if(f=M.isGlob=!0,i===!0){for(;O()!==!0&&(F=V());){if(F===oS){E=M.backslashes=!0,F=V();continue}if(F===lB){R=!0;break}}continue}break}if(f===!0){if(R=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,f=!1);let B=c,G="",S="";l>0&&(G=c.slice(0,l),c=c.slice(l),p-=l),B&&f===!0&&p>0?(B=c.slice(0,p),S=c.slice(p)):f===!0?(B="",S=c):B=c,B&&B!==""&&B!=="/"&&B!==c&&pB(B.charCodeAt(B.length-1))&&(B=B.slice(0,-1)),r.unescape===!0&&(S&&(S=cB.removeBackslashes(S)),B&&E===!0&&(B=cB.removeBackslashes(B)));let T={prefix:G,input:t,start:l,base:B,glob:S,isBrace:d,isBracket:m,isGlob:f,isExtglob:g,isGlobstar:y,negated:$,negatedExtglob:L};if(r.tokens===!0&&(T.maxDepth=0,pB(F)||s.push(M),T.tokens=s),r.parts===!0||r.tokens===!0){let J;for(let K=0;K<o.length;K++){let ee=J?J+1:l,ne=o[K],Q=t.slice(ee,ne);r.tokens&&(K===0&&l!==0?(s[K].isPrefix=!0,s[K].value=G):s[K].value=Q,dB(s[K]),T.maxDepth+=s[K].depth),(K!==0||Q!=="")&&a.push(Q),J=ne}if(J&&J+1<t.length){let K=t.slice(J+1);a.push(K),r.tokens&&(s[s.length-1].value=K,dB(s[s.length-1]),T.maxDepth+=s[s.length-1].depth)}T.slashes=o,T.parts=a}return T};hB.exports=tse});var yB=v((NPe,HB)=>{"use strict";var Iv=Eh(),Sn=Dh(),{MAX_LENGTH:Sv,POSIX_REGEX_SOURCE:rse,REGEX_NON_SPECIAL_CHARS:nse,REGEX_SPECIAL_CHARS_BACKREF:ise,REPLACEMENTS:gB}=Iv,ose=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>Sn.escapeRegex(i)).join("..")}return r},Gl=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,sS=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=gB[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Sv,r.maxLength):Sv,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",c=Sn.isWindows(e),u=Iv.globChars(c),l=Iv.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:d,SLASH_LITERAL:m,ONE_CHAR:f,DOTS_SLASH:g,NO_DOT:y,NO_DOT_SLASH:x,NO_DOTS_SLASH:E,QMARK:$,QMARK_NO_DOT:L,STAR:R,START_ANCHOR:X}=u,z=ie=>`(${a}(?:(?!${X}${ie.dot?g:p}).)*?)`,F=r.dot?"":y,M=r.dot?$:L,O=r.bash===!0?z(r):R;r.capture&&(O=`(${O})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let C={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=Sn.removePrefix(t,C),i=t.length;let V=[],B=[],G=[],S=o,T,J=()=>C.index===i-1,K=C.peek=(ie=1)=>t[C.index+ie],ee=C.advance=()=>t[++C.index]||"",ne=()=>t.slice(C.index+1),Q=(ie="",Le=0)=>{C.consumed+=ie,C.index+=Le},pe=ie=>{C.output+=ie.output!=null?ie.output:ie.value,Q(ie.value)},Ae=()=>{let ie=1;for(;K()==="!"&&(K(2)!=="("||K(3)==="?");)ee(),C.start++,ie++;return ie%2===0?!1:(C.negated=!0,C.start++,!0)},me=ie=>{C[ie]++,G.push(ie)},Ke=ie=>{C[ie]--,G.pop()},ge=ie=>{if(S.type==="globstar"){let Le=C.braces>0&&(ie.type==="comma"||ie.type==="brace"),te=ie.extglob===!0||V.length&&(ie.type==="pipe"||ie.type==="paren");ie.type!=="slash"&&ie.type!=="paren"&&!Le&&!te&&(C.output=C.output.slice(0,-S.output.length),S.type="star",S.value="*",S.output=O,C.output+=S.output)}if(V.length&&ie.type!=="paren"&&(V[V.length-1].inner+=ie.value),(ie.value||ie.output)&&pe(ie),S&&S.type==="text"&&ie.type==="text"){S.output=(S.output||S.value)+ie.value,S.value+=ie.value;return}ie.prev=S,s.push(ie),S=ie},Xt=(ie,Le)=>{let te={...l[Le],conditions:1,inner:""};te.prev=S,te.parens=C.parens,te.output=C.output;let ve=(r.capture?"(":"")+te.open;me("parens"),ge({type:ie,value:Le,output:C.output?"":f}),ge({type:"paren",extglob:!0,value:ee(),output:ve}),V.push(te)},Xe=ie=>{let Le=ie.close+(r.capture?")":""),te;if(ie.type==="negate"){let ve=O;if(ie.inner&&ie.inner.length>1&&ie.inner.includes("/")&&(ve=z(r)),(ve!==O||J()||/^\)+$/.test(ne()))&&(Le=ie.close=`)$))${ve}`),ie.inner.includes("*")&&(te=ne())&&/^\.[^\\/.]+$/.test(te)){let Ue=sS(te,{...e,fastpaths:!1}).output;Le=ie.close=`)${Ue})${ve})`}ie.prev.type==="bos"&&(C.negatedExtglob=!0)}ge({type:"paren",extglob:!0,value:T,output:Le}),Ke("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let ie=!1,Le=t.replace(ise,(te,ve,Ue,Ht,xt,Gs)=>Ht==="\\"?(ie=!0,te):Ht==="?"?ve?ve+Ht+(xt?$.repeat(xt.length):""):Gs===0?M+(xt?$.repeat(xt.length):""):$.repeat(Ue.length):Ht==="."?p.repeat(Ue.length):Ht==="*"?ve?ve+Ht+(xt?O:""):O:ve?te:`\\${te}`);return ie===!0&&(r.unescape===!0?Le=Le.replace(/\\/g,""):Le=Le.replace(/\\+/g,te=>te.length%2===0?"\\\\":te?"\\":"")),Le===t&&r.contains===!0?(C.output=t,C):(C.output=Sn.wrapOutput(Le,C,e),C)}for(;!J();){if(T=ee(),T==="\0")continue;if(T==="\\"){let te=K();if(te==="/"&&r.bash!==!0||te==="."||te===";")continue;if(!te){T+="\\",ge({type:"text",value:T});continue}let ve=/^\\+/.exec(ne()),Ue=0;if(ve&&ve[0].length>2&&(Ue=ve[0].length,C.index+=Ue,Ue%2!==0&&(T+="\\")),r.unescape===!0?T=ee():T+=ee(),C.brackets===0){ge({type:"text",value:T});continue}}if(C.brackets>0&&(T!=="]"||S.value==="["||S.value==="[^")){if(r.posix!==!1&&T===":"){let te=S.value.slice(1);if(te.includes("[")&&(S.posix=!0,te.includes(":"))){let ve=S.value.lastIndexOf("["),Ue=S.value.slice(0,ve),Ht=S.value.slice(ve+2),xt=rse[Ht];if(xt){S.value=Ue+xt,C.backtrack=!0,ee(),!o.output&&s.indexOf(S)===1&&(o.output=f);continue}}}(T==="["&&K()!==":"||T==="-"&&K()==="]")&&(T=`\\${T}`),T==="]"&&(S.value==="["||S.value==="[^")&&(T=`\\${T}`),r.posix===!0&&T==="!"&&S.value==="["&&(T="^"),S.value+=T,pe({value:T});continue}if(C.quotes===1&&T!=='"'){T=Sn.escapeRegex(T),S.value+=T,pe({value:T});continue}if(T==='"'){C.quotes=C.quotes===1?0:1,r.keepQuotes===!0&&ge({type:"text",value:T});continue}if(T==="("){me("parens"),ge({type:"paren",value:T});continue}if(T===")"){if(C.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Gl("opening","("));let te=V[V.length-1];if(te&&C.parens===te.parens+1){Xe(V.pop());continue}ge({type:"paren",value:T,output:C.parens?")":"\\)"}),Ke("parens");continue}if(T==="["){if(r.nobracket===!0||!ne().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Gl("closing","]"));T=`\\${T}`}else me("brackets");ge({type:"bracket",value:T});continue}if(T==="]"){if(r.nobracket===!0||S&&S.type==="bracket"&&S.value.length===1){ge({type:"text",value:T,output:`\\${T}`});continue}if(C.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Gl("opening","["));ge({type:"text",value:T,output:`\\${T}`});continue}Ke("brackets");let te=S.value.slice(1);if(S.posix!==!0&&te[0]==="^"&&!te.includes("/")&&(T=`/${T}`),S.value+=T,pe({value:T}),r.literalBrackets===!1||Sn.hasRegexChars(te))continue;let ve=Sn.escapeRegex(S.value);if(C.output=C.output.slice(0,-S.value.length),r.literalBrackets===!0){C.output+=ve,S.value=ve;continue}S.value=`(${a}${ve}|${S.value})`,C.output+=S.value;continue}if(T==="{"&&r.nobrace!==!0){me("braces");let te={type:"brace",value:T,output:"(",outputIndex:C.output.length,tokensIndex:C.tokens.length};B.push(te),ge(te);continue}if(T==="}"){let te=B[B.length-1];if(r.nobrace===!0||!te){ge({type:"text",value:T,output:T});continue}let ve=")";if(te.dots===!0){let Ue=s.slice(),Ht=[];for(let xt=Ue.length-1;xt>=0&&(s.pop(),Ue[xt].type!=="brace");xt--)Ue[xt].type!=="dots"&&Ht.unshift(Ue[xt].value);ve=ose(Ht,r),C.backtrack=!0}if(te.comma!==!0&&te.dots!==!0){let Ue=C.output.slice(0,te.outputIndex),Ht=C.tokens.slice(te.tokensIndex);te.value=te.output="\\{",T=ve="\\}",C.output=Ue;for(let xt of Ht)C.output+=xt.output||xt.value}ge({type:"brace",value:T,output:ve}),Ke("braces"),B.pop();continue}if(T==="|"){V.length>0&&V[V.length-1].conditions++,ge({type:"text",value:T});continue}if(T===","){let te=T,ve=B[B.length-1];ve&&G[G.length-1]==="braces"&&(ve.comma=!0,te="|"),ge({type:"comma",value:T,output:te});continue}if(T==="/"){if(S.type==="dot"&&C.index===C.start+1){C.start=C.index+1,C.consumed="",C.output="",s.pop(),S=o;continue}ge({type:"slash",value:T,output:m});continue}if(T==="."){if(C.braces>0&&S.type==="dot"){S.value==="."&&(S.output=p);let te=B[B.length-1];S.type="dots",S.output+=T,S.value+=T,te.dots=!0;continue}if(C.braces+C.parens===0&&S.type!=="bos"&&S.type!=="slash"){ge({type:"text",value:T,output:p});continue}ge({type:"dot",value:T,output:p});continue}if(T==="?"){if(!(S&&S.value==="(")&&r.noextglob!==!0&&K()==="("&&K(2)!=="?"){Xt("qmark",T);continue}if(S&&S.type==="paren"){let ve=K(),Ue=T;if(ve==="<"&&!Sn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(S.value==="("&&!/[!=<:]/.test(ve)||ve==="<"&&!/<([!=]|\w+>)/.test(ne()))&&(Ue=`\\${T}`),ge({type:"text",value:T,output:Ue});continue}if(r.dot!==!0&&(S.type==="slash"||S.type==="bos")){ge({type:"qmark",value:T,output:L});continue}ge({type:"qmark",value:T,output:$});continue}if(T==="!"){if(r.noextglob!==!0&&K()==="("&&(K(2)!=="?"||!/[!=<:]/.test(K(3)))){Xt("negate",T);continue}if(r.nonegate!==!0&&C.index===0){Ae();continue}}if(T==="+"){if(r.noextglob!==!0&&K()==="("&&K(2)!=="?"){Xt("plus",T);continue}if(S&&S.value==="("||r.regex===!1){ge({type:"plus",value:T,output:d});continue}if(S&&(S.type==="bracket"||S.type==="paren"||S.type==="brace")||C.parens>0){ge({type:"plus",value:T});continue}ge({type:"plus",value:d});continue}if(T==="@"){if(r.noextglob!==!0&&K()==="("&&K(2)!=="?"){ge({type:"at",extglob:!0,value:T,output:""});continue}ge({type:"text",value:T});continue}if(T!=="*"){(T==="$"||T==="^")&&(T=`\\${T}`);let te=nse.exec(ne());te&&(T+=te[0],C.index+=te[0].length),ge({type:"text",value:T});continue}if(S&&(S.type==="globstar"||S.star===!0)){S.type="star",S.star=!0,S.value+=T,S.output=O,C.backtrack=!0,C.globstar=!0,Q(T);continue}let ie=ne();if(r.noextglob!==!0&&/^\([^?]/.test(ie)){Xt("star",T);continue}if(S.type==="star"){if(r.noglobstar===!0){Q(T);continue}let te=S.prev,ve=te.prev,Ue=te.type==="slash"||te.type==="bos",Ht=ve&&(ve.type==="star"||ve.type==="globstar");if(r.bash===!0&&(!Ue||ie[0]&&ie[0]!=="/")){ge({type:"star",value:T,output:""});continue}let xt=C.braces>0&&(te.type==="comma"||te.type==="brace"),Gs=V.length&&(te.type==="pipe"||te.type==="paren");if(!Ue&&te.type!=="paren"&&!xt&&!Gs){ge({type:"star",value:T,output:""});continue}for(;ie.slice(0,3)==="/**";){let zs=t[C.index+4];if(zs&&zs!=="/")break;ie=ie.slice(3),Q("/**",3)}if(te.type==="bos"&&J()){S.type="globstar",S.value+=T,S.output=z(r),C.output=S.output,C.globstar=!0,Q(T);continue}if(te.type==="slash"&&te.prev.type!=="bos"&&!Ht&&J()){C.output=C.output.slice(0,-(te.output+S.output).length),te.output=`(?:${te.output}`,S.type="globstar",S.output=z(r)+(r.strictSlashes?")":"|$)"),S.value+=T,C.globstar=!0,C.output+=te.output+S.output,Q(T);continue}if(te.type==="slash"&&te.prev.type!=="bos"&&ie[0]==="/"){let zs=ie[1]!==void 0?"|$":"";C.output=C.output.slice(0,-(te.output+S.output).length),te.output=`(?:${te.output}`,S.type="globstar",S.output=`${z(r)}${m}|${m}${zs})`,S.value+=T,C.output+=te.output+S.output,C.globstar=!0,Q(T+ee()),ge({type:"slash",value:"/",output:""});continue}if(te.type==="bos"&&ie[0]==="/"){S.type="globstar",S.value+=T,S.output=`(?:^|${m}|${z(r)}${m})`,C.output=S.output,C.globstar=!0,Q(T+ee()),ge({type:"slash",value:"/",output:""});continue}C.output=C.output.slice(0,-S.output.length),S.type="globstar",S.output=z(r),S.value+=T,C.output+=S.output,C.globstar=!0,Q(T);continue}let Le={type:"star",value:T,output:O};if(r.bash===!0){Le.output=".*?",(S.type==="bos"||S.type==="slash")&&(Le.output=F+Le.output),ge(Le);continue}if(S&&(S.type==="bracket"||S.type==="paren")&&r.regex===!0){Le.output=T,ge(Le);continue}(C.index===C.start||S.type==="slash"||S.type==="dot")&&(S.type==="dot"?(C.output+=x,S.output+=x):r.dot===!0?(C.output+=E,S.output+=E):(C.output+=F,S.output+=F),K()!=="*"&&(C.output+=f,S.output+=f)),ge(Le)}for(;C.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gl("closing","]"));C.output=Sn.escapeLast(C.output,"["),Ke("brackets")}for(;C.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gl("closing",")"));C.output=Sn.escapeLast(C.output,"("),Ke("parens")}for(;C.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gl("closing","}"));C.output=Sn.escapeLast(C.output,"{"),Ke("braces")}if(r.strictSlashes!==!0&&(S.type==="star"||S.type==="bracket")&&ge({type:"maybe_slash",value:"",output:`${m}?`}),C.backtrack===!0){C.output="";for(let ie of C.tokens)C.output+=ie.output!=null?ie.output:ie.value,ie.suffix&&(C.output+=ie.suffix)}return C};sS.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Sv,r.maxLength):Sv,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=gB[t]||t;let o=Sn.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:d,STAR:m,START_ANCHOR:f}=Iv.globChars(o),g=r.dot?p:l,y=r.dot?d:l,x=r.capture?"":"?:",E={negated:!1,prefix:""},$=r.bash===!0?".*?":m;r.capture&&($=`(${$})`);let L=F=>F.noglobstar===!0?$:`(${x}(?:(?!${f}${F.dot?u:s}).)*?)`,R=F=>{switch(F){case"*":return`${g}${c}${$}`;case".*":return`${s}${c}${$}`;case"*.*":return`${g}${$}${s}${c}${$}`;case"*/*":return`${g}${$}${a}${c}${y}${$}`;case"**":return g+L(r);case"**/*":return`(?:${g}${L(r)}${a})?${y}${c}${$}`;case"**/*.*":return`(?:${g}${L(r)}${a})?${y}${$}${s}${c}${$}`;case"**/.*":return`(?:${g}${L(r)}${a})?${s}${c}${$}`;default:{let M=/^(.*?)\.(\w+)$/.exec(F);if(!M)return;let O=R(M[1]);return O?O+s+M[2]:void 0}}},X=Sn.removePrefix(t,E),z=R(X);return z&&r.strictSlashes!==!0&&(z+=`${a}?`),z};HB.exports=sS});var bB=v((jPe,vB)=>{"use strict";var sse=require("path"),ase=mB(),aS=yB(),cS=Dh(),cse=Eh(),use=t=>t&&typeof t=="object"&&!Array.isArray(t),Mt=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(d=>Mt(d,e,r));return d=>{for(let m of l){let f=m(d);if(f)return f}return!1}}let n=use(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=cS.isWindows(e),s=n?Mt.compileRe(t,e):Mt.makeRe(t,e,!1,!0),a=s.state;delete s.state;let c=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=Mt(i.ignore,l,r)}let u=(l,p=!1)=>{let{isMatch:d,match:m,output:f}=Mt.test(l,s,e,{glob:t,posix:o}),g={glob:t,state:a,regex:s,posix:o,input:l,output:f,match:m,isMatch:d};return typeof i.onResult=="function"&&i.onResult(g),d===!1?(g.isMatch=!1,p?g:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return r&&(u.state=a),u};Mt.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?cS.toPosixSlashes:null),a=t===n,c=a&&s?s(t):t;return a===!1&&(c=s?s(t):t,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Mt.matchBase(t,e,r,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};Mt.matchBase=(t,e,r,n=cS.isWindows(r))=>(e instanceof RegExp?e:Mt.makeRe(e,r)).test(sse.basename(t));Mt.isMatch=(t,e,r)=>Mt(e,r)(t);Mt.parse=(t,e)=>Array.isArray(t)?t.map(r=>Mt.parse(r,e)):aS(t,{...e,fastpaths:!1});Mt.scan=(t,e)=>ase(t,e);Mt.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${t.output})${s}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Mt.toRegex(a,e);return n===!0&&(c.state=t),c};Mt.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=aS.fastpaths(t,e)),i.output||(i=aS(t,e)),Mt.compileRe(i,e,r,n)};Mt.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Mt.constants=cse;vB.exports=Mt});var xB=v((UPe,wB)=>{"use strict";wB.exports=bB()});var Ph=v((qPe,SB)=>{"use strict";var AB=require("util"),IB=rB(),xo=xB(),uS=Dh(),_B=t=>t===""||t==="./",bt=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=xo(String(e[l]),{...r,onResult:a},!0),d=p.state.negated||p.state.negatedExtglob;d&&s++;for(let m of t){let f=p(m,!0);(d?!f.isMatch:f.isMatch)&&(d?n.add(f.output):(n.delete(f.output),i.add(f.output)))}}let u=(s===e.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&u.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};bt.match=bt;bt.matcher=(t,e)=>xo(t,e);bt.isMatch=(t,e,r)=>xo(e,r)(t);bt.any=bt.isMatch;bt.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=new Set(bt(t,e,{...r,onResult:o}));for(let a of i)s.has(a)||n.add(a);return[...n]};bt.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${AB.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>bt.contains(t,n,r));if(typeof e=="string"){if(_B(t)||_B(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return bt.isMatch(t,e,{...r,contains:!0})};bt.matchKeys=(t,e,r)=>{if(!uS.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=bt(Object.keys(t),e,r),i={};for(let o of n)i[o]=t[o];return i};bt.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=xo(String(i),r);if(n.some(s=>o(s)))return!0}return!1};bt.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=xo(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};bt.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${AB.inspect(t)}"`);return[].concat(e).every(n=>xo(n,r)(t))};bt.capture=(t,e,r)=>{let n=uS.isWindows(r),o=xo.makeRe(String(t),{...r,capture:!0}).exec(n?uS.toPosixSlashes(e):e);if(o)return o.slice(1).map(s=>s===void 0?"":s)};bt.makeRe=(...t)=>xo.makeRe(...t);bt.scan=(...t)=>xo.scan(...t);bt.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of IB(String(n),e))r.push(xo.parse(i,e));return r};bt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:IB(t,e)};bt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return bt.braces(t,{...e,expand:!0})};SB.exports=bt});var PB=v(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});function fse(t){let e=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(let s of t){let a=r,c=s.codePointAt(0),u=0-(-(c&4294967168)>>31)-(-(c&4294965248)>>31)-(-(c&4294901760)>>31),l=i[u],p=o[u];a[3]=p|c&l,a[2]=p|c>>>6&l,a[1]=p|c>>>12&l,a[0]=p|c>>>18&l;let d=3-u;a[d]|=n[u],Array.prototype.push.apply(e,a.slice(d))}return new Uint8Array(e)}da.toUtf8_1=fse;function hse(t){let e=[];for(let r of t){let n=r.codePointAt(0);n<128?e.push(n):n<2048?e.push(192|n>>6&31,128|n&63):n<65536?e.push(224|n>>12&15,128|n>>6&63,128|n&63):e.push(240|n>>18&7,128|n>>12&63,128|n>>6&63,128|n&63)}return new Uint8Array(e)}da.toUtf8_2=hse;function CB(t){let e=[];for(let r=0,n=t.length;r<n;++r){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6,128|i&63);else if(i<55296||i>=57344)e.push(224|i>>12,128|i>>6&63,128|i&63);else{let o=65536+((i&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}}return new Uint8Array(e)}da.toUtf8_3=CB;da.toUtf8=CB;da.default=da.toUtf8});var $B=v(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});var mse=PB(),Jl=2654435761,Yl=2246822519,Ev=3266489917,TB=668265263,LB=374761393;function gse(t,e=0){t=typeof t=="string"?mse.default(t):t;let r=t,n=e+LB&4294967295,i=0;if(r.length>=16){let s=[e+Jl+Yl&4294967295,e+Yl&4294967295,e+0&4294967295,e-Jl&4294967295],a=t,c=a.length-16,u=0;for(i=0;(i&4294967280)<=c;i+=4){let l=i,p=a[l+0]+(a[l+1]<<8),d=a[l+2]+(a[l+3]<<8),m=p*Yl+(d*Yl<<16),f=s[u]+m&4294967295;f=f<<13|f>>>19;let g=f&65535,y=f>>>16;s[u]=g*Jl+(y*Jl<<16)&4294967295,u=u+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let o=t.length-4;for(;i<=o;i+=4){let s=i,a=r[s+0]+(r[s+1]<<8),c=r[s+2]+(r[s+3]<<8),u=a*Ev+(c*Ev<<16);n=n+u&4294967295,n=n<<17|n>>>15,n=(n&65535)*TB+((n>>>16)*TB<<16)&4294967295}for(;i<r.length;++i){let s=r[i];n=n+s*LB,n=n<<11|n>>>21,n=(n&65535)*Jl+((n>>>16)*Jl<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*Yl&4294967295)+((n>>>16)*Yl<<16),n=n^n>>>13,n=((n&65535)*Ev&4294967295)+((n>>>16)*Ev<<16),n=n^n>>>16,n<0?n+4294967296:n}lS.xxHash32=gse});var kB=v(Dv=>{"use strict";function Hse(t){for(var e in t)Dv.hasOwnProperty(e)||(Dv[e]=t[e])}Object.defineProperty(Dv,"__esModule",{value:!0});Hse($B())});var ZB=v((ULe,QB)=>{"use strict";var{Duplex:_se}=require("stream");function JB(t){t.emit("close")}function Ase(){!this.destroyed&&this._writableState.finished&&this.destroy()}function YB(t){this.removeListener("error",YB),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Ise(t,e){let r=!0,n=new _se({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(JB,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(JB,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",Ase),n.on("error",YB),n}QB.exports=Ise});var ha=v((qLe,eN)=>{"use strict";eN.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Rh=v((WLe,kv)=>{"use strict";var{EMPTY_BUFFER:Sse}=ha(),vS=Buffer[Symbol.species];function Ese(t,e){if(t.length===0)return Sse;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new vS(r.buffer,r.byteOffset,n):r}function tN(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function rN(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function Dse(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function bS(t){if(bS.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new vS(t):ArrayBuffer.isView(t)?e=new vS(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),bS.readOnly=!1),e}kv.exports={concat:Ese,mask:tN,toArrayBuffer:Dse,toBuffer:bS,unmask:rN};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");kv.exports.mask=function(e,r,n,i,o){o<48?tN(e,r,n,i,o):t.mask(e,r,n,i,o)},kv.exports.unmask=function(e,r){e.length<32?rN(e,r):t.unmask(e,r)}}catch{}});var oN=v((VLe,iN)=>{"use strict";var nN=Symbol("kDone"),wS=Symbol("kRun"),xS=class{constructor(e){this[nN]=()=>{this.pending--,this[wS]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[wS]()}[wS](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[nN])}}};iN.exports=xS});var Fh=v((GLe,uN)=>{"use strict";var Mh=require("zlib"),sN=Rh(),Cse=oN(),{kStatusCode:aN}=ha(),Pse=Buffer[Symbol.species],Tse=Buffer.from([0,0,255,255]),Ov=Symbol("permessage-deflate"),ls=Symbol("total-length"),Oh=Symbol("callback"),ma=Symbol("buffers"),Mv=Symbol("error"),Rv,_S=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Rv){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Rv=new Cse(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Oh];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){Rv.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){Rv.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Mh.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Mh.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Ov]=this,this._inflate[ls]=0,this._inflate[ma]=[],this._inflate.on("error",$se),this._inflate.on("data",cN)}this._inflate[Oh]=n,this._inflate.write(e),r&&this._inflate.write(Tse),this._inflate.flush(()=>{let o=this._inflate[Mv];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=sN.concat(this._inflate[ma],this._inflate[ls]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ls]=0,this._inflate[ma]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Mh.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Mh.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[ls]=0,this._deflate[ma]=[],this._deflate.on("data",Lse)}this._deflate[Oh]=n,this._deflate.write(e),this._deflate.flush(Mh.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=sN.concat(this._deflate[ma],this._deflate[ls]);r&&(o=new Pse(o.buffer,o.byteOffset,o.length-4)),this._deflate[Oh]=null,this._deflate[ls]=0,this._deflate[ma]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};uN.exports=_S;function Lse(t){this[ma].push(t),this[ls]+=t.length}function cN(t){if(this[ls]+=t.length,this[Ov]._maxPayload<1||this[ls]<=this[Ov]._maxPayload){this[ma].push(t);return}this[Mv]=new RangeError("Max payload size exceeded"),this[Mv].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Mv][aN]=1009,this.removeListener("data",cN),this.reset()}function $se(t){this[Ov]._inflate=null,t[aN]=1007,this[Oh](t)}});var Bh=v((zLe,Fv)=>{"use strict";var{isUtf8:lN}=require("buffer"),kse=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Rse(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function AS(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}Fv.exports={isValidStatusCode:Rse,isValidUTF8:AS,tokenChars:kse};if(lN)Fv.exports.isValidUTF8=function(t){return t.length<24?AS(t):lN(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");Fv.exports.isValidUTF8=function(e){return e.length<32?AS(e):t(e)}}catch{}});var CS=v((KLe,yN)=>{"use strict";var{Writable:Mse}=require("stream"),pN=Fh(),{BINARY_TYPES:Ose,EMPTY_BUFFER:dN,kStatusCode:Fse,kWebSocket:Bse}=ha(),{concat:IS,toArrayBuffer:Nse,unmask:jse}=Rh(),{isValidStatusCode:Use,isValidUTF8:fN}=Bh(),Bv=Buffer[Symbol.species],qse=Promise.resolve(),Wse=typeof queueMicrotask=="function"?queueMicrotask:Vse,ip=0,hN=1,mN=2,gN=3,SS=4,HN=5,ES=6,DS=class extends Mse{constructor(e={}){super(),this._binaryType=e.binaryType||Ose[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Bse]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=ip,this._loop=!1}_write(e,r,n){if(this._opcode===8&&this._state==ip)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Bv(n.buffer,n.byteOffset+e,n.length-e),new Bv(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Bv(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case ip:r=this.getInfo();break;case hN:r=this.getPayloadLength16();break;case mN:r=this.getPayloadLength64();break;case gN:this.getMask();break;case SS:r=this.getData(e);break;case HN:this._loop=!1;return;default:this._loop=!1,Wse(()=>{this._state=ip,this.startLoop(e)});return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,pr(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[pN.extensionName])return this._loop=!1,pr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,pr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,pr(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,pr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,pr(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,pr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,pr(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,pr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,pr(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,pr(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=hN;else if(this._payloadLength===127)this._state=mN;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,pr(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,pr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=gN:this._state=SS}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=SS}getData(e){let r=dN;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&jse(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=HN,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[pN.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(pr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let s=this.dataMessage();if(s)return r(s);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=IS(r,e):this._binaryType==="arraybuffer"?n=Nse(IS(r,e)):n=r,this.emit("message",n,!0)}else{let n=IS(r,e);if(!this._skipUTF8Validation&&!fN(n))return this._loop=!1,pr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=ES}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,dN),this.end(),this._state=ip;else{let r=e.readUInt16BE(0);if(!Use(r))return pr(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new Bv(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!fN(n))return pr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end(),this._state=ip}else this._opcode===9?(this.emit("ping",e),this._state=ES):(this.emit("pong",e),this._state=ES)}};yN.exports=DS;function pr(t,e,r,n,i){let o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,pr),o.code=i,o[Fse]=n,o}function Vse(t){qse.then(t).catch(zse)}function Gse(t){throw t}function zse(t){process.nextTick(Gse,t)}});var TS=v((JLe,wN)=>{"use strict";var{Duplex:XLe}=require("stream"),{randomFillSync:Kse}=require("crypto"),vN=Fh(),{EMPTY_BUFFER:Xse}=ha(),{isValidStatusCode:Jse}=Bh(),{mask:bN,toBuffer:op}=Rh(),Ci=Symbol("kByteLength"),Yse=Buffer.alloc(4),PS=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||Yse,r.generateMask?r.generateMask(n):Kse(n,0,4),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Ci]!==void 0?a=r[Ci]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(i?a+o:o);return u[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(u[0]|=64),u[1]=c,c===126?u.writeUInt16BE(a,2):c===127&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),r.mask?(u[1]|=128,u[o-4]=n[0],u[o-3]=n[1],u[o-2]=n[2],u[o-1]=n[3],s?[u,e]:i?(bN(e,n,u,o,a),[u]):(bN(e,n,e,0,a),[u,e])):[u,e]}close(e,r,n,i){let o;if(e===void 0)o=Xse;else{if(typeof e!="number"||!Jse(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Ci]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=op(e),i=e.length,o=op.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ci]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=op(e),i=e.length,o=op.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ci]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[vN.extensionName],o=r.binary?2:1,s=r.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=op(e),a=e.length,c=op.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0),i){let u={[Ci]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n)}else this.sendFrame(t.frame(e,{[Ci]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[vN.extensionName];this._bufferedBytes+=n[Ci],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let u=0;u<this._queue.length;u++){let l=this._queue[u],p=l[l.length-1];typeof p=="function"&&p(c)}return}this._bufferedBytes-=n[Ci],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Ci],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ci],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};wN.exports=PS});var PN=v((YLe,CN)=>{"use strict";var{kForOnEventAttribute:Nh,kListener:LS}=ha(),xN=Symbol("kCode"),_N=Symbol("kData"),AN=Symbol("kError"),IN=Symbol("kMessage"),SN=Symbol("kReason"),sp=Symbol("kTarget"),EN=Symbol("kType"),DN=Symbol("kWasClean"),ps=class{constructor(e){this[sp]=null,this[EN]=e}get target(){return this[sp]}get type(){return this[EN]}};Object.defineProperty(ps.prototype,"target",{enumerable:!0});Object.defineProperty(ps.prototype,"type",{enumerable:!0});var Qc=class extends ps{constructor(e,r={}){super(e),this[xN]=r.code===void 0?0:r.code,this[SN]=r.reason===void 0?"":r.reason,this[DN]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[xN]}get reason(){return this[SN]}get wasClean(){return this[DN]}};Object.defineProperty(Qc.prototype,"code",{enumerable:!0});Object.defineProperty(Qc.prototype,"reason",{enumerable:!0});Object.defineProperty(Qc.prototype,"wasClean",{enumerable:!0});var ap=class extends ps{constructor(e,r={}){super(e),this[AN]=r.error===void 0?null:r.error,this[IN]=r.message===void 0?"":r.message}get error(){return this[AN]}get message(){return this[IN]}};Object.defineProperty(ap.prototype,"error",{enumerable:!0});Object.defineProperty(ap.prototype,"message",{enumerable:!0});var jh=class extends ps{constructor(e,r={}){super(e),this[_N]=r.data===void 0?null:r.data}get data(){return this[_N]}};Object.defineProperty(jh.prototype,"data",{enumerable:!0});var Qse={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[Nh]&&i[LS]===e&&!i[Nh])return;let n;if(t==="message")n=function(o,s){let a=new jh("message",{data:s?o:o.toString()});a[sp]=this,Nv(e,this,a)};else if(t==="close")n=function(o,s){let a=new Qc("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[sp]=this,Nv(e,this,a)};else if(t==="error")n=function(o){let s=new ap("error",{error:o,message:o.message});s[sp]=this,Nv(e,this,s)};else if(t==="open")n=function(){let o=new ps("open");o[sp]=this,Nv(e,this,o)};else return;n[Nh]=!!r[Nh],n[LS]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[LS]===e&&!r[Nh]){this.removeListener(t,r);break}}};CN.exports={CloseEvent:Qc,ErrorEvent:ap,Event:ps,EventTarget:Qse,MessageEvent:jh};function Nv(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var $S=v((QLe,TN)=>{"use strict";var{tokenChars:Uh}=Bh();function Do(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function Zse(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,u=-1,l=-1,p=0;for(;p<t.length;p++)if(u=t.charCodeAt(p),s===void 0)if(l===-1&&Uh[u]===1)c===-1&&(c=p);else if(p!==0&&(u===32||u===9))l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(c,l);u===44?(Do(e,m,r),r=Object.create(null)):s=m,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&Uh[u]===1)c===-1&&(c=p);else if(u===32||u===9)l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Do(r,t.slice(c,l),!0),u===44&&(Do(e,s,r),r=Object.create(null),s=void 0),c=l=-1}else if(u===61&&c!==-1&&l===-1)a=t.slice(c,p),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if(Uh[u]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1?c=p:n||(n=!0),i=!1}else if(o)if(Uh[u]===1)c===-1&&(c=p);else if(u===34&&c!==-1)o=!1,l=p;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(u===34&&t.charCodeAt(p-1)===61)o=!0;else if(l===-1&&Uh[u]===1)c===-1&&(c=p);else if(c!==-1&&(u===32||u===9))l===-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(c,l);n&&(m=m.replace(/\\/g,""),n=!1),Do(r,a,m),u===44&&(Do(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(c===-1||o||u===32||u===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let d=t.slice(c,l);return s===void 0?Do(e,d,r):(a===void 0?Do(r,d,!0):n?Do(r,a,d.replace(/\\/g,"")):Do(r,a,d),Do(e,s,r)),e}function eae(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}TN.exports={format:eae,parse:Zse}});var FS=v((t$e,UN)=>{"use strict";var tae=require("events"),rae=require("https"),nae=require("http"),kN=require("net"),iae=require("tls"),{randomBytes:oae,createHash:sae}=require("crypto"),{Duplex:ZLe,Readable:e$e}=require("stream"),{URL:kS}=require("url"),ga=Fh(),aae=CS(),cae=TS(),{BINARY_TYPES:LN,EMPTY_BUFFER:jv,GUID:uae,kForOnEventAttribute:RS,kListener:lae,kStatusCode:pae,kWebSocket:Nr,NOOP:RN}=ha(),{EventTarget:{addEventListener:dae,removeEventListener:fae}}=PN(),{format:hae,parse:mae}=$S(),{toBuffer:gae}=Rh(),Hae=30*1e3,MN=Symbol("kAborted"),MS=[8,13],ds=["CONNECTING","OPEN","CLOSING","CLOSED"],yae=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ot=class t extends tae{constructor(e,r,n){super(),this._binaryType=LN[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=jv,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),ON(this,e,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){LN.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new aae({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new cae(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[Nr]=this,e[Nr]=this,i.on("conclude",wae),i.on("drain",xae),i.on("error",_ae),i.on("message",Aae),i.on("ping",Iae),i.on("pong",Sae),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",BN),e.on("data",qv),e.on("end",NN),e.on("error",jN),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[ga.extensionName]&&this._extensions[ga.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let n="WebSocket was closed before the connection was established";En(this,this._req,n);return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Hae)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){OS(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||jv,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){OS(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||jv,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){OS(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[ga.extensionName]||(i.compress=!1),this._sender.send(e||jv,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let e="WebSocket was closed before the connection was established";En(this,this._req,e);return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ot,"CONNECTING",{enumerable:!0,value:ds.indexOf("CONNECTING")});Object.defineProperty(Ot.prototype,"CONNECTING",{enumerable:!0,value:ds.indexOf("CONNECTING")});Object.defineProperty(Ot,"OPEN",{enumerable:!0,value:ds.indexOf("OPEN")});Object.defineProperty(Ot.prototype,"OPEN",{enumerable:!0,value:ds.indexOf("OPEN")});Object.defineProperty(Ot,"CLOSING",{enumerable:!0,value:ds.indexOf("CLOSING")});Object.defineProperty(Ot.prototype,"CLOSING",{enumerable:!0,value:ds.indexOf("CLOSING")});Object.defineProperty(Ot,"CLOSED",{enumerable:!0,value:ds.indexOf("CLOSED")});Object.defineProperty(Ot.prototype,"CLOSED",{enumerable:!0,value:ds.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Ot.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Ot.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[RS])return e[lae];return null},set(e){for(let r of this.listeners(t))if(r[RS]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[RS]:!0})}})});Ot.prototype.addEventListener=dae;Ot.prototype.removeEventListener=fae;UN.exports=Ot;function ON(t,e,r,n){let i={protocolVersion:MS[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!MS.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${MS.join(", ")})`);let o;if(e instanceof kS)o=e;else try{o=new kS(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let g=new SyntaxError(c);if(t._redirects===0)throw g;Uv(t,g);return}let u=s?443:80,l=oae(16).toString("base64"),p=s?rae.request:nae.request,d=new Set,m;if(i.createConnection=s?bae:vae,i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new ga(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=hae({[ga.extensionName]:m.offer()})),r.length){for(let g of r){if(typeof g!="string"||!yae.test(g)||d.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(g)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let g=i.path.split(":");i.socketPath=g[0],i.path=g[1]}let f;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[y,x]of Object.entries(g))n.headers[y.toLowerCase()]=x}else if(t.listenerCount("redirect")===0){let g=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!g||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,g||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),f=t._req=p(i),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=p(i);i.timeout&&f.on("timeout",()=>{En(t,f,"Opening handshake has timed out")}),f.on("error",g=>{f===null||f[MN]||(f=t._req=null,Uv(t,g))}),f.on("response",g=>{let y=g.headers.location,x=g.statusCode;if(y&&i.followRedirects&&x>=300&&x<400){if(++t._redirects>i.maxRedirects){En(t,f,"Maximum redirects exceeded");return}f.abort();let E;try{E=new kS(y,e)}catch{let L=new SyntaxError(`Invalid URL: ${y}`);Uv(t,L);return}ON(t,E,r,n)}else t.emit("unexpected-response",f,g)||En(t,f,`Unexpected server response: ${g.statusCode}`)}),f.on("upgrade",(g,y,x)=>{if(t.emit("upgrade",g),t.readyState!==Ot.CONNECTING)return;if(f=t._req=null,g.headers.upgrade.toLowerCase()!=="websocket"){En(t,y,"Invalid Upgrade header");return}let E=sae("sha1").update(l+uae).digest("base64");if(g.headers["sec-websocket-accept"]!==E){En(t,y,"Invalid Sec-WebSocket-Accept header");return}let $=g.headers["sec-websocket-protocol"],L;if($!==void 0?d.size?d.has($)||(L="Server sent an invalid subprotocol"):L="Server sent a subprotocol but none was requested":d.size&&(L="Server sent no subprotocol"),L){En(t,y,L);return}$&&(t._protocol=$);let R=g.headers["sec-websocket-extensions"];if(R!==void 0){if(!m){En(t,y,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let X;try{X=mae(R)}catch{En(t,y,"Invalid Sec-WebSocket-Extensions header");return}let z=Object.keys(X);if(z.length!==1||z[0]!==ga.extensionName){En(t,y,"Server indicated an extension that was not requested");return}try{m.accept(X[ga.extensionName])}catch{En(t,y,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[ga.extensionName]=m}t.setSocket(y,x,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(f,t):f.end()}function Uv(t,e){t._readyState=Ot.CLOSING,t.emit("error",e),t.emitClose()}function vae(t){return t.path=t.socketPath,kN.connect(t)}function bae(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=kN.isIP(t.host)?"":t.host),iae.connect(t)}function En(t,e,r){t._readyState=Ot.CLOSING;let n=new Error(r);Error.captureStackTrace(n,En),e.setHeader?(e[MN]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Uv,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function OS(t,e,r){if(e){let n=gae(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${ds[t.readyState]})`);process.nextTick(r,n)}}function wae(t,e){let r=this[Nr];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Nr]!==void 0&&(r._socket.removeListener("data",qv),process.nextTick(FN,r._socket),t===1005?r.close():r.close(t,e))}function xae(){let t=this[Nr];t.isPaused||t._socket.resume()}function _ae(t){let e=this[Nr];e._socket[Nr]!==void 0&&(e._socket.removeListener("data",qv),process.nextTick(FN,e._socket),e.close(t[pae])),e.emit("error",t)}function $N(){this[Nr].emitClose()}function Aae(t,e){this[Nr].emit("message",t,e)}function Iae(t){let e=this[Nr];e.pong(t,!e._isServer,RN),e.emit("ping",t)}function Sae(t){this[Nr].emit("pong",t)}function FN(t){t.resume()}function BN(){let t=this[Nr];this.removeListener("close",BN),this.removeListener("data",qv),this.removeListener("end",NN),t._readyState=Ot.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Nr]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",$N),t._receiver.on("finish",$N))}function qv(t){this[Nr]._receiver.write(t)||this.pause()}function NN(){let t=this[Nr];t._readyState=Ot.CLOSING,t._receiver.end(),this.end()}function jN(){let t=this[Nr];this.removeListener("error",jN),this.on("error",RN),t&&(t._readyState=Ot.CLOSING,this.destroy())}});var WN=v((r$e,qN)=>{"use strict";var{tokenChars:Eae}=Bh();function Dae(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&Eae[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}qN.exports={parse:Dae}});var YN=v((i$e,JN)=>{"use strict";var Cae=require("events"),Wv=require("http"),{Duplex:n$e}=require("stream"),{createHash:Pae}=require("crypto"),VN=$S(),Zc=Fh(),Tae=WN(),Lae=FS(),{GUID:$ae,kWebSocket:kae}=ha(),Rae=/^[+/0-9A-Za-z]{22}==$/,GN=0,zN=1,XN=2,BS=class extends Cae{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Lae,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Wv.createServer((n,i)=>{let o=Wv.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=Mae(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=GN}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===XN){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(qh,this);return}if(e&&this.once("close",e),this._state!==zN)if(this._state=zN,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(qh,this):process.nextTick(qh,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{qh(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",KN);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){eu(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){eu(this,e,r,400,"Invalid Upgrade header");return}if(!o||!Rae.test(o)){eu(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){eu(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Wh(r,400);return}let a=e.headers["sec-websocket-protocol"],c=new Set;if(a!==void 0)try{c=Tae.parse(a)}catch{eu(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&u!==void 0){let p=new Zc(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=VN.parse(u);d[Zc.extensionName]&&(p.accept(d[Zc.extensionName]),l[Zc.extensionName]=p)}catch{eu(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(d,m,f,g)=>{if(!d)return Wh(r,m||401,f,g);this.completeUpgrade(l,o,c,e,r,n,i)});return}if(!this.options.verifyClient(p))return Wh(r,401)}this.completeUpgrade(l,o,c,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[kae])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>GN)return Wh(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Pae("sha1").update(r+$ae).digest("base64")}`],l=new this.options.WebSocket(null);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(u.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Zc.extensionName]){let p=e[Zc.extensionName].params,d=VN.format({[Zc.extensionName]:[p]});u.push(`Sec-WebSocket-Extensions: ${d}`),l._extensions=e}this.emit("headers",u,i),o.write(u.concat(`\r
`).join(`\r
`)),o.removeListener("error",KN),l.setSocket(o,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(qh,this)})),a(l,i)}};JN.exports=BS;function Mae(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function qh(t){t._state=XN,t.emit("close")}function KN(){this.destroy()}function Wh(t,e,r,n){r=r||Wv.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Wv.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function eu(t,e,r,n,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,eu),t.emit("wsClientError",o,r,e)}else Wh(r,n,i)}});var f3=v((O$e,d3)=>{"use strict";d3.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var m3=v((F$e,h3)=>{h3.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var y3=v((B$e,H3)=>{"use strict";var Vae=m3(),Gae=Array.prototype.concat,zae=Array.prototype.slice,g3=H3.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];Vae(o)?r=Gae.call(r,zae.call(o)):r.push(o)}return r};g3.wrap=function(t){return function(){return t(g3(arguments))}}});var x3=v((N$e,w3)=>{var Gh=f3(),zh=y3(),v3=Object.hasOwnProperty,b3={};for(Jv in Gh)v3.call(Gh,Jv)&&(b3[Gh[Jv]]=Jv);var Jv,Dn=w3.exports={to:{},get:{}};Dn.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Dn.get.hsl(t),n="hsl";break;case"hwb":r=Dn.get.hwb(t),n="hwb";break;default:r=Dn.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Dn.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,c,u;if(a=t.match(r)){for(u=a[2],a=a[1],c=0;c<3;c++){var l=c*2;s[c]=parseInt(a.slice(l,l+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=t.match(e)){for(a=a[1],u=a[3],c=0;c<3;c++)s[c]=parseInt(a[c]+a[c],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=t.match(n)){for(c=0;c<3;c++)s[c]=parseInt(a[c+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(c=0;c<3;c++)s[c]=Math.round(parseFloat(a[c+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:v3.call(Gh,a[1])?(s=Gh[a[1]],s[3]=1,s):null:null;for(c=0;c<3;c++)s[c]=ya(s[c],0,255);return s[3]=ya(s[3],0,1),s};Dn.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=ya(parseFloat(r[2]),0,100),s=ya(parseFloat(r[3]),0,100),a=ya(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Dn.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=ya(parseFloat(r[2]),0,100),s=ya(parseFloat(r[3]),0,100),a=ya(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Dn.to.hex=function(){var t=zh(arguments);return"#"+Yv(t[0])+Yv(t[1])+Yv(t[2])+(t[3]<1?Yv(Math.round(t[3]*255)):"")};Dn.to.rgb=function(){var t=zh(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Dn.to.rgb.percent=function(){var t=zh(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Dn.to.hsl=function(){var t=zh(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Dn.to.hwb=function(){var t=zh(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Dn.to.keyword=function(t){return b3[t.slice(0,3)]};function ya(t,e,r){return Math.min(Math.max(e,t),r)}function Yv(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var A3=v((j$e,_3)=>{"use strict";_3.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var VS=v((U$e,S3)=>{var Kh=A3(),I3={};for(let t of Object.keys(Kh))I3[Kh[t]]=t;var fe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};S3.exports=fe;for(let t of Object.keys(fe)){if(!("channels"in fe[t]))throw new Error("missing channels property: "+t);if(!("labels"in fe[t]))throw new Error("missing channel labels property: "+t);if(fe[t].labels.length!==fe[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=fe[t];delete fe[t].channels,delete fe[t].labels,Object.defineProperty(fe[t],"channels",{value:e}),Object.defineProperty(fe[t],"labels",{value:r})}fe.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,c;o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=s/(o+i):c=s/(2-o-i),[a,c*100,u*100]};fe.rgb.hsv=function(t){let e,r,n,i,o,s=t[0]/255,a=t[1]/255,c=t[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),p=function(d){return(u-d)/6/l+1/2};return l===0?(i=0,o=0):(o=l/u,e=p(s),r=p(a),n=p(c),s===u?i=n-r:a===u?i=1/3+e-n:c===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};fe.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=fe.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};fe.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Kae(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}fe.rgb.keyword=function(t){let e=I3[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(Kh)){let o=Kh[i],s=Kae(t,o);s<r&&(r=s,n=i)}return n};fe.keyword.rgb=function(t){return Kh[t]};fe.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,s=e*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};fe.rgb.lab=function(t){let e=fe.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};fe.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,c[u]=s*255;return c};fe.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[e,a*100,s*100]};fe.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}};fe.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};fe.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,s&1&&(o=1-o);let c=r+o*(a-r),u,l,p;switch(s){default:case 6:case 0:u=a,l=c,p=r;break;case 1:u=c,l=a,p=r;break;case 2:u=r,l=a,p=c;break;case 3:u=r,l=c,p=a;break;case 4:u=c,l=r,p=a;break;case 5:u=a,l=r,p=c;break}return[u*255,l*255,p*255]};fe.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};fe.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,s=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};fe.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),s=200*(r-n);return[i,o,s]};fe.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;let a=o**3,c=i**3,u=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};fe.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[e,s,i]};fe.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[e,o,s]};fe.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?fe.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};fe.hsv.ansi16=function(t){return fe.rgb.ansi16(fe.hsv.rgb(t),t[2])};fe.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};fe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};fe.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};fe.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};fe.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};fe.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,c;return s<1?a=o/(1-s):a=0,s<=0?c=0:i===e?c=(r-n)/s%6:i===r?c=2+(n-e)/s:c=4+(e-r)/s,c/=6,c%=1,[c*360,s*100,a*100]};fe.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};fe.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};fe.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};fe.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};fe.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};fe.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};fe.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};fe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};fe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};fe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};fe.gray.hsl=function(t){return[0,0,t[0]]};fe.gray.hsv=fe.gray.hsl;fe.gray.hwb=function(t){return[0,100,t[0]]};fe.gray.cmyk=function(t){return[0,0,0,t[0]]};fe.gray.lab=function(t){return[t[0],0,0]};fe.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};fe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var D3=v((q$e,E3)=>{var Qv=VS();function Xae(){let t={},e=Object.keys(Qv);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Jae(t){let e=Xae(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Qv[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(a))}}return e}function Yae(t,e){return function(r){return e(t(r))}}function Qae(t,e){let r=[e[t].parent,t],n=Qv[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Yae(Qv[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}E3.exports=function(t){let e=Jae(t),r={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(r[s]=Qae(s,e))}return r}});var P3=v((W$e,C3)=>{var GS=VS(),Zae=D3(),dp={},ece=Object.keys(GS);function tce(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function rce(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}ece.forEach(t=>{dp[t]={},Object.defineProperty(dp[t],"channels",{value:GS[t].channels}),Object.defineProperty(dp[t],"labels",{value:GS[t].labels});let e=Zae(t);Object.keys(e).forEach(n=>{let i=e[n];dp[t][n]=rce(i),dp[t][n].raw=tce(i)})});C3.exports=dp});var $3=v((V$e,L3)=>{var fp=x3(),Cn=P3(),T3=["keyword","gray","hex"],zS={};for(let t of Object.keys(Cn))zS[[...Cn[t].labels].sort().join("")]=t;var Zv={};function dr(t,e){if(!(this instanceof dr))return new dr(t,e);if(e&&e in T3&&(e=null),e&&!(e in Cn))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof dr)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=fp.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Cn[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=Cn[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=KS(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let o=i.sort().join("");if(!(o in zS))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=zS[o];let{labels:s}=Cn[this.model],a=[];for(r=0;r<s.length;r++)a.push(t[s[r]]);this.color=KS(a)}if(Zv[this.model])for(n=Cn[this.model].channels,r=0;r<n;r++){let i=Zv[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}dr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in fp.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return fp.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return fp.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=Cn[this.model],{labels:r}=Cn[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new dr([...this.color.map(ice(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new dr([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Pt("rgb",0,Zt(255)),green:Pt("rgb",1,Zt(255)),blue:Pt("rgb",2,Zt(255)),hue:Pt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Pt("hsl",1,Zt(100)),lightness:Pt("hsl",2,Zt(100)),saturationv:Pt("hsv",1,Zt(100)),value:Pt("hsv",2,Zt(100)),chroma:Pt("hcg",1,Zt(100)),gray:Pt("hcg",2,Zt(100)),white:Pt("hwb",1,Zt(100)),wblack:Pt("hwb",2,Zt(100)),cyan:Pt("cmyk",0,Zt(100)),magenta:Pt("cmyk",1,Zt(100)),yellow:Pt("cmyk",2,Zt(100)),black:Pt("cmyk",3,Zt(100)),x:Pt("xyz",0,Zt(95.047)),y:Pt("xyz",1,Zt(100)),z:Pt("xyz",2,Zt(108.833)),l:Pt("lab",0,Zt(100)),a:Pt("lab",1),b:Pt("lab",2),keyword(t){return t!==void 0?new dr(t):Cn[this.model].keyword(this.color)},hex(t){return t!==void 0?new dr(t):fp.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new dr(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),fp.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return dr.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return dr.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(Cn)){if(T3.includes(t))continue;let{channels:e}=Cn[t];dr.prototype[t]=function(...r){return this.model===t?new dr(this):r.length>0?new dr(r,t):new dr([...oce(Cn[this.model][t].raw(this.color)),this.valpha],t)},dr[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=KS(r,e)),new dr(n,t)}}function nce(t,e){return Number(t.toFixed(e))}function ice(t){return function(e){return nce(e,t)}}function Pt(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(Zv[n]||(Zv[n]=[]))[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Zt(t){return function(e){return Math.max(0,Math.min(t,e))}}function oce(t){return Array.isArray(t)?t:[t]}function KS(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}L3.exports=dr});var Cj=v($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.dataUriToBuffer=void 0;function Fce(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let o=0;o<t.length;o+=4){let s=e.indexOf(t.charAt(o)),a=e.indexOf(t.charAt(o+1)),c=t.charAt(o+2)==="="?0:e.indexOf(t.charAt(o+2)),u=t.charAt(o+3)==="="?0:e.indexOf(t.charAt(o+3)),l=s<<2|a>>4,p=(a&15)<<4|c>>2,d=(c&3)<<6|u;r.push(l),t.charAt(o+2)!=="="&&r.push(p),t.charAt(o+3)!=="="&&r.push(d)}let n=new ArrayBuffer(r.length);return new Uint8Array(n).set(r),n}function Bce(t){let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return e}function Nce(t){if(t=String(t),!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,o=r[0]||"text/plain",s=o;for(let u=1;u<r.length;u++)r[u]==="base64"?i=!0:r[u]&&(s+=`;${r[u]}`,r[u].indexOf("charset=")===0&&(n=r[u].substring(8)));!r[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let a=unescape(t.substring(e+1)),c=i?Fce(a):Bce(a);return{type:o,typeFull:s,charset:n,buffer:c}}$b.dataUriToBuffer=Nce});var ms=v((hs,kb)=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Pj=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function jce(t){return Pj.includes(t)}var Uce=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...Pj];function qce(t){return Uce.includes(t)}var Wce=["null","undefined","string","number","bigint","boolean","symbol"];function Vce(t){return Wce.includes(t)}function Sp(t){return e=>typeof e===t}var{toString:Tj}=Object.prototype,sm=t=>{let e=Tj.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&I.domElement(t))return"HTMLElement";if(qce(e))return e},it=t=>e=>sm(e)===t;function I(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(I.observable(t))return"Observable";if(I.array(t))return"Array";if(I.buffer(t))return"Buffer";let e=sm(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}I.undefined=Sp("undefined");I.string=Sp("string");var Gce=Sp("number");I.number=t=>Gce(t)&&!I.nan(t);I.bigint=Sp("bigint");I.function_=Sp("function");I.null_=t=>t===null;I.class_=t=>I.function_(t)&&t.toString().startsWith("class ");I.boolean=t=>t===!0||t===!1;I.symbol=Sp("symbol");I.numericString=t=>I.string(t)&&!I.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));I.array=(t,e)=>Array.isArray(t)?I.function_(e)?t.every(e):!0:!1;I.buffer=t=>{var e,r,n,i;return(i=(n=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,t))!==null&&i!==void 0?i:!1};I.blob=t=>it("Blob")(t);I.nullOrUndefined=t=>I.null_(t)||I.undefined(t);I.object=t=>!I.null_(t)&&(typeof t=="object"||I.function_(t));I.iterable=t=>{var e;return I.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};I.asyncIterable=t=>{var e;return I.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};I.generator=t=>{var e,r;return I.iterable(t)&&I.function_((e=t)===null||e===void 0?void 0:e.next)&&I.function_((r=t)===null||r===void 0?void 0:r.throw)};I.asyncGenerator=t=>I.asyncIterable(t)&&I.function_(t.next)&&I.function_(t.throw);I.nativePromise=t=>it("Promise")(t);var zce=t=>{var e,r;return I.function_((e=t)===null||e===void 0?void 0:e.then)&&I.function_((r=t)===null||r===void 0?void 0:r.catch)};I.promise=t=>I.nativePromise(t)||zce(t);I.generatorFunction=it("GeneratorFunction");I.asyncGeneratorFunction=t=>sm(t)==="AsyncGeneratorFunction";I.asyncFunction=t=>sm(t)==="AsyncFunction";I.boundFunction=t=>I.function_(t)&&!t.hasOwnProperty("prototype");I.regExp=it("RegExp");I.date=it("Date");I.error=it("Error");I.map=t=>it("Map")(t);I.set=t=>it("Set")(t);I.weakMap=t=>it("WeakMap")(t);I.weakSet=t=>it("WeakSet")(t);I.int8Array=it("Int8Array");I.uint8Array=it("Uint8Array");I.uint8ClampedArray=it("Uint8ClampedArray");I.int16Array=it("Int16Array");I.uint16Array=it("Uint16Array");I.int32Array=it("Int32Array");I.uint32Array=it("Uint32Array");I.float32Array=it("Float32Array");I.float64Array=it("Float64Array");I.bigInt64Array=it("BigInt64Array");I.bigUint64Array=it("BigUint64Array");I.arrayBuffer=it("ArrayBuffer");I.sharedArrayBuffer=it("SharedArrayBuffer");I.dataView=it("DataView");I.enumCase=(t,e)=>Object.values(e).includes(t);I.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;I.urlInstance=t=>it("URL")(t);I.urlString=t=>{if(!I.string(t))return!1;try{return new URL(t),!0}catch{return!1}};I.truthy=t=>!!t;I.falsy=t=>!t;I.nan=t=>Number.isNaN(t);I.primitive=t=>I.null_(t)||Vce(typeof t);I.integer=t=>Number.isInteger(t);I.safeInteger=t=>Number.isSafeInteger(t);I.plainObject=t=>{if(Tj.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};I.typedArray=t=>jce(sm(t));var Kce=t=>I.safeInteger(t)&&t>=0;I.arrayLike=t=>!I.nullOrUndefined(t)&&!I.function_(t)&&Kce(t.length);I.inRange=(t,e)=>{if(I.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(I.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Xce=1,Jce=["innerHTML","ownerDocument","style","attributes","nodeValue"];I.domElement=t=>I.object(t)&&t.nodeType===Xce&&I.string(t.nodeName)&&!I.plainObject(t)&&Jce.every(e=>e in t);I.observable=t=>{var e,r,n,i;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((i=(n=t)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};I.nodeStream=t=>I.object(t)&&I.function_(t.pipe)&&!I.observable(t);I.infinite=t=>t===1/0||t===-1/0;var Lj=t=>e=>I.integer(e)&&Math.abs(e%2)===t;I.evenInteger=Lj(0);I.oddInteger=Lj(1);I.emptyArray=t=>I.array(t)&&t.length===0;I.nonEmptyArray=t=>I.array(t)&&t.length>0;I.emptyString=t=>I.string(t)&&t.length===0;var Yce=t=>I.string(t)&&!/\S/.test(t);I.emptyStringOrWhitespace=t=>I.emptyString(t)||Yce(t);I.nonEmptyString=t=>I.string(t)&&t.length>0;I.nonEmptyStringAndNotWhitespace=t=>I.string(t)&&!I.emptyStringOrWhitespace(t);I.emptyObject=t=>I.object(t)&&!I.map(t)&&!I.set(t)&&Object.keys(t).length===0;I.nonEmptyObject=t=>I.object(t)&&!I.map(t)&&!I.set(t)&&Object.keys(t).length>0;I.emptySet=t=>I.set(t)&&t.size===0;I.nonEmptySet=t=>I.set(t)&&t.size>0;I.emptyMap=t=>I.map(t)&&t.size===0;I.nonEmptyMap=t=>I.map(t)&&t.size>0;I.propertyKey=t=>I.any([I.string,I.number,I.symbol],t);I.formData=t=>it("FormData")(t);I.urlSearchParams=t=>it("URLSearchParams")(t);var $j=(t,e,r)=>{if(!I.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};I.any=(t,...e)=>(I.array(t)?t:[t]).some(n=>$j(Array.prototype.some,n,e));I.all=(t,...e)=>$j(Array.prototype.every,t,e);var oe=(t,e,r,n={})=>{if(!t){let{multipleValues:i}=n,o=i?`received values of types ${[...new Set(r.map(s=>`\`${I(s)}\``))].join(", ")}`:`received value of type \`${I(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${o}.`)}};hs.assert={undefined:t=>oe(I.undefined(t),"undefined",t),string:t=>oe(I.string(t),"string",t),number:t=>oe(I.number(t),"number",t),bigint:t=>oe(I.bigint(t),"bigint",t),function_:t=>oe(I.function_(t),"Function",t),null_:t=>oe(I.null_(t),"null",t),class_:t=>oe(I.class_(t),"Class",t),boolean:t=>oe(I.boolean(t),"boolean",t),symbol:t=>oe(I.symbol(t),"symbol",t),numericString:t=>oe(I.numericString(t),"string with a number",t),array:(t,e)=>{oe(I.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>oe(I.buffer(t),"Buffer",t),blob:t=>oe(I.blob(t),"Blob",t),nullOrUndefined:t=>oe(I.nullOrUndefined(t),"null or undefined",t),object:t=>oe(I.object(t),"Object",t),iterable:t=>oe(I.iterable(t),"Iterable",t),asyncIterable:t=>oe(I.asyncIterable(t),"AsyncIterable",t),generator:t=>oe(I.generator(t),"Generator",t),asyncGenerator:t=>oe(I.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>oe(I.nativePromise(t),"native Promise",t),promise:t=>oe(I.promise(t),"Promise",t),generatorFunction:t=>oe(I.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>oe(I.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>oe(I.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>oe(I.boundFunction(t),"Function",t),regExp:t=>oe(I.regExp(t),"RegExp",t),date:t=>oe(I.date(t),"Date",t),error:t=>oe(I.error(t),"Error",t),map:t=>oe(I.map(t),"Map",t),set:t=>oe(I.set(t),"Set",t),weakMap:t=>oe(I.weakMap(t),"WeakMap",t),weakSet:t=>oe(I.weakSet(t),"WeakSet",t),int8Array:t=>oe(I.int8Array(t),"Int8Array",t),uint8Array:t=>oe(I.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>oe(I.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>oe(I.int16Array(t),"Int16Array",t),uint16Array:t=>oe(I.uint16Array(t),"Uint16Array",t),int32Array:t=>oe(I.int32Array(t),"Int32Array",t),uint32Array:t=>oe(I.uint32Array(t),"Uint32Array",t),float32Array:t=>oe(I.float32Array(t),"Float32Array",t),float64Array:t=>oe(I.float64Array(t),"Float64Array",t),bigInt64Array:t=>oe(I.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>oe(I.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>oe(I.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>oe(I.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>oe(I.dataView(t),"DataView",t),enumCase:(t,e)=>oe(I.enumCase(t,e),"EnumCase",t),urlInstance:t=>oe(I.urlInstance(t),"URL",t),urlString:t=>oe(I.urlString(t),"string with a URL",t),truthy:t=>oe(I.truthy(t),"truthy",t),falsy:t=>oe(I.falsy(t),"falsy",t),nan:t=>oe(I.nan(t),"NaN",t),primitive:t=>oe(I.primitive(t),"primitive",t),integer:t=>oe(I.integer(t),"integer",t),safeInteger:t=>oe(I.safeInteger(t),"integer",t),plainObject:t=>oe(I.plainObject(t),"plain object",t),typedArray:t=>oe(I.typedArray(t),"TypedArray",t),arrayLike:t=>oe(I.arrayLike(t),"array-like",t),domElement:t=>oe(I.domElement(t),"HTMLElement",t),observable:t=>oe(I.observable(t),"Observable",t),nodeStream:t=>oe(I.nodeStream(t),"Node.js Stream",t),infinite:t=>oe(I.infinite(t),"infinite number",t),emptyArray:t=>oe(I.emptyArray(t),"empty array",t),nonEmptyArray:t=>oe(I.nonEmptyArray(t),"non-empty array",t),emptyString:t=>oe(I.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>oe(I.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>oe(I.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>oe(I.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>oe(I.emptyObject(t),"empty object",t),nonEmptyObject:t=>oe(I.nonEmptyObject(t),"non-empty object",t),emptySet:t=>oe(I.emptySet(t),"empty set",t),nonEmptySet:t=>oe(I.nonEmptySet(t),"non-empty set",t),emptyMap:t=>oe(I.emptyMap(t),"empty map",t),nonEmptyMap:t=>oe(I.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>oe(I.propertyKey(t),"PropertyKey",t),formData:t=>oe(I.formData(t),"FormData",t),urlSearchParams:t=>oe(I.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>oe(I.evenInteger(t),"even integer",t),oddInteger:t=>oe(I.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>oe(I.directInstanceOf(t,e),"T",t),inRange:(t,e)=>oe(I.inRange(t,e),"in range",t),any:(t,...e)=>oe(I.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>oe(I.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(I,{class:{value:I.class_},function:{value:I.function_},null:{value:I.null_}});Object.defineProperties(hs.assert,{class:{value:hs.assert.class_},function:{value:hs.assert.function_},null:{value:hs.assert.null_}});hs.default=I;kb.exports=I;kb.exports.default=I;kb.exports.assert=hs.assert});var kj=v((yOe,CE)=>{"use strict";var Rb=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Mb=class t{static fn(e){return(...r)=>new t((n,i,o)=>{r.push(o),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,r(a))},o=a=>{this._isPending=!1,n(a)},s=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,o,s)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new Rb(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Mb.prototype,Promise.prototype);CE.exports=Mb;CE.exports.CancelError=Rb});var Rj=v((TE,LE)=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});function Qce(t){return t.encrypted}var PE=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",o=typeof r.close=="function",s=()=>{n&&r.connect(),Qce(t)&&i&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),o&&t.once("close",r.close)};t.writable&&!t.connecting?s():t.connecting?t.once("connect",s):t.destroyed&&o&&r.close(t._hadError)};TE.default=PE;LE.exports=PE;LE.exports.default=PE});var Mj=v((kE,RE)=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});var Zce=Rj(),eue=require("util"),tue=Number(process.versions.node.split(".")[0]),$E=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let c=a.emit.bind(a);a.emit=(u,...l)=>(u==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=c),c(u,...l))};r(t);let n=()=>{e.abort=Date.now(),(!e.response||tue>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,eue.types.isProxy(a))return;let c=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",c),Zce.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",c),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?i(t.socket):t.prependOnceListener("socket",i);let o=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?o():t.prependOnceListener("finish",o),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};kE.default=$E;RE.exports=$E;RE.exports.default=$E});var qj=v((vOe,FE)=>{"use strict";var{V4MAPPED:rue,ADDRCONFIG:nue,ALL:Uj,promises:{Resolver:Oj},lookup:iue}=require("dns"),{promisify:ME}=require("util"),oue=require("os"),Ep=Symbol("cacheableLookupCreateConnection"),OE=Symbol("cacheableLookupInstance"),Fj=Symbol("expires"),sue=typeof Uj=="number",Bj=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},aue=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},Nj=()=>{let t=!1,e=!1;for(let r of Object.values(oue.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},cue=t=>Symbol.iterator in t,jj={ttl:!0},uue={all:!0},Ob=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:o=new Oj,lookup:s=iue}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=o,this._dnsLookup=ME(s),this._resolver instanceof Oj?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=ME(this._resolver.resolve4.bind(this._resolver)),this._resolve6=ME(this._resolver.resolve6.bind(this._resolver))),this._iface=Nj(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(o=>o.family===6);r.hints&rue&&(sue&&r.hints&Uj||i.length===0)?aue(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&nue){let{_iface:i}=this;n=n.filter(o=>o.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r=await this._cache.get(e);if(!r){let n=this._pending[e];if(n)r=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{r=await i}finally{delete this._pending[e]}}}return r=r.map(n=>({...n})),r}async _resolve(e){let r=async u=>{try{return await u}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,jj),this._resolve6(e,jj)].map(u=>r(u))),o=0,s=0,a=0,c=Date.now();for(let u of n)u.family=4,u.expires=c+u.ttl*1e3,o=Math.max(o,u.ttl);for(let u of i)u.family=6,u.expires=c+u.ttl*1e3,s=Math.max(s,u.ttl);return n.length>0?i.length>0?a=Math.min(o,s):a=o:a=s,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[Fj]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let o=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw o.cause=i,o}}cue(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,uue);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[o,s]of this._cache){let a=s[Fj];i>=a?this._cache.delete(o):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Bj(e),Ep in e)throw new Error("CacheableLookup has been already installed");e[Ep]=e.createConnection,e[OE]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[Ep](r,n))}uninstall(e){if(Bj(e),e[Ep]){if(e[OE]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Ep],delete e[Ep],delete e[OE]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Nj(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};FE.exports=Ob;FE.exports.default=Ob});var Gj=v((bOe,Vj)=>{"use strict";var lue="text/plain",pue="us-ascii",Wj=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),due=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:o}=r.groups,s=n.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);let c=(s.shift()||"").toLowerCase(),l=[...s.map(p=>{let[d,m=""]=p.split("=").map(f=>f.trim());return d==="charset"&&(m=m.toLowerCase(),m===pue)?"":`${d}${m?`=${m}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||c&&c!==lue)&&l.unshift(c),`data:${l.join(";")},${a?i.trim():i}${o?`#${o}`:""}`},fue=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return due(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let s=i.pathname.split("/"),a=s[s.length-1];Wj(a,e.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),i.pathname=s.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let s of[...i.searchParams.keys()])Wj(s,e.removeQueryParameters)&&i.searchParams.delete(s);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};Vj.exports=fue});var BE=v((wOe,Kj)=>{Kj.exports=zj;function zj(t,e){if(t&&e)return zj(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Dp=v((xOe,NE)=>{var Xj=BE();NE.exports=Xj(Fb);NE.exports.strict=Xj(Jj);Fb.proto=Fb(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Fb(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Jj(this)},configurable:!0})});function Fb(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Jj(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Bb=v((_Oe,Qj)=>{var hue=Dp(),mue=function(){},gue=function(t){return t.setHeader&&typeof t.abort=="function"},Hue=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Yj=function(t,e,r){if(typeof e=="function")return Yj(t,null,e);e||(e={}),r=hue(r||mue);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,a=!1,c=function(){t.writable||u()},u=function(){s=!1,o||r.call(t)},l=function(){o=!1,s||r.call(t)},p=function(y){r.call(t,y?new Error("exited with error code: "+y):null)},d=function(y){r.call(t,y)},m=function(){process.nextTick(f)},f=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},g=function(){t.req.on("finish",u)};return gue(t)?(t.on("complete",u),t.on("abort",m),t.req?g():t.on("request",g)):s&&!n&&(t.on("end",c),t.on("close",c)),Hue(t)&&t.on("exit",p),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",d),t.on("close",m),function(){a=!0,t.removeListener("complete",u),t.removeListener("abort",m),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",m)}};Qj.exports=Yj});var t2=v((AOe,e2)=>{var yue=Dp(),vue=Bb(),jE=require("fs"),am=function(){},bue=/^v?\.0/.test(process.version),Nb=function(t){return typeof t=="function"},wue=function(t){return!bue||!jE?!1:(t instanceof(jE.ReadStream||am)||t instanceof(jE.WriteStream||am))&&Nb(t.close)},xue=function(t){return t.setHeader&&Nb(t.abort)},_ue=function(t,e,r,n){n=yue(n);var i=!1;t.on("close",function(){i=!0}),vue(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,wue(t))return t.close(am);if(xue(t))return t.abort();if(Nb(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},Zj=function(t){t()},Aue=function(t,e){return t.pipe(e)},Iue=function(){var t=Array.prototype.slice.call(arguments),e=Nb(t[t.length-1]||am)&&t.pop()||am;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return _ue(i,s,a,function(c){r||(r=c),c&&n.forEach(Zj),!s&&(n.forEach(Zj),e(r))})});return t.reduce(Aue)};e2.exports=Iue});var n2=v((IOe,r2)=>{"use strict";var{PassThrough:Sue}=require("stream");r2.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new Sue({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var i2=v((SOe,Cp)=>{"use strict";var{constants:Eue}=require("buffer"),Due=t2(),Cue=n2(),jb=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ub(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=Eue.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=Due(t,Cue(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&s(new jb)})}),n.getBufferedValue()}Cp.exports=Ub;Cp.exports.default=Ub;Cp.exports.buffer=(t,e)=>Ub(t,{...e,encoding:"buffer"});Cp.exports.array=(t,e)=>Ub(t,{...e,array:!0});Cp.exports.MaxBufferError=jb});var s2=v((DOe,o2)=>{"use strict";var Pue=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Tue=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Lue=new Set([500,502,503,504]),$ue={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},kue={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function pu(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Rue(t){return t?Lue.has(t.status):!0}function UE(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function Mue(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}o2.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=UE(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=UE(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Mue(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Tue.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Pue.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=UE(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)$ue[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return pu(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return pu(this._rescc["s-maxage"])}if(this._rescc["max-age"])return pu(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+pu(this._rescc["stale-if-error"]),n=e+pu(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+pu(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+pu(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Rue(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in r.headers&&!kue[s]?r.headers[s]:this._resHeaders[s];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var qb=v((COe,a2)=>{"use strict";a2.exports=t=>{let e={};for(let[r,n]of Object.entries(t))e[r.toLowerCase()]=n;return e}});var u2=v((POe,c2)=>{"use strict";var Oue=require("stream").Readable,Fue=qb(),qE=class extends Oue{constructor(e,r,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Fue(r),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};c2.exports=qE});var p2=v((TOe,l2)=>{"use strict";var Bue=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];l2.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(Bue));for(let n of r)n in e||(e[n]=typeof t[n]=="function"?t[n].bind(t):t[n])}});var f2=v((LOe,d2)=>{"use strict";var Nue=require("stream").PassThrough,jue=p2(),Uue=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Nue;return jue(t,e),t.pipe(e)};d2.exports=Uue});var h2=v(WE=>{WE.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",n=Array.isArray(e);r=n?"[":"{";var i=!0;for(var o in e){var s=typeof e[o]=="function"||!n&&typeof e[o]>"u";Object.hasOwnProperty.call(e,o)&&!s&&(i||(r+=","),i=!1,n?e[o]==null?r+="null":r+=t(e[o]):e[o]!==void 0&&(r+=t(o)+":"+t(e[o])))}return r+=n?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};WE.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var y2=v((kOe,H2)=>{"use strict";var que=require("events"),m2=h2(),Wue=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},g2=["sqlite","postgres","mysql","mongo","redis","tiered"],VE=class extends que{constructor(e,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:m2.stringify,deserialize:m2.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let o={...this.opts};this.opts.store=Wue(o)}if(this.opts.compression){let o=this.opts.compression;this.opts.serialize=o.serialize.bind(o),this.opts.deserialize=o.deserialize.bind(o)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",o=>this.emit("error",o)),this.opts.store.namespace=this.opts.namespace;let i=o=>async function*(){for await(let[s,a]of typeof o=="function"?o(this.opts.store.namespace):o){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!s.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(s);continue}yield[this._getKeyUnprefix(s),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return g2.includes(this.opts.store.opts.dialect)||g2.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:n}=this.opts,i=Array.isArray(e),o=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let s=[];for(let a of o)s.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(s).then(a=>{let c=[];for(let u of a)c.push(u.value);return c})}return Promise.resolve().then(()=>i?n.getMany(o):n.get(o)).then(s=>typeof s=="string"?this.opts.deserialize(s):this.opts.compression?this.opts.deserialize(s):s).then(s=>{if(s!=null){if(i){let a=[];for(let c of s){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof s.expires=="number"&&Date.now()>s.expires?this.delete(e).then(()=>{}):r&&r.raw?s:s.value}})}set(e,r,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:s},this.opts.serialize(r)}).then(s=>o.set(i,s,n)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let o=[];for(let s of i)o.push(r.delete(s));return Promise.allSettled(o).then(s=>s.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};H2.exports=VE});var w2=v((ROe,b2)=>{"use strict";var Vue=require("events"),Wb=require("url"),Gue=Gj(),zue=i2(),GE=s2(),v2=u2(),Kue=qb(),Xue=f2(),Jue=y2(),cm=class t{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Jue({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,n)=>{let i;if(typeof r=="string")i=zE(Wb.parse(r)),r={};else if(r instanceof Wb.URL)i=zE(Wb.parse(r.toString())),r={};else{let[p,...d]=(r.path||"").split("?"),m=d.length>0?`?${d.join("?")}`:"";i=zE({...r,pathname:p,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Yue(i)},r.headers=Kue(r.headers);let o=new Vue,s=Gue(Wb.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${s}`,c=!1,u=!1,l=p=>{u=!0;let d=!1,m,f=new Promise(y=>{m=()=>{d||(d=!0,y())}}),g=y=>{if(c&&!p.forceRefresh){y.status=y.statusCode;let E=GE.fromObject(c.cachePolicy).revalidatedPolicy(p,y);if(!E.modified){let $=E.policy.responseHeaders();y=new v2(c.statusCode,$,c.body,c.url),y.cachePolicy=E.policy,y.fromCache=!0}}y.fromCache||(y.cachePolicy=new GE(p,y,p),y.fromCache=!1);let x;p.cache&&y.cachePolicy.storable()?(x=Xue(y),(async()=>{try{let E=zue.buffer(y);if(await Promise.race([f,new Promise(X=>y.once("end",X))]),d)return;let $=await E,L={cachePolicy:y.cachePolicy.toObject(),url:y.url,statusCode:y.fromCache?c.statusCode:y.statusCode,body:$},R=p.strictTtl?y.cachePolicy.timeToLive():void 0;p.maxTtl&&(R=R?Math.min(R,p.maxTtl):p.maxTtl),await this.cache.set(a,L,R)}catch(E){o.emit("error",new t.CacheError(E))}})()):p.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(E){o.emit("error",new t.CacheError(E))}})(),o.emit("response",x||y),typeof n=="function"&&n(x||y)};try{let y=e(p,g);y.once("error",m),y.once("abort",m),o.emit("request",y)}catch(y){o.emit("error",new t.RequestError(y))}};return(async()=>{let p=async m=>{await Promise.resolve();let f=m.cache?await this.cache.get(a):void 0;if(typeof f>"u")return l(m);let g=GE.fromObject(f.cachePolicy);if(g.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let y=g.responseHeaders(),x=new v2(f.statusCode,y,f.body,f.url);x.cachePolicy=g,x.fromCache=!0,o.emit("response",x),typeof n=="function"&&n(x)}else c=f,m.headers=g.revalidationHeaders(m),l(m)},d=m=>o.emit("error",new t.CacheError(m));this.cache.once("error",d),o.on("response",()=>this.cache.removeListener("error",d));try{await p(r)}catch(m){r.automaticFailover&&!u&&l(r),o.emit("error",new t.CacheError(m))}})(),o}}};function Yue(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function zE(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}cm.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};cm.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};b2.exports=cm});var _2=v((FOe,x2)=>{"use strict";var Que=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];x2.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(Que)),n={};for(let i of r)i in e||(n[i]={get(){let o=t[i];return typeof o=="function"?o.bind(t):o},set(o){t[i]=o},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var I2=v((BOe,A2)=>{"use strict";var{Transform:Zue,PassThrough:ele}=require("stream"),KE=require("zlib"),tle=_2();A2.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof KE.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let n=!0,i=new Zue({transform(a,c,u){n=!1,u(null,a)},flush(a){a()}}),o=new ele({autoDestroy:!1,destroy(a,c){t.destroy(),c(a)}}),s=r?KE.createBrotliDecompress():KE.createUnzip();return s.once("error",a=>{if(n&&!t.readable){o.end();return}o.destroy(a)}),tle(t,o),t.pipe(i).pipe(s).pipe(o),o}});var JE=v((NOe,S2)=>{"use strict";var XE=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};S2.exports=XE});var QE=v((jOe,P2)=>{"use strict";var rle=require("events"),nle=require("tls"),ile=require("http2"),ole=JE(),Yr=Symbol("currentStreamsCount"),E2=Symbol("request"),ei=Symbol("cachedOriginSet"),Pp=Symbol("gracefullyClosing"),sle=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],ale=(t,e,r)=>{let n=0,i=t.length;for(;n<i;){let o=n+i>>>1;r(t[o],e)?n=o+1:i=o}return n},cle=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,YE=(t,e)=>{for(let r of t)r[ei].length<e[ei].length&&r[ei].every(n=>e[ei].includes(n))&&r[Yr]+e[Yr]<=e.remoteSettings.maxConcurrentStreams&&C2(r)},ule=(t,e)=>{for(let r of t)e[ei].length<r[ei].length&&e[ei].every(n=>r[ei].includes(n))&&e[Yr]+r[Yr]<=r.remoteSettings.maxConcurrentStreams&&C2(e)},D2=({agent:t,isFree:e})=>{let r={};for(let n in t.sessions){let o=t.sessions[n].filter(s=>{let a=s[du.kCurrentStreamsCount]<s.remoteSettings.maxConcurrentStreams;return e?a:!a});o.length!==0&&(r[n]=o)}return r},C2=t=>{t[Pp]=!0,t[Yr]===0&&t.close()},du=class t extends rle{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new ole({maxSize:i})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let n of sle)e[n]&&(r+=`:${e[n]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let n=this.queue[e][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,r,n){return new Promise((i,o)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:o}];let s=this.normalizeOptions(r),a=t.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(s in this.sessions){let l=this.sessions[s],p=-1,d=-1,m;for(let f of l){let g=f.remoteSettings.maxConcurrentStreams;if(g<p)break;if(f[ei].includes(a)){let y=f[Yr];if(y>=g||f[Pp]||f.destroyed)continue;m||(p=g),y>d&&(m=f,d=y)}}if(m){if(n.length!==1){for(let{reject:f}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);f(g)}return}n[0].resolve(m);return}}if(s in this.queue){if(a in this.queue[s]){this.queue[s][a].listeners.push(...n),this._tryToCreateNewSession(s,a);return}}else this.queue[s]={};let c=()=>{s in this.queue&&this.queue[s][a]===u&&(delete this.queue[s][a],Object.keys(this.queue[s]).length===0&&delete this.queue[s])},u=()=>{let l=`${a}:${s}`,p=!1;try{let d=ile.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});d[Yr]=0,d[Pp]=!1;let m=()=>d[Yr]<d.remoteSettings.maxConcurrentStreams,f=!0;d.socket.once("session",y=>{this.tlsSessionCache.set(l,y)}),d.once("error",y=>{for(let{reject:x}of n)x(y);this.tlsSessionCache.delete(l)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(p){f&&this._freeSessionsCount--,this._sessionsCount--;let y=this.sessions[s];y.splice(y.indexOf(d),1),y.length===0&&delete this.sessions[s]}else{let y=new Error("Session closed without receiving a SETTINGS frame");y.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:x}of n)x(y);c()}this._tryToCreateNewSession(s,a)});let g=()=>{if(!(!(s in this.queue)||!m())){for(let y of d[ei])if(y in this.queue[s]){let{listeners:x}=this.queue[s][y];for(;x.length!==0&&m();)x.shift().resolve(d);let E=this.queue[s];if(E[y].listeners.length===0&&(delete E[y],Object.keys(E).length===0)){delete this.queue[s];break}if(!m())break}}};d.on("origin",()=>{d[ei]=d.originSet,m()&&(g(),YE(this.sessions[s],d))}),d.once("remoteSettings",()=>{if(d.ref(),d.unref(),this._sessionsCount++,u.destroyed){let y=new Error("Agent has been destroyed");for(let x of n)x.reject(y);d.destroy();return}d[ei]=d.originSet;{let y=this.sessions;if(s in y){let x=y[s];x.splice(ale(x,d,cle),0,d)}else y[s]=[d]}this._freeSessionsCount+=1,p=!0,this.emit("session",d),g(),c(),d[Yr]===0&&this._freeSessionsCount>this.maxFreeSessions&&d.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),d.on("remoteSettings",()=>{g(),YE(this.sessions[s],d)})}),d[E2]=d.request,d.request=(y,x)=>{if(d[Pp])throw new Error("The session is gracefully closing. No new streams are allowed.");let E=d[E2](y,x);return d.ref(),++d[Yr],d[Yr]===d.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,E.once("close",()=>{if(f=m(),--d[Yr],!d.destroyed&&!d.closed&&(ule(this.sessions[s],d),m()&&!d.closed)){f||(this._freeSessionsCount++,f=!0);let $=d[Yr]===0;$&&d.unref(),$&&(this._freeSessionsCount>this.maxFreeSessions||d[Pp])?d.close():(YE(this.sessions[s],d),g())}}),E}}catch(d){for(let m of n)m.reject(d);c()}};u.listeners=n,u.completed=!1,u.destroyed=!1,this.queue[s][a]=u,this._tryToCreateNewSession(s,a)})}request(e,r,n,i){return new Promise((o,s)=>{this.getSession(e,r,[{reject:s,resolve:a=>{try{o(a.request(n,i))}catch(c){s(c)}}}])})}createConnection(e,r){return t.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=i),nle.connect(n,i,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[Yr]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(e);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return D2({agent:this,isFree:!0})}get busySessions(){return D2({agent:this,isFree:!1})}};du.kCurrentStreamsCount=Yr;du.kGracefullyClosing=Pp;P2.exports={Agent:du,globalAgent:new du}});var eD=v((UOe,T2)=>{"use strict";var{Readable:lle}=require("stream"),ZE=class extends lle{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};T2.exports=ZE});var tD=v((qOe,L2)=>{"use strict";L2.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var k2=v((WOe,$2)=>{"use strict";$2.exports=(t,e,r)=>{for(let n of r)t.on(n,(...i)=>e.emit(n,...i))}});var M2=v((VOe,R2)=>{"use strict";R2.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var F2=v((zOe,O2)=>{"use strict";var Tp=(t,e,r)=>{O2.exports[e]=class extends t{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${e}]`,this.code=e}}};Tp(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${n?"one of":"of"} type ${r}. Received ${typeof t[2]}`});Tp(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);Tp(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);Tp(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);Tp(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);Tp(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var sD=v((KOe,V2)=>{"use strict";var ple=require("http2"),{Writable:dle}=require("stream"),{Agent:B2,globalAgent:fle}=QE(),hle=eD(),mle=tD(),gle=k2(),Hle=M2(),{ERR_INVALID_ARG_TYPE:rD,ERR_INVALID_PROTOCOL:yle,ERR_HTTP_HEADERS_SENT:N2,ERR_INVALID_HTTP_TOKEN:vle,ERR_HTTP_INVALID_HEADER_VALUE:ble,ERR_INVALID_CHAR:wle}=F2(),{HTTP2_HEADER_STATUS:j2,HTTP2_HEADER_METHOD:U2,HTTP2_HEADER_PATH:q2,HTTP2_METHOD_CONNECT:xle}=ple.constants,Ur=Symbol("headers"),nD=Symbol("origin"),iD=Symbol("session"),W2=Symbol("options"),Vb=Symbol("flushedHeaders"),um=Symbol("jobs"),_le=/^[\^`\-\w!#$%&*+.|~]+$/,Ale=/[^\t\u0020-\u007E\u0080-\u00FF]/,oD=class extends dle{constructor(e,r,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=mle(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(n=r,r=i?e:{...e}):r={...e,...r},r.h2session)this[iD]=r.h2session;else if(r.agent===!1)this.agent=new B2({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new B2({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=fle;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new rD("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new yle(r.protocol,"https:");let o=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,s=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[Ur]=Object.create(null),this[um]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[c,u]of Object.entries(r.headers))this.setHeader(c,u);r.auth&&!("authorization"in this[Ur])&&(this[Ur].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[W2]=r,o===443?(this[nD]=`https://${s}`,":authority"in this[Ur]||(this[Ur][":authority"]=s)):(this[nD]=`https://${s}:${o}`,":authority"in this[Ur]||(this[Ur][":authority"]=`${s}:${o}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[Vb]=!1}get method(){return this[Ur][U2]}set method(e){e&&(this[Ur][U2]=e.toUpperCase())}get path(){return this[Ur][q2]}set path(e){e&&(this[Ur][q2]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,r,n);this._request?i():this[um].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[um].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[Vb]||this.destroyed)return;this[Vb]=!0;let e=this.method===xle,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||gle(n,this,["timeout","continue","close","error"]);let i=s=>(...a)=>{!this.writable&&!this.destroyed?s(...a):this.once("finish",()=>{s(...a)})};n.once("response",i((s,a,c)=>{let u=new hle(this.socket,n.readableHighWaterMark);this.res=u,u.req=this,u.statusCode=s[j2],u.headers=s,u.rawHeaders=c,u.once("end",()=>{this.aborted?(u.aborted=!0,u.emit("aborted")):(u.complete=!0,u.socket=null,u.connection=null)}),e?(u.upgrade=!0,this.emit("connect",u,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!u._dumped&&!u.push(l)&&n.pause()}),n.once("end",()=>{u.push(null)}),this.emit("response",u)||u._dump())})),n.once("headers",i(s=>this.emit("information",{statusCode:s[j2]}))),n.once("trailers",i((s,a,c)=>{let{res:u}=this;u.trailers=s,u.rawTrailers=c}));let{socket:o}=n.session;this.socket=o,this.connection=o;for(let s of this[um])s();this.emit("socket",this.socket)};if(this[iD])try{r(this[iD].request(this[Ur]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[nD],this[W2],this[Ur]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new rD("name","string",e);return this[Ur][e.toLowerCase()]}get headersSent(){return this[Vb]}removeHeader(e){if(typeof e!="string")throw new rD("name","string",e);if(this.headersSent)throw new N2("remove");delete this[Ur][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new N2("set");if(typeof e!="string"||!_le.test(e)&&!Hle(e))throw new vle("Header name",e);if(typeof r>"u")throw new ble(r,e);if(Ale.test(r))throw new wle("header content",e);this[Ur][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let n=()=>this._request.setTimeout(e,r);return this._request?n():this[um].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};V2.exports=oD});var z2=v((XOe,G2)=>{"use strict";var Ile=require("tls");G2.exports=(t={},e=Ile.connect)=>new Promise((r,n)=>{let i=!1,o,s=async()=>{await c,o.off("timeout",a),o.off("error",n),t.resolveSocket?(r({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),r({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,s()},c=(async()=>{try{o=await e(t,s),o.on("error",n),o.once("timeout",a)}catch(u){n(u)}})()})});var X2=v((JOe,K2)=>{"use strict";var Sle=require("net");K2.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),Sle.isIP(e)?"":e}});var Q2=v((YOe,cD)=>{"use strict";var J2=require("http"),aD=require("https"),Ele=z2(),Dle=JE(),Cle=sD(),Ple=X2(),Tle=tD(),Gb=new Dle({maxSize:100}),lm=new Map,Y2=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{t.emit("free",e,r)};e.on("free",n);let i=()=>{t.removeSocket(e,r)};e.on("close",i);let o=()=>{t.removeSocket(e,r),e.off("close",i),e.off("free",n),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},Lle=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!Gb.has(e)){if(lm.has(e))return(await lm.get(e)).alpnProtocol;let{path:r,agent:n}=t;t.path=t.socketPath;let i=Ele(t);lm.set(e,i);try{let{socket:o,alpnProtocol:s}=await i;if(Gb.set(e,s),t.path=r,s==="h2")o.destroy();else{let{globalAgent:a}=aD,c=aD.Agent.prototype.createConnection;n?n.createConnection===c?Y2(n,o,t):o.destroy():a.createConnection===c?Y2(a,o,t):o.destroy()}return lm.delete(e),s}catch(o){throw lm.delete(e),o}}return Gb.get(e)};cD.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=Tle(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||Ple(e),e.port=e.port||(n?443:80),e._defaultAgent=n?aD.globalAgent:J2.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await Lle(e)==="h2"?(i&&(e.agent=i.http2),new Cle(e,r)):J2.request(e,r)};cD.exports.protocolCache=Gb});var eU=v((QOe,Z2)=>{"use strict";var $le=require("http2"),kle=QE(),uD=sD(),Rle=eD(),Mle=Q2(),Ole=(t,e,r)=>new uD(t,e,r),Fle=(t,e,r)=>{let n=new uD(t,e,r);return n.end(),n};Z2.exports={...$le,ClientRequest:uD,IncomingMessage:Rle,...kle,request:Ole,get:Fle,auto:Mle}});var pD=v(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});var tU=ms();lD.default=t=>tU.default.nodeStream(t)&&tU.default.function_(t.getBoundary)});var oU=v(dD=>{"use strict";Object.defineProperty(dD,"__esModule",{value:!0});var nU=require("fs"),iU=require("util"),rU=ms(),Ble=pD(),Nle=iU.promisify(nU.stat);dD.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(rU.default.string(t))return Buffer.byteLength(t);if(rU.default.buffer(t))return t.length;if(Ble.default(t))return iU.promisify(t.getLength.bind(t))();if(t instanceof nU.ReadStream){let{size:r}=await Nle(t.path);return r===0?void 0:r}}});var hD=v(fD=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});function jle(t,e,r){let n={};for(let i of r)n[i]=(...o)=>{e.emit(i,...o)},t.on(i,n[i]);return()=>{for(let i of r)t.off(i,n[i])}}fD.default=jle});var sU=v(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});mD.default=()=>{let t=[];return{once(e,r,n){e.once(r,n),t.push({origin:e,event:r,fn:n})},unhandleAll(){for(let e of t){let{origin:r,event:n,fn:i}=e;r.removeListener(n,i)}t.length=0}}}});var cU=v(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.TimeoutError=void 0;var Ule=require("net"),qle=sU(),aU=Symbol("reentry"),Wle=()=>{},zb=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};pm.TimeoutError=zb;pm.default=(t,e,r)=>{if(aU in t)return Wle;t[aU]=!0;let n=[],{once:i,unhandleAll:o}=qle.default(),s=(p,d,m)=>{var f;let g=setTimeout(d,p,p,m);(f=g.unref)===null||f===void 0||f.call(g);let y=()=>{clearTimeout(g)};return n.push(y),y},{host:a,hostname:c}=r,u=(p,d)=>{t.destroy(new zb(p,d))},l=()=>{for(let p of n)p();o()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),i(t,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&s(e.request,u,"request"),typeof e.socket<"u"){let p=()=>{u(e.socket,"socket")};t.setTimeout(e.socket,p),n.push(()=>{t.removeListener("timeout",p)})}return i(t,"socket",p=>{var d;let{socketPath:m}=t;if(p.connecting){let f=!!(m??Ule.isIP((d=c??a)!==null&&d!==void 0?d:"")!==0);if(typeof e.lookup<"u"&&!f&&typeof p.address().address>"u"){let g=s(e.lookup,u,"lookup");i(p,"lookup",g)}if(typeof e.connect<"u"){let g=()=>s(e.connect,u,"connect");f?i(p,"connect",g()):i(p,"lookup",y=>{y===null&&i(p,"connect",g())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&i(p,"connect",()=>{let g=s(e.secureConnect,u,"secureConnect");i(p,"secureConnect",g)})}if(typeof e.send<"u"){let f=()=>s(e.send,u,"send");p.connecting?i(p,"connect",()=>{i(t,"upload-complete",f())}):i(t,"upload-complete",f())}}),typeof e.response<"u"&&i(t,"upload-complete",()=>{let p=s(e.response,u,"response");i(t,"response",p)}),l}});var lU=v(gD=>{"use strict";Object.defineProperty(gD,"__esModule",{value:!0});var uU=ms();gD.default=t=>{t=t;let e={protocol:t.protocol,hostname:uU.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return uU.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var pU=v(HD=>{"use strict";Object.defineProperty(HD,"__esModule",{value:!0});var Vle=require("url"),Gle=["protocol","host","hostname","port","pathname","search"];HD.default=(t,e)=>{var r,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(n=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&n!==void 0?n:""}`}let i=new Vle.URL(t);if(e.path){let o=e.path.indexOf("?");o===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,o),e.search=e.path.slice(o+1)),delete e.path}for(let o of Gle)e[o]&&(i[o]=e[o].toString());return i}});var dU=v(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});var yD=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};vD.default=yD});var wD=v(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});var zle=async t=>{let e=[],r=0;for await(let n of t)e.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};bD.default=zle});var hU=v(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.dnsLookupIpVersionToFamily=fu.isDnsLookupIpVersion=void 0;var fU={auto:0,ipv4:4,ipv6:6};fu.isDnsLookupIpVersion=t=>t in fU;fu.dnsLookupIpVersionToFamily=t=>{if(fu.isDnsLookupIpVersion(t))return fU[t];throw new Error("Invalid DNS lookup IP version")}});var xD=v(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.isResponseOk=void 0;Kb.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var gU=v(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});var mU=new Set;_D.default=t=>{mU.has(t)||(mU.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var HU=v(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});var ft=ms(),Kle=(t,e)=>{if(ft.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ft.assert.any([ft.default.string,ft.default.undefined],t.encoding),ft.assert.any([ft.default.boolean,ft.default.undefined],t.resolveBodyOnly),ft.assert.any([ft.default.boolean,ft.default.undefined],t.methodRewriting),ft.assert.any([ft.default.boolean,ft.default.undefined],t.isStream),ft.assert.any([ft.default.string,ft.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ft.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(n=>n.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):ft.default.number(r)&&(t.retry.limit=r),ft.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(ft.default.number))),ft.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:n}=t;if(!ft.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ft.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ft.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ft.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};AD.default=Kle});var yU=v(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.retryAfterStatusCodes=void 0;dm.retryAfterStatusCodes=new Set([413,429,503]);var Xle=({attemptCount:t,retryOptions:e,error:r,retryAfter:n})=>{if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),s=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!s)return 0;if(r.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};dm.default=Xle});var mm=v(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.UnsupportedProtocolError=je.ReadError=je.TimeoutError=je.UploadError=je.CacheError=je.HTTPError=je.MaxRedirectsError=je.RequestError=je.setNonEnumerableProperties=je.knownHookEvents=je.withoutBody=je.kIsNormalizedAlready=void 0;var vU=require("util"),bU=require("stream"),Jle=require("fs"),Ea=require("url"),wU=require("http"),ID=require("http"),Yle=require("https"),Qle=Mj(),Zle=qj(),xU=w2(),epe=I2(),tpe=eU(),rpe=qb(),W=ms(),npe=oU(),_U=pD(),ipe=hD(),AU=cU(),ope=lU(),IU=pU(),spe=dU(),ape=wD(),SU=hU(),cpe=xD(),Da=gU(),upe=HU(),lpe=yU(),SD,xr=Symbol("request"),Yb=Symbol("response"),Lp=Symbol("responseSize"),$p=Symbol("downloadedSize"),kp=Symbol("bodySize"),Rp=Symbol("uploadedSize"),Xb=Symbol("serverResponsesPiped"),EU=Symbol("unproxyEvents"),DU=Symbol("isFromCache"),ED=Symbol("cancelTimeouts"),CU=Symbol("startedReading"),Mp=Symbol("stopReading"),Jb=Symbol("triggerRead"),Ca=Symbol("body"),fm=Symbol("jobs"),PU=Symbol("originalResponse"),TU=Symbol("retryTimeout");je.kIsNormalizedAlready=Symbol("isNormalizedAlready");var ppe=W.default.string(process.versions.brotli);je.withoutBody=new Set(["GET","HEAD"]);je.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function dpe(t){for(let e in t){let r=t[e];if(!W.default.string(r)&&!W.default.number(r)&&!W.default.boolean(r)&&!W.default.null_(r)&&!W.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function fpe(t){return W.default.object(t)&&!("statusCode"in t)}var DD=new spe.default,hpe=async t=>new Promise((e,r)=>{let n=i=>{r(i)};t.pending||e(),t.once("error",n),t.once("ready",()=>{t.off("error",n),e()})}),mpe=new Set([300,301,302,303,304,307,308]),gpe=["context","body","json","form"];je.setNonEnumerableProperties=(t,e)=>{let r={};for(let n of t)if(n)for(let i of gpe)i in n&&(r[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,r)};var Ft=class extends Error{constructor(e,r,n){var i,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=r.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof iw?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[Yb]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(o=this.request)===null||o===void 0?void 0:o.timings,W.default.string(r.stack)&&W.default.string(this.stack)){let s=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(s).split(`
`).reverse(),c=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,s)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};je.RequestError=Ft;var Qb=class extends Ft{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};je.MaxRedirectsError=Qb;var Zb=class extends Ft{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};je.HTTPError=Zb;var ew=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};je.CacheError=ew;var tw=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};je.UploadError=tw;var rw=class extends Ft{constructor(e,r,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=r}};je.TimeoutError=rw;var hm=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};je.ReadError=hm;var nw=class extends Ft{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};je.UnsupportedProtocolError=nw;var Hpe=["socket","connect","continue","information","upgrade","timeout"],iw=class extends bU.Duplex{constructor(e,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[$p]=0,this[Rp]=0,this.requestInitialized=!1,this[Xb]=new Set,this.redirects=[],this[Mp]=!1,this[Jb]=!1,this[fm]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",u=>{u.prependListener("data",i),u.on("data",o),u.prependListener("end",i),u.on("end",o)}),this.on("unpipe",u=>{u.off("data",i),u.off("data",o),u.off("end",i),u.off("end",o)}),this.on("pipe",u=>{u instanceof ID.IncomingMessage&&(this.options.headers={...u.headers,...this.options.headers})});let{json:s,body:a,form:c}=r;if((s||a||c)&&this._lockWrite(),je.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,n)}catch(u){W.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(u);return}(async()=>{var u;try{this.options.body instanceof Jle.ReadStream&&await hpe(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(u=this[xr])===null||u===void 0||u.destroy();return}for(let p of this[fm])p();this[fm].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Ft){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,n){var i,o,s,a,c;let u=r;if(W.default.object(e)&&!W.default.urlInstance(e))r={...n,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},e!==void 0&&(r.url=e),W.default.urlInstance(r.url)&&(r.url=new Ea.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),W.assert.any([W.default.string,W.default.undefined],r.method),W.assert.any([W.default.object,W.default.undefined],r.headers),W.assert.any([W.default.string,W.default.urlInstance,W.default.undefined],r.prefixUrl),W.assert.any([W.default.object,W.default.undefined],r.cookieJar),W.assert.any([W.default.object,W.default.string,W.default.undefined],r.searchParams),W.assert.any([W.default.object,W.default.string,W.default.undefined],r.cache),W.assert.any([W.default.object,W.default.number,W.default.undefined],r.timeout),W.assert.any([W.default.object,W.default.undefined],r.context),W.assert.any([W.default.object,W.default.undefined],r.hooks),W.assert.any([W.default.boolean,W.default.undefined],r.decompress),W.assert.any([W.default.boolean,W.default.undefined],r.ignoreInvalidCookies),W.assert.any([W.default.boolean,W.default.undefined],r.followRedirect),W.assert.any([W.default.number,W.default.undefined],r.maxRedirects),W.assert.any([W.default.boolean,W.default.undefined],r.throwHttpErrors),W.assert.any([W.default.boolean,W.default.undefined],r.http2),W.assert.any([W.default.boolean,W.default.undefined],r.allowGetBody),W.assert.any([W.default.string,W.default.undefined],r.localAddress),W.assert.any([SU.isDnsLookupIpVersion,W.default.undefined],r.dnsLookupIpVersion),W.assert.any([W.default.object,W.default.undefined],r.https),W.assert.any([W.default.boolean,W.default.undefined],r.rejectUnauthorized),r.https&&(W.assert.any([W.default.boolean,W.default.undefined],r.https.rejectUnauthorized),W.assert.any([W.default.function_,W.default.undefined],r.https.checkServerIdentity),W.assert.any([W.default.string,W.default.object,W.default.array,W.default.undefined],r.https.certificateAuthority),W.assert.any([W.default.string,W.default.object,W.default.array,W.default.undefined],r.https.key),W.assert.any([W.default.string,W.default.object,W.default.array,W.default.undefined],r.https.certificate),W.assert.any([W.default.string,W.default.undefined],r.https.passphrase),W.assert.any([W.default.string,W.default.buffer,W.default.array,W.default.undefined],r.https.pfx)),W.assert.any([W.default.object,W.default.undefined],r.cacheOptions),W.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=rpe({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let m;if(W.default.string(r.searchParams)||r.searchParams instanceof Ea.URLSearchParams)m=new Ea.URLSearchParams(r.searchParams);else{dpe(r.searchParams),m=new Ea.URLSearchParams;for(let f in r.searchParams){let g=r.searchParams[f];g===null?m.append(f,""):g!==void 0&&m.append(f,g)}}(i=n?.searchParams)===null||i===void 0||i.forEach((f,g)=>{m.has(g)||m.append(g,f)}),r.searchParams=m}if(r.username=(o=r.username)!==null&&o!==void 0?o:"",r.password=(s=r.password)!==null&&s!==void 0?s:"",W.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),W.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=IU.default(r.prefixUrl+r.url,r)}else(W.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=IU.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:g=>{let y=r.url;if(!y.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${g}: ${y.href}`);r.url=new Ea.URL(g+y.href.slice(m.length)),m=g},get:()=>m});let{protocol:f}=r.url;if(f==="unix:"&&(f="http:",r.url=new Ea.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),f!=="http:"&&f!=="https:")throw new nw(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:m,getCookieString:f}=l;W.assert.function_(m),W.assert.function_(f),m.length===4&&f.length===0&&(m=vU.promisify(m.bind(r.cookieJar)),f=vU.promisify(f.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:f})}let{cache:p}=r;if(p&&(DD.has(p)||DD.set(p,new xU((m,f)=>{let g=m[xr](m,f);return W.default.promise(g)&&(g.once=(y,x)=>{if(y==="error")g.catch(x);else if(y==="abort")(async()=>{try{(await g).once("abort",x)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${y}`);return g}),g},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)SD||(SD=new Zle.default),r.dnsCache=SD;else if(!W.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${W.default(r.dnsCache)}`);W.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let d=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let m of je.knownHookEvents)if(m in r.hooks)if(W.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${W.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!d)for(let m of je.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&Da.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&Da.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&Da.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&Da.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&Da.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&Da.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&Da.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&Da.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(c=r.maxRedirects)!==null&&c!==void 0?c:0,je.setNonEnumerableProperties([n,u],r),upe.default(r,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!W.default.undefined(e.form),i=!W.default.undefined(e.json),o=!W.default.undefined(e.body),s=n||i||o,a=je.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,s){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,i].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof bU.Readable)&&!W.default.string(e.body)&&!W.default.buffer(e.body)&&!_U.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!W.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let c=!W.default.string(r["content-type"]);o?(_U.default(e.body)&&c&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[Ca]=e.body):n?(c&&(r["content-type"]="application/x-www-form-urlencoded"),this[Ca]=new Ea.URLSearchParams(e.form).toString()):(c&&(r["content-type"]="application/json"),this[Ca]=e.stringifyJson(e.json));let u=await npe.default(this[Ca],e.headers);W.default.undefined(r["content-length"])&&W.default.undefined(r["transfer-encoding"])&&!a&&!W.default.undefined(u)&&(r["content-length"]=String(u))}}else a?this._lockWrite():this._unlockWrite();this[kp]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:n}=r;this[PU]=e,r.decompress&&(e=epe(e));let i=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:wU.STATUS_CODES[i],o.url=r.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[DU]=o.isFromCache,this[Lp]=Number(e.headers["content-length"])||void 0,this[Yb]=e,e.once("end",()=>{this[Lp]=this[$p],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new hm(a,this))}),e.once("aborted",()=>{this._beforeError(new hm({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(W.default.object(r.cookieJar)&&s){let a=s.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(r.followRedirect&&e.headers.location&&mpe.has(i)){if(e.resume(),this[xr]&&(this[ED](),delete this[xr],this[EU]()),(i===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[Ca]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new Qb(this));return}try{let p=function(d){return d.protocol==="unix:"||d.hostname==="unix"},c=Buffer.from(e.headers.location,"binary").toString(),u=new Ea.URL(c,n),l=u.toString();if(decodeURI(l),!p(n)&&p(u)){this._beforeError(new Ft("Cannot redirect to UNIX socket",{},this));return}u.hostname!==n.hostname||u.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(u.username=r.username,u.password=r.password),this.redirects.push(l),r.url=u;for(let d of r.hooks.beforeRedirect)await d(r,o);this.emit("redirect",o,r),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(r.isStream&&r.throwHttpErrors&&!cpe.isResponseOk(o)){this._beforeError(new Zb(o));return}e.on("readable",()=>{this[Jb]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[Xb])if(!a.headersSent){for(let c in e.headers){let u=r.decompress?c!=="content-encoding":!0,l=e.headers[c];u&&a.setHeader(c,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;Qle.default(e),this[ED]=AU.default(e,n,i);let o=r.cache?"cacheableResponse":"response";e.once(o,c=>{this._onResponse(c)}),e.once("error",c=>{var u;e.destroy(),(u=e.res)===null||u===void 0||u.removeAllListeners("end"),c=c instanceof AU.TimeoutError?new rw(c,this.timings,this):new Ft(c.message,c,this),this._beforeError(c)}),this[EU]=ipe.default(e,this,Hpe),this[xr]=e,this.emit("uploadProgress",this.uploadProgress);let s=this[Ca],a=this.redirects.length===0?this:e;W.default.nodeStream(s)?(s.pipe(a),s.once("error",c=>{this._beforeError(new tw(c,this))})):(this._unlockWrite(),W.default.undefined(s)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(s,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,ope.default(e)),delete r.url;let o,s=DD.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",a),n(a)});r.url=e,s.once("error",i),s.once("request",async a=>{o=a,n(o)})})}async _makeRequest(){var e,r,n,i,o;let{options:s}=this,{headers:a}=s;for(let x in a)if(W.default.undefined(a[x]))delete a[x];else if(W.default.null_(a[x]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${x}\` header`);if(s.decompress&&W.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=ppe?"gzip, deflate, br":"gzip, deflate"),s.cookieJar){let x=await s.cookieJar.getCookieString(s.url.toString());W.default.nonEmptyString(x)&&(s.headers.cookie=x)}for(let x of s.hooks.beforeRequest){let E=await x(s);if(!W.default.undefined(E)){s.request=()=>E;break}}s.body&&this[Ca]!==s.body&&(this[Ca]=s.body);let{agent:c,request:u,timeout:l,url:p}=s;if(s.dnsCache&&!("lookup"in s)&&(s.lookup=s.dnsCache.lookup),p.hostname==="unix"){let x=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(x?.groups){let{socketPath:E,path:$}=x.groups;Object.assign(s,{socketPath:E,path:$,host:""})}}let d=p.protocol==="https:",m;s.http2?m=tpe.auto:m=d?Yle.request:wU.request;let f=(e=s.request)!==null&&e!==void 0?e:m,g=s.cache?this._createCacheableRequest:f;c&&!s.http2&&(s.agent=c[d?"https":"http"]),s[xr]=f,delete s.request,delete s.timeout;let y=s;if(y.shared=(r=s.cacheOptions)===null||r===void 0?void 0:r.shared,y.cacheHeuristic=(n=s.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,y.immutableMinTimeToLive=(i=s.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,y.ignoreCargoCult=(o=s.cacheOptions)===null||o===void 0?void 0:o.ignoreCargoCult,s.dnsLookupIpVersion!==void 0)try{y.family=SU.dnsLookupIpVersionToFamily(s.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}s.https&&("rejectUnauthorized"in s.https&&(y.rejectUnauthorized=s.https.rejectUnauthorized),s.https.checkServerIdentity&&(y.checkServerIdentity=s.https.checkServerIdentity),s.https.certificateAuthority&&(y.ca=s.https.certificateAuthority),s.https.certificate&&(y.cert=s.https.certificate),s.https.key&&(y.key=s.https.key),s.https.passphrase&&(y.passphrase=s.https.passphrase),s.https.pfx&&(y.pfx=s.https.pfx));try{let x=await g(p,y);W.default.undefined(x)&&(x=m(p,y)),s.request=u,s.timeout=l,s.agent=c,s.https&&("rejectUnauthorized"in s.https&&delete y.rejectUnauthorized,s.https.checkServerIdentity&&delete y.checkServerIdentity,s.https.certificateAuthority&&delete y.ca,s.https.certificate&&delete y.cert,s.https.key&&delete y.key,s.https.passphrase&&delete y.passphrase,s.https.pfx&&delete y.pfx),fpe(x)?this._onRequest(x):this.writable?(this.once("finish",()=>{this._onResponse(x)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(x)}catch(x){throw x instanceof xU.CacheError?new ew(x,this):new Ft(x.message,x,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Ft(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[Mp])return;let{options:r}=this,n=this.retryCount+1;this[Mp]=!0,e instanceof Ft||(e=new Ft(e.message,e,this));let i=e,{response:o}=i;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await ape.default(o),o.body=o.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let s;try{let a;o&&"retry-after"in o.headers&&(a=Number(o.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(o.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),s=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:lpe.default({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new Ft(a.message,a,this));return}if(s){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,i,n)}catch(c){this._error(new Ft(c.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[TU]=setTimeout(a,s);return}}this._error(i)})()}_read(){this[Jb]=!0;let e=this[Yb];if(e&&!this[Mp]){e.readableLength&&(this[Jb]=!1);let r;for(;(r=e.read())!==null;){this[$p]+=r.length,this[CU]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this.requestInitialized?i():this[fm].push(i)}_writeRequest(e,r,n){this[xr].destroyed||(this._progressCallbacks.push(()=>{this[Rp]+=Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[xr].write(e,r,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(xr in this)){e();return}if(this[xr].destroyed){e();return}this[xr].end(n=>{n||(this[kp]=this[Rp],this.emit("uploadProgress",this.uploadProgress),this[xr].emit("upload-complete")),e(n)})};this.requestInitialized?r():this[fm].push(r)}_destroy(e,r){var n;this[Mp]=!0,clearTimeout(this[TU]),xr in this&&(this[ED](),!((n=this[Yb])===null||n===void 0)&&n.complete||this[xr].destroy()),e!==null&&!W.default.undefined(e)&&!(e instanceof Ft)&&(e=new Ft(e.message,e,this)),r(e)}get _isAboutToError(){return this[Mp]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,n;return((r=(e=this[xr])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[PU])===null||n===void 0)&&n.complete)}get socket(){var e,r;return(r=(e=this[xr])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[Lp]?e=this[$p]/this[Lp]:this[Lp]===this[$p]?e=1:e=0,{percent:e,transferred:this[$p],total:this[Lp]}}get uploadProgress(){let e;return this[kp]?e=this[Rp]/this[kp]:this[kp]===this[Rp]?e=1:e=0,{percent:e,transferred:this[Rp],total:this[kp]}}get timings(){var e;return(e=this[xr])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[DU]}pipe(e,r){if(this[CU])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof ID.ServerResponse&&this[Xb].add(e),super.pipe(e,r)}unpipe(e){return e instanceof ID.ServerResponse&&this[Xb].delete(e),super.unpipe(e),this}};je.default=iw});var gm=v(Ti=>{"use strict";var ype=Ti&&Ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vpe=Ti&&Ti.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ype(e,t,r)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.CancelError=Ti.ParseError=void 0;var LU=mm(),CD=class extends LU.RequestError{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};Ti.ParseError=CD;var PD=class extends LU.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};Ti.CancelError=PD;vpe(mm(),Ti)});var kU=v(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});var $U=gm(),bpe=(t,e,r,n)=>{let{rawBody:i}=t;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":r(i.toString());if(e==="buffer")return i;throw new $U.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(o){throw new $U.ParseError(o,t)}};TD.default=bpe});var LD=v(Pa=>{"use strict";var wpe=Pa&&Pa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xpe=Pa&&Pa.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wpe(e,t,r)};Object.defineProperty(Pa,"__esModule",{value:!0});var _pe=require("events"),Ape=ms(),Ipe=kj(),ow=gm(),RU=kU(),MU=mm(),Spe=hD(),Epe=wD(),OU=xD(),Dpe=["request","response","redirect","uploadProgress","downloadProgress"];function FU(t){let e,r,n=new _pe.EventEmitter,i=new Ipe((s,a,c)=>{let u=l=>{let p=new MU.default(void 0,t);p.retryCount=l,p._noPipe=!0,c(()=>p.destroy()),c.shouldReject=!1,c(()=>a(new ow.CancelError(p))),e=p,p.once("response",async f=>{var g;if(f.retryCount=l,f.request.aborted)return;let y;try{y=await Epe.default(p),f.rawBody=y}catch{return}if(p._isAboutToError)return;let x=((g=f.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),E=["gzip","deflate","br"].includes(x),{options:$}=p;if(E&&!$.decompress)f.body=y;else try{f.body=RU.default(f,$.responseType,$.parseJson,$.encoding)}catch(L){if(f.body=y.toString(),OU.isResponseOk(f)){p._beforeError(L);return}}try{for(let[L,R]of $.hooks.afterResponse.entries())f=await R(f,async X=>{let z=MU.default.normalizeArguments(void 0,{...X,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},$);z.hooks.afterResponse=z.hooks.afterResponse.slice(0,L);for(let M of z.hooks.beforeRetry)await M(z);let F=FU(z);return c(()=>{F.catch(()=>{}),F.cancel()}),F})}catch(L){p._beforeError(new ow.RequestError(L.message,L,p));return}if(r=f,!OU.isResponseOk(f)){p._beforeError(new ow.HTTPError(f));return}p.destroy(),s(p.options.resolveBodyOnly?f.body:f)});let d=f=>{if(i.isCanceled)return;let{options:g}=p;if(f instanceof ow.HTTPError&&!g.throwHttpErrors){let{response:y}=f;s(p.options.resolveBodyOnly?y.body:y);return}a(f)};p.once("error",d);let m=p.options.body;p.once("retry",(f,g)=>{var y,x;if(m===((y=g.request)===null||y===void 0?void 0:y.options.body)&&Ape.default.nodeStream((x=g.request)===null||x===void 0?void 0:x.options.body)){d(g);return}u(f)}),Spe.default(p,n,Dpe)};u(0)});i.on=(s,a)=>(n.on(s,a),i);let o=s=>{let a=(async()=>{await i;let{options:c}=r.request;return RU.default(r,s,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:s}=e.options;return!e.writableFinished&&s.accept===void 0&&(s.accept="application/json"),o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}Pa.default=FU;xpe(gm(),Pa)});var BU=v($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0});var Cpe=gm();function Ppe(t,...e){let r=(async()=>{if(t instanceof Cpe.RequestError)try{for(let i of e)if(i)for(let o of i)t=await o(t)}catch(i){t=i}throw t})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}$D.default=Ppe});var UU=v(kD=>{"use strict";Object.defineProperty(kD,"__esModule",{value:!0});var NU=ms();function jU(t){for(let e of Object.values(t))(NU.default.plainObject(e)||NU.default.array(e))&&jU(e);return Object.freeze(t)}kD.default=jU});var WU=v(qU=>{"use strict";Object.defineProperty(qU,"__esModule",{value:!0})});var RD=v(ri=>{"use strict";var Tpe=ri&&ri.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lpe=ri&&ri.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tpe(e,t,r)};Object.defineProperty(ri,"__esModule",{value:!0});ri.defaultHandler=void 0;var VU=ms(),ti=LD(),$pe=BU(),aw=mm(),kpe=UU(),Rpe={RequestError:ti.RequestError,CacheError:ti.CacheError,ReadError:ti.ReadError,HTTPError:ti.HTTPError,MaxRedirectsError:ti.MaxRedirectsError,TimeoutError:ti.TimeoutError,ParseError:ti.ParseError,CancelError:ti.CancelError,UnsupportedProtocolError:ti.UnsupportedProtocolError,UploadError:ti.UploadError},Mpe=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:sw}=aw.default,GU=(...t)=>{let e;for(let r of t)e=sw(void 0,r,e);return e},Ope=t=>t.isStream?new aw.default(void 0,t):ti.default(t),Fpe=t=>"defaults"in t&&"options"in t.defaults,Bpe=["get","post","put","patch","head","delete"];ri.defaultHandler=(t,e)=>e(t);var zU=(t,e)=>{if(t)for(let r of t)r(e)},KU=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(n=>(i,o)=>{let s,a=n(i,c=>(s=o(c),s));if(a!==s&&!i.isStream&&s){let c=a,{then:u,catch:l,finally:p}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(s)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c.then=u,c.catch=l,c.finally=p}return a});let e=(n,i={},o)=>{var s,a;let c=0,u=l=>t.handlers[c++](l,c===t.handlers.length?Ope:u);if(VU.default.plainObject(n)){let l={...n,...i};aw.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{zU(t.options.hooks.init,i),zU((s=i.hooks)===null||s===void 0?void 0:s.init,i)}catch(d){l=d}let p=sw(n,i,o??t.options);if(p[aw.kIsNormalizedAlready]=!0,l)throw new ti.RequestError(l.message,l,p);return u(p)}catch(l){if(i.isStream)throw l;return $pe.default(l,t.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[t.options],o=[...t._rawHandlers],s;for(let a of n)Fpe(a)?(i.push(a.defaults.options),o.push(...a.defaults._rawHandlers),s=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&o.push(...a.handlers),s=a.mutableDefaults);return o=o.filter(a=>a!==ri.defaultHandler),o.length===0&&o.push(ri.defaultHandler),KU({options:GU(...i),handlers:o,mutableDefaults:!!s})};let r=async function*(n,i){let o=sw(n,i,t.options);o.resolveBodyOnly=!1;let s=o.pagination;if(!VU.default.object(s))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=s,u=0;for(;u<s.requestLimit;){u!==0&&await Mpe(s.backoff);let l=await e(void 0,void 0,o),p=await s.transform(l),d=[];for(let f of p)if(s.filter(f,a,d)&&(!s.shouldContinue(f,a,d)||(yield f,s.stackAllItems&&a.push(f),d.push(f),--c<=0)))return;let m=s.paginate(l,a,d);if(m===!1)return;m===l.request.options?o=l.request.options:m!==void 0&&(o=sw(void 0,m,o)),u++}};e.paginate=r,e.paginate.all=async(n,i)=>{let o=[];for await(let s of r(n,i))o.push(s);return o},e.paginate.each=r,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of Bpe)e[n]=(i,o)=>e(i,{...o,method:n}),e.stream[n]=(i,o)=>e(i,{...o,method:n,isStream:!0});return Object.assign(e,Rpe),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:kpe.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=GU,e};ri.default=KU;Lpe(WU(),ri)});var YU=v((gs,cw)=>{"use strict";var Npe=gs&&gs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XU=gs&&gs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Npe(e,t,r)};Object.defineProperty(gs,"__esModule",{value:!0});var jpe=require("url"),JU=RD(),Upe={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let n of e){let i=n.split(";");if(i[1].includes("next")){r=i[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new jpe.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[JU.defaultHandler],mutableDefaults:!1},MD=JU.default(Upe);gs.default=MD;cw.exports=MD;cw.exports.default=MD;cw.exports.__esModule=!0;XU(RD(),gs);XU(LD(),gs)});var sq=v((ABe,lw)=>{var er=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=d(n),o="0123456789abcdefghijklmnopqrstuvwxyz",s=typeof BigInt=="function";function a(h,H,w,_){return typeof h>"u"?a[0]:typeof H<"u"?+H==10&&!w?be(h):xt(h,H,w,_):be(h)}function c(h,H){this.value=h,this.sign=H,this.isSmall=!1}c.prototype=Object.create(a.prototype);function u(h){this.value=h,this.sign=h<0,this.isSmall=!0}u.prototype=Object.create(a.prototype);function l(h){this.value=h}l.prototype=Object.create(a.prototype);function p(h){return-n<h&&h<n}function d(h){return h<1e7?[h]:h<1e14?[h%1e7,Math.floor(h/1e7)]:[h%1e7,Math.floor(h/1e7)%1e7,Math.floor(h/1e14)]}function m(h){f(h);var H=h.length;if(H<4&&K(h,i)<0)switch(H){case 0:return 0;case 1:return h[0];case 2:return h[0]+h[1]*e;default:return h[0]+(h[1]+h[2]*e)*e}return h}function f(h){for(var H=h.length;h[--H]===0;);h.length=H+1}function g(h){for(var H=new Array(h),w=-1;++w<h;)H[w]=0;return H}function y(h){return h>0?Math.floor(h):Math.ceil(h)}function x(h,H){var w=h.length,_=H.length,P=new Array(w),k=0,j=e,q,N;for(N=0;N<_;N++)q=h[N]+H[N]+k,k=q>=j?1:0,P[N]=q-k*j;for(;N<w;)q=h[N]+k,k=q===j?1:0,P[N++]=q-k*j;return k>0&&P.push(k),P}function E(h,H){return h.length>=H.length?x(h,H):x(H,h)}function $(h,H){var w=h.length,_=new Array(w),P=e,k,j;for(j=0;j<w;j++)k=h[j]-P+H,H=Math.floor(k/P),_[j]=k-H*P,H+=1;for(;H>0;)_[j++]=H%P,H=Math.floor(H/P);return _}c.prototype.add=function(h){var H=be(h);if(this.sign!==H.sign)return this.subtract(H.negate());var w=this.value,_=H.value;return H.isSmall?new c($(w,Math.abs(_)),this.sign):new c(E(w,_),this.sign)},c.prototype.plus=c.prototype.add,u.prototype.add=function(h){var H=be(h),w=this.value;if(w<0!==H.sign)return this.subtract(H.negate());var _=H.value;if(H.isSmall){if(p(w+_))return new u(w+_);_=d(Math.abs(_))}return new c($(_,Math.abs(w)),w<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(h){return new l(this.value+be(h).value)},l.prototype.plus=l.prototype.add;function L(h,H){var w=h.length,_=H.length,P=new Array(w),k=0,j=e,q,N;for(q=0;q<_;q++)N=h[q]-k-H[q],N<0?(N+=j,k=1):k=0,P[q]=N;for(q=_;q<w;q++){if(N=h[q]-k,N<0)N+=j;else{P[q++]=N;break}P[q]=N}for(;q<w;q++)P[q]=h[q];return f(P),P}function R(h,H,w){var _;return K(h,H)>=0?_=L(h,H):(_=L(H,h),w=!w),_=m(_),typeof _=="number"?(w&&(_=-_),new u(_)):new c(_,w)}function X(h,H,w){var _=h.length,P=new Array(_),k=-H,j=e,q,N;for(q=0;q<_;q++)N=h[q]+k,k=Math.floor(N/j),N%=j,P[q]=N<0?N+j:N;return P=m(P),typeof P=="number"?(w&&(P=-P),new u(P)):new c(P,w)}c.prototype.subtract=function(h){var H=be(h);if(this.sign!==H.sign)return this.add(H.negate());var w=this.value,_=H.value;return H.isSmall?X(w,Math.abs(_),this.sign):R(w,_,this.sign)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(h){var H=be(h),w=this.value;if(w<0!==H.sign)return this.add(H.negate());var _=H.value;return H.isSmall?new u(w-_):X(_,Math.abs(w),w>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(h){return new l(this.value-be(h).value)},l.prototype.minus=l.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},u.prototype.negate=function(){var h=this.sign,H=new u(-this.value);return H.sign=!h,H},l.prototype.negate=function(){return new l(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function z(h,H){var w=h.length,_=H.length,P=w+_,k=g(P),j=e,q,N,ae,de,He;for(ae=0;ae<w;++ae){de=h[ae];for(var ke=0;ke<_;++ke)He=H[ke],q=de*He+k[ae+ke],N=Math.floor(q/j),k[ae+ke]=q-N*j,k[ae+ke+1]+=N}return f(k),k}function F(h,H){var w=h.length,_=new Array(w),P=e,k=0,j,q;for(q=0;q<w;q++)j=h[q]*H+k,k=Math.floor(j/P),_[q]=j-k*P;for(;k>0;)_[q++]=k%P,k=Math.floor(k/P);return _}function M(h,H){for(var w=[];H-- >0;)w.push(0);return w.concat(h)}function O(h,H){var w=Math.max(h.length,H.length);if(w<=30)return z(h,H);w=Math.ceil(w/2);var _=h.slice(w),P=h.slice(0,w),k=H.slice(w),j=H.slice(0,w),q=O(P,j),N=O(_,k),ae=O(E(P,_),E(j,k)),de=E(E(q,M(L(L(ae,q),N),w)),M(N,2*w));return f(de),de}function C(h,H){return-.012*h-.012*H+15e-6*h*H>0}c.prototype.multiply=function(h){var H=be(h),w=this.value,_=H.value,P=this.sign!==H.sign,k;if(H.isSmall){if(_===0)return a[0];if(_===1)return this;if(_===-1)return this.negate();if(k=Math.abs(_),k<e)return new c(F(w,k),P);_=d(k)}return C(w.length,_.length)?new c(O(w,_),P):new c(z(w,_),P)},c.prototype.times=c.prototype.multiply;function V(h,H,w){return h<e?new c(F(H,h),w):new c(z(H,d(h)),w)}u.prototype._multiplyBySmall=function(h){return p(h.value*this.value)?new u(h.value*this.value):V(Math.abs(h.value),d(Math.abs(this.value)),this.sign!==h.sign)},c.prototype._multiplyBySmall=function(h){return h.value===0?a[0]:h.value===1?this:h.value===-1?this.negate():V(Math.abs(h.value),this.value,this.sign!==h.sign)},u.prototype.multiply=function(h){return be(h)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(h){return new l(this.value*be(h).value)},l.prototype.times=l.prototype.multiply;function B(h){var H=h.length,w=g(H+H),_=e,P,k,j,q,N;for(j=0;j<H;j++){q=h[j],k=0-q*q;for(var ae=j;ae<H;ae++)N=h[ae],P=2*(q*N)+w[j+ae]+k,k=Math.floor(P/_),w[j+ae]=P-k*_;w[j+H]=k}return f(w),w}c.prototype.square=function(){return new c(B(this.value),!1)},u.prototype.square=function(){var h=this.value*this.value;return p(h)?new u(h):new c(B(d(Math.abs(this.value))),!1)},l.prototype.square=function(h){return new l(this.value*this.value)};function G(h,H){var w=h.length,_=H.length,P=e,k=g(H.length),j=H[_-1],q=Math.ceil(P/(2*j)),N=F(h,q),ae=F(H,q),de,He,ke,vn,Zr,C0,P0;for(N.length<=w&&N.push(0),ae.push(0),j=ae[_-1],He=w-_;He>=0;He--){for(de=P-1,N[He+_]!==j&&(de=Math.floor((N[He+_]*P+N[He+_-1])/j)),ke=0,vn=0,C0=ae.length,Zr=0;Zr<C0;Zr++)ke+=de*ae[Zr],P0=Math.floor(ke/P),vn+=N[He+Zr]-(ke-P0*P),ke=P0,vn<0?(N[He+Zr]=vn+P,vn=-1):(N[He+Zr]=vn,vn=0);for(;vn!==0;){for(de-=1,ke=0,Zr=0;Zr<C0;Zr++)ke+=N[He+Zr]-P+ae[Zr],ke<0?(N[He+Zr]=ke+P,ke=0):(N[He+Zr]=ke,ke=1);vn+=ke}k[He]=de}return N=T(N,q)[0],[m(k),m(N)]}function S(h,H){for(var w=h.length,_=H.length,P=[],k=[],j=e,q,N,ae,de,He;w;){if(k.unshift(h[--w]),f(k),K(k,H)<0){P.push(0);continue}N=k.length,ae=k[N-1]*j+k[N-2],de=H[_-1]*j+H[_-2],N>_&&(ae=(ae+1)*j),q=Math.ceil(ae/de);do{if(He=F(H,q),K(He,k)<=0)break;q--}while(q);P.push(q),k=L(k,He)}return P.reverse(),[m(P),m(k)]}function T(h,H){var w=h.length,_=g(w),P=e,k,j,q,N;for(q=0,k=w-1;k>=0;--k)N=q*P+h[k],j=y(N/H),q=N-j*H,_[k]=j|0;return[_,q|0]}function J(h,H){var w,_=be(H);if(s)return[new l(h.value/_.value),new l(h.value%_.value)];var P=h.value,k=_.value,j;if(k===0)throw new Error("Cannot divide by zero");if(h.isSmall)return _.isSmall?[new u(y(P/k)),new u(P%k)]:[a[0],h];if(_.isSmall){if(k===1)return[h,a[0]];if(k==-1)return[h.negate(),a[0]];var q=Math.abs(k);if(q<e){w=T(P,q),j=m(w[0]);var N=w[1];return h.sign&&(N=-N),typeof j=="number"?(h.sign!==_.sign&&(j=-j),[new u(j),new u(N)]):[new c(j,h.sign!==_.sign),new u(N)]}k=d(q)}var ae=K(P,k);if(ae===-1)return[a[0],h];if(ae===0)return[a[h.sign===_.sign?1:-1],a[0]];P.length+k.length<=200?w=G(P,k):w=S(P,k),j=w[0];var de=h.sign!==_.sign,He=w[1],ke=h.sign;return typeof j=="number"?(de&&(j=-j),j=new u(j)):j=new c(j,de),typeof He=="number"?(ke&&(He=-He),He=new u(He)):He=new c(He,ke),[j,He]}c.prototype.divmod=function(h){var H=J(this,h);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=u.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(h){return J(this,h)[0]},l.prototype.over=l.prototype.divide=function(h){return new l(this.value/be(h).value)},u.prototype.over=u.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(h){return J(this,h)[1]},l.prototype.mod=l.prototype.remainder=function(h){return new l(this.value%be(h).value)},u.prototype.remainder=u.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(h){var H=be(h),w=this.value,_=H.value,P,k,j;if(_===0)return a[1];if(w===0)return a[0];if(w===1)return a[1];if(w===-1)return H.isEven()?a[1]:a[-1];if(H.sign)return a[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(P=Math.pow(w,_)))return new u(y(P));for(k=this,j=a[1];_&!0&&(j=j.times(k),--_),_!==0;)_/=2,k=k.square();return j},u.prototype.pow=c.prototype.pow,l.prototype.pow=function(h){var H=be(h),w=this.value,_=H.value,P=BigInt(0),k=BigInt(1),j=BigInt(2);if(_===P)return a[1];if(w===P)return a[0];if(w===k)return a[1];if(w===BigInt(-1))return H.isEven()?a[1]:a[-1];if(H.isNegative())return new l(P);for(var q=this,N=a[1];(_&k)===k&&(N=N.times(q),--_),_!==P;)_/=j,q=q.square();return N},c.prototype.modPow=function(h,H){if(h=be(h),H=be(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var w=a[1],_=this.mod(H);for(h.isNegative()&&(h=h.multiply(a[-1]),_=_.modInv(H));h.isPositive();){if(_.isZero())return a[0];h.isOdd()&&(w=w.multiply(_).mod(H)),h=h.divide(2),_=_.square().mod(H)}return w},l.prototype.modPow=u.prototype.modPow=c.prototype.modPow;function K(h,H){if(h.length!==H.length)return h.length>H.length?1:-1;for(var w=h.length-1;w>=0;w--)if(h[w]!==H[w])return h[w]>H[w]?1:-1;return 0}c.prototype.compareAbs=function(h){var H=be(h),w=this.value,_=H.value;return H.isSmall?1:K(w,_)},u.prototype.compareAbs=function(h){var H=be(h),w=Math.abs(this.value),_=H.value;return H.isSmall?(_=Math.abs(_),w===_?0:w>_?1:-1):-1},l.prototype.compareAbs=function(h){var H=this.value,w=be(h).value;return H=H>=0?H:-H,w=w>=0?w:-w,H===w?0:H>w?1:-1},c.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),w=this.value,_=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:K(w,_)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),w=this.value,_=H.value;return H.isSmall?w==_?0:w>_?1:-1:w<0!==H.sign?w<0?-1:1:w<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=this.value,w=be(h).value;return H===w?0:H>w?1:-1},l.prototype.compareTo=l.prototype.compare,c.prototype.equals=function(h){return this.compare(h)===0},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(h){return this.compare(h)!==0},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(h){return this.compare(h)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(h){return this.compare(h)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(h){return this.compare(h)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(h){return this.compare(h)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,c.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(h){var H=be(h);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=c.prototype.isDivisibleBy;function ee(h){var H=h.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function ne(h,H){for(var w=h.prev(),_=w,P=0,k,j,q,N;_.isEven();)_=_.divide(2),P++;e:for(q=0;q<H.length;q++)if(!h.lesser(H[q])&&(N=er(H[q]).modPow(_,h),!(N.isUnit()||N.equals(w)))){for(k=P-1;k!=0;k--){if(N=N.square().mod(h),N.isUnit())return!1;if(N.equals(w))continue e}return!1}return!0}c.prototype.isPrime=function(h){var H=ee(this);if(H!==t)return H;var w=this.abs(),_=w.bitLength();if(_<=64)return ne(w,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var P=Math.log(2)*_.toJSNumber(),k=Math.ceil(h===!0?2*Math.pow(P,2):P),j=[],q=0;q<k;q++)j.push(er(q+2));return ne(w,j)},l.prototype.isPrime=u.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(h,H){var w=ee(this);if(w!==t)return w;for(var _=this.abs(),P=h===t?5:h,k=[],j=0;j<P;j++)k.push(er.randBetween(2,_.minus(2),H));return ne(_,k)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(h){for(var H=er.zero,w=er.one,_=be(h),P=this.abs(),k,j,q;!P.isZero();)k=_.divide(P),j=H,q=_,H=w,_=P,w=j.subtract(k.multiply(w)),P=q.subtract(k.multiply(P));if(!_.isUnit())throw new Error(this.toString()+" and "+h.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(h)),this.isNegative()?H.negate():H},l.prototype.modInv=u.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var h=this.value;return this.sign?X(h,1,this.sign):new c($(h,1),this.sign)},u.prototype.next=function(){var h=this.value;return h+1<n?new u(h+1):new c(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},c.prototype.prev=function(){var h=this.value;return this.sign?new c($(h,1),!0):X(h,1,this.sign)},u.prototype.prev=function(){var h=this.value;return h-1>-n?new u(h-1):new c(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var Q=[1];2*Q[Q.length-1]<=e;)Q.push(2*Q[Q.length-1]);var pe=Q.length,Ae=Q[pe-1];function me(h){return Math.abs(h)<=e}c.prototype.shiftLeft=function(h){var H=be(h).toJSNumber();if(!me(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var w=this;if(w.isZero())return w;for(;H>=pe;)w=w.multiply(Ae),H-=pe-1;return w.multiply(Q[H])},l.prototype.shiftLeft=u.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(h){var H,w=be(h).toJSNumber();if(!me(w))throw new Error(String(w)+" is too large for shifting.");if(w<0)return this.shiftLeft(-w);for(var _=this;w>=pe;){if(_.isZero()||_.isNegative()&&_.isUnit())return _;H=J(_,Ae),_=H[1].isNegative()?H[0].prev():H[0],w-=pe-1}return H=J(_,Q[w]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=u.prototype.shiftRight=c.prototype.shiftRight;function Ke(h,H,w){H=be(H);for(var _=h.isNegative(),P=H.isNegative(),k=_?h.not():h,j=P?H.not():H,q=0,N=0,ae=null,de=null,He=[];!k.isZero()||!j.isZero();)ae=J(k,Ae),q=ae[1].toJSNumber(),_&&(q=Ae-1-q),de=J(j,Ae),N=de[1].toJSNumber(),P&&(N=Ae-1-N),k=ae[0],j=de[0],He.push(w(q,N));for(var ke=w(_?1:0,P?1:0)!==0?er(-1):er(0),vn=He.length-1;vn>=0;vn-=1)ke=ke.multiply(Ae).add(er(He[vn]));return ke}c.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=c.prototype.not,c.prototype.and=function(h){return Ke(this,h,function(H,w){return H&w})},l.prototype.and=u.prototype.and=c.prototype.and,c.prototype.or=function(h){return Ke(this,h,function(H,w){return H|w})},l.prototype.or=u.prototype.or=c.prototype.or,c.prototype.xor=function(h){return Ke(this,h,function(H,w){return H^w})},l.prototype.xor=u.prototype.xor=c.prototype.xor;var ge=1<<30,Xt=(e&-e)*(e&-e)|ge;function Xe(h){var H=h.value,w=typeof H=="number"?H|ge:typeof H=="bigint"?H|BigInt(ge):H[0]+H[1]*e|Xt;return w&-w}function ie(h,H){if(H.compareTo(h)<=0){var w=ie(h,H.square(H)),_=w.p,P=w.e,k=_.multiply(H);return k.compareTo(h)<=0?{p:k,e:P*2+1}:{p:_,e:P*2}}return{p:er(1),e:0}}c.prototype.bitLength=function(){var h=this;return h.compareTo(er(0))<0&&(h=h.negate().subtract(er(1))),h.compareTo(er(0))===0?er(0):er(ie(h,er(2)).e).add(er(1))},l.prototype.bitLength=u.prototype.bitLength=c.prototype.bitLength;function Le(h,H){return h=be(h),H=be(H),h.greater(H)?h:H}function te(h,H){return h=be(h),H=be(H),h.lesser(H)?h:H}function ve(h,H){if(h=be(h).abs(),H=be(H).abs(),h.equals(H))return h;if(h.isZero())return H;if(H.isZero())return h;for(var w=a[1],_,P;h.isEven()&&H.isEven();)_=te(Xe(h),Xe(H)),h=h.divide(_),H=H.divide(_),w=w.multiply(_);for(;h.isEven();)h=h.divide(Xe(h));do{for(;H.isEven();)H=H.divide(Xe(H));h.greater(H)&&(P=H,H=h,h=P),H=H.subtract(h)}while(!H.isZero());return w.isUnit()?h:h.multiply(w)}function Ue(h,H){return h=be(h).abs(),H=be(H).abs(),h.divide(ve(h,H)).multiply(H)}function Ht(h,H,w){h=be(h),H=be(H);var _=w||Math.random,P=te(h,H),k=Le(h,H),j=k.subtract(P).add(1);if(j.isSmall)return P.add(Math.floor(_()*j));for(var q=Ac(j,e).value,N=[],ae=!0,de=0;de<q.length;de++){var He=ae?q[de]:e,ke=y(_()*He);N.push(ke),ke<He&&(ae=!1)}return P.add(a.fromArray(N,e,!1))}var xt=function(h,H,w,_){w=w||o,h=String(h),_||(h=h.toLowerCase(),w=w.toLowerCase());var P=h.length,k,j=Math.abs(H),q={};for(k=0;k<w.length;k++)q[w[k]]=k;for(k=0;k<P;k++){var N=h[k];if(N!=="-"&&N in q&&q[N]>=j){if(N==="1"&&j===1)continue;throw new Error(N+" is not a valid digit in base "+H+".")}}H=be(H);var ae=[],de=h[0]==="-";for(k=de?1:0;k<h.length;k++){var N=h[k];if(N in q)ae.push(be(q[N]));else if(N==="<"){var He=k;do k++;while(h[k]!==">"&&k<h.length);ae.push(be(h.slice(He+1,k)))}else throw new Error(N+" is not a valid character")}return Gs(ae,H,de)};function Gs(h,H,w){var _=a[0],P=a[1],k;for(k=h.length-1;k>=0;k--)_=_.add(h[k].times(P)),P=P.times(H);return w?_.negate():_}function zs(h,H){return H=H||o,h<H.length?H[h]:"<"+h+">"}function Ac(h,H){if(H=er(H),H.isZero()){if(h.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(h.isZero())return{value:[0],isNegative:!1};if(h.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-h.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var w=Array.apply(null,Array(h.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return w.unshift([1]),{value:[].concat.apply([],w),isNegative:!1}}var _=!1;if(h.isNegative()&&H.isPositive()&&(_=!0,h=h.abs()),H.isUnit())return h.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(h.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:_};for(var P=[],k=h,j;k.isNegative()||k.compareAbs(H)>=0;){j=k.divmod(H),k=j.quotient;var q=j.remainder;q.isNegative()&&(q=H.minus(q).abs(),k=k.next()),P.push(q.toJSNumber())}return P.push(k.toJSNumber()),{value:P.reverse(),isNegative:_}}function rl(h,H,w){var _=Ac(h,H);return(_.isNegative?"-":"")+_.value.map(function(P){return zs(P,w)}).join("")}c.prototype.toArray=function(h){return Ac(this,h)},u.prototype.toArray=function(h){return Ac(this,h)},l.prototype.toArray=function(h){return Ac(this,h)},c.prototype.toString=function(h,H){if(h===t&&(h=10),h!==10)return rl(this,h,H);for(var w=this.value,_=w.length,P=String(w[--_]),k="0000000",j;--_>=0;)j=String(w[_]),P+=k.slice(j.length)+j;var q=this.sign?"-":"";return q+P},u.prototype.toString=function(h,H){return h===t&&(h=10),h!=10?rl(this,h,H):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=c.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Zg(h){if(p(+h)){var H=+h;if(H===y(H))return s?new l(BigInt(H)):new u(H);throw new Error("Invalid integer: "+h)}var w=h[0]==="-";w&&(h=h.slice(1));var _=h.split(/e/i);if(_.length>2)throw new Error("Invalid integer: "+_.join("e"));if(_.length===2){var P=_[1];if(P[0]==="+"&&(P=P.slice(1)),P=+P,P!==y(P)||!p(P))throw new Error("Invalid integer: "+P+" is not a valid exponent.");var k=_[0],j=k.indexOf(".");if(j>=0&&(P-=k.length-j-1,k=k.slice(0,j)+k.slice(j+1)),P<0)throw new Error("Cannot include negative exponent part for integers");k+=new Array(P+1).join("0"),h=k}var q=/^([0-9][0-9]*)$/.test(h);if(!q)throw new Error("Invalid integer: "+h);if(s)return new l(BigInt(w?"-"+h:h));for(var N=[],ae=h.length,de=r,He=ae-de;ae>0;)N.push(+h.slice(He,ae)),He-=de,He<0&&(He=0),ae-=de;return f(N),new c(N,w)}function D0(h){if(s)return new l(BigInt(h));if(p(h)){if(h!==y(h))throw new Error(h+" is not an integer.");return new u(h)}return Zg(h.toString())}function be(h){return typeof h=="number"?D0(h):typeof h=="string"?Zg(h):typeof h=="bigint"?new l(h):h}for(var vi=0;vi<1e3;vi++)a[vi]=be(vi),vi>0&&(a[-vi]=be(-vi));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Le,a.min=te,a.gcd=ve,a.lcm=Ue,a.isInstance=function(h){return h instanceof c||h instanceof u||h instanceof l},a.randBetween=Ht,a.fromArray=function(h,H,w){return Gs(h.map(be),be(H||10),w)},a}();typeof lw<"u"&&lw.hasOwnProperty("exports")&&(lw.exports=er);typeof define=="function"&&define.amd&&define(function(){return er})});var aq=v(tr=>{"use strict";var Gpe=require("fs"),zpe=sq(),ka=!1;tr.maxObjectSize=100*1e3*1e3;tr.maxObjectCount=32768;var Kpe=9783072e5,Xpe=tr.UID=function(t){this.UID=t},IBe=tr.parseFile=function(t,e){function r(n){var i=null,o;try{o=Jpe(n)}catch(s){i=s}e(i,o)}if(Buffer.isBuffer(t))return r(t);Gpe.readFile(t,function(n,i){if(n)return e(n);r(i)})},Jpe=tr.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=t.slice(t.length-32,t.length),i=n.readUInt8(6);ka&&console.log("offsetSize: "+i);var o=n.readUInt8(7);ka&&console.log("objectRefSize: "+o);var s=OD(n,8);ka&&console.log("numObjects: "+s);var a=OD(n,16);ka&&console.log("topObject: "+a);var c=OD(n,24);if(ka&&console.log("offsetTableOffset: "+c),s>tr.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var u=[],l=0;l<s;l++){var p=t.slice(c+l*i,c+(l+1)*i);u[l]=fn(p,0),ka&&console.log("Offset for Object #"+l+" is "+u[l]+" ["+u[l].toString(16)+"]")}function d(m){var f=u[m],g=t[f],y=(g&240)>>4,x=g&15;switch(y){case 0:return E();case 1:return L();case 8:return R();case 2:return X();case 3:return z();case 4:return F();case 5:return M();case 6:return M(!0);case 10:return O();case 13:return C();default:throw new Error("Unhandled type 0x"+y.toString(16))}function E(){switch(x){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+y.toString(16))}}function $(V){var B="",G;for(G=0;G<V.length&&V[G]==0;G++);for(;G<V.length;G++){var S="00"+V[G].toString(16);B+=S.substr(S.length-2)}return B}function L(){var V=Math.pow(2,x);if(V>4){var B=t.slice(f+1,f+1+V),G=$(B);return zpe(G,16)}if(V<tr.maxObjectSize)return fn(t.slice(f+1,f+1+V));throw new Error("To little heap space available! Wanted to read "+V+" bytes, but only "+tr.maxObjectSize+" are available.")}function R(){var V=x+1;if(V<tr.maxObjectSize)return new Xpe(fn(t.slice(f+1,f+1+V)));throw new Error("To little heap space available! Wanted to read "+V+" bytes, but only "+tr.maxObjectSize+" are available.")}function X(){var V=Math.pow(2,x);if(V<tr.maxObjectSize){var B=t.slice(f+1,f+1+V);if(V===4)return B.readFloatBE(0);if(V===8)return B.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+V+" bytes, but only "+tr.maxObjectSize+" are available.")}function z(){x!=3&&console.error("Unknown date type :"+x+". Parsing anyway...");var V=t.slice(f+1,f+9);return new Date(Kpe+1e3*V.readDoubleBE(0))}function F(){var V=1,B=x;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+S);var T=G&15,J=Math.pow(2,T);V=2+J,J<3,B=fn(t.slice(f+2,f+2+J))}if(B<tr.maxObjectSize)return t.slice(f+V,f+V+B);throw new Error("To little heap space available! Wanted to read "+B+" bytes, but only "+tr.maxObjectSize+" are available.")}function M(V){V=V||0;var B="utf8",G=x,S=1;if(x==15){var T=t[f+1],J=(T&240)/16;J!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+J);var K=T&15,ee=Math.pow(2,K),S=2+ee;ee<3,G=fn(t.slice(f+2,f+2+ee))}if(G*=V+1,G<tr.maxObjectSize){var ne=new Buffer(t.slice(f+S,f+S+G));return V&&(ne=Ype(ne),B="ucs2"),ne.toString(B)}else throw new Error("To little heap space available! Wanted to read "+G+" bytes, but only "+tr.maxObjectSize+" are available.")}function O(){var V=x,B=1;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+S);var T=G&15,J=Math.pow(2,T);B=2+J,J<3,V=fn(t.slice(f+2,f+2+J))}if(V*o>tr.maxObjectSize)throw new Error("To little heap space available!");for(var K=[],ee=0;ee<V;ee++){var ne=fn(t.slice(f+B+ee*o,f+B+(ee+1)*o));K[ee]=d(ne)}return K}function C(){var V=x,B=1;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+S);var T=G&15,J=Math.pow(2,T);B=2+J,J<3,V=fn(t.slice(f+2,f+2+J))}if(V*2*o>tr.maxObjectSize)throw new Error("To little heap space available!");ka&&console.log("Parsing dictionary #"+m);for(var K={},ee=0;ee<V;ee++){var ne=fn(t.slice(f+B+ee*o,f+B+(ee+1)*o)),Q=fn(t.slice(f+B+V*o+ee*o,f+B+V*o+(ee+1)*o)),pe=d(ne),Ae=d(Q);ka&&console.log("  DICT #"+m+": Mapped "+pe+" to "+Ae),K[pe]=Ae}return K}}return[d(a)]};function fn(t,e){e=e||0;for(var r=0,n=e;n<t.length;n++)r<<=8,r|=t[n]&255;return r}function OD(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function Ype(t){for(var e=t.length,r=0;r<e;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t}});var lq=v((EBe,uq)=>{"use strict";var cq=require("os");function Qpe(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}uq.exports=typeof cq.homedir=="function"?cq.homedir:Qpe});var fq=v((DBe,dq)=>{"use strict";var Zpe=lq(),pq=Zpe();dq.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return pq?t.replace(/^~($|\/|\\)/,pq+"$1"):t}});var FD=v((CBe,gq)=>{"use strict";var hq=function(t,e,r){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new e(function(s,a){i.push(function(c,u){if(c)a(c);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];s(l)}else s(u)}),t.apply(n,i)})}},mq=gq.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var n=function(o){var s=function(a){return typeof a=="string"?o===a:a.test(o)};return r.include?r.include.some(s):!r.exclude.some(s)},i=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):hq(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(o,s){var a=t[s];return o[s]=typeof a=="function"&&n(s)?hq(a,e,r):a,o},i)};mq.all=mq});var yq=v((PBe,Hq)=>{"use strict";var ede=require("os"),tde=aq(),rde=fq(),nde=FD(),ide=Number(ede.release().split(".")[0]),ode=rde(ide>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");Hq.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return nde(tde.parseFile)(ode).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let n of r)if(n.LSHandlerURLScheme==="http"&&n.LSHandlerRoleAll){t=n.LSHandlerRoleAll;break}return t})}});var Sq=v((TBe,Iq)=>{"use strict";var ND="pending",vq="settled",pw="fulfilled",dw="rejected",sde=function(){},bq=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",ade=typeof setImmediate>"u"?setTimeout:setImmediate,ym=[],BD;function cde(){for(var t=0;t<ym.length;t++)ym[t][0](ym[t][1]);ym=[],BD=!1}function fw(t,e){ym.push([t,e]),BD||(BD=!0,ade(cde,0))}function ude(t,e){function r(i){jD(e,i)}function n(i){vm(e,i)}try{t(r,n)}catch(i){n(i)}}function wq(t){var e=t.owner,r=e._state,n=e._data,i=t[r],o=t.then;if(typeof i=="function"){r=pw;try{n=i(n)}catch(s){vm(o,s)}}xq(o,n)||(r===pw&&jD(o,n),r===dw&&vm(o,n))}function xq(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var n=e.then;if(typeof n=="function")return n.call(e,function(i){r||(r=!0,e===i?_q(t,i):jD(t,i))},function(i){r||(r=!0,vm(t,i))}),!0}}catch(i){return r||vm(t,i),!0}return!1}function jD(t,e){(t===e||!xq(t,e))&&_q(t,e)}function _q(t,e){t._state===ND&&(t._state=vq,t._data=e,fw(lde,t))}function vm(t,e){t._state===ND&&(t._state=vq,t._data=e,fw(pde,t))}function Aq(t){t._then=t._then.forEach(wq)}function lde(t){t._state=pw,Aq(t)}function pde(t){t._state=dw,Aq(t),!t._handled&&bq&&global.process.emit("unhandledRejection",t._data,t)}function dde(t){global.process.emit("rejectionHandled",t)}function Ln(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof Ln))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],ude(t,this)}Ln.prototype={constructor:Ln,_state:ND,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(sde),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===dw&&bq&&fw(dde,this)),this._state===pw||this._state===dw?fw(wq,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};Ln.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new Ln(function(e,r){var n=[],i=0;function o(c){return i++,function(u){n[c]=u,--i||e(n)}}for(var s=0,a;s<t.length;s++)a=t[s],a&&typeof a.then=="function"?a.then(o(s),r):n[s]=a;i||e(n)})};Ln.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new Ln(function(e,r){for(var n=0,i;n<t.length;n++)i=t[n],i&&typeof i.then=="function"?i.then(e,r):e(i)})};Ln.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Ln?t:new Ln(function(e){e(t)})};Ln.reject=function(t){return new Ln(function(e,r){r(t)})};Iq.exports=Ln});var Dq=v((LBe,Eq)=>{"use strict";Eq.exports=typeof Promise=="function"?Promise:Sq()});var Tq=v(($Be,Pq)=>{"use strict";var fde=require("child_process").execFile,Cq=Dq(),hde=FD();Pq.exports=function(t){return process.platform!=="darwin"?Cq.reject(new Error("Only OS X systems are supported")):hde(fde,Cq)("osascript",["-e",t]).then(function(e){return e.trim()})}});var $q=v((kBe,Lq)=>{"use strict";var mde=Tq();Lq.exports=t=>mde(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var Oq=v((RBe,Mq)=>{var kq=Object.prototype.hasOwnProperty;Mq.exports=$n;function $n(t){if(!(this instanceof $n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof $n||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}$n.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};$n.prototype.has=function(t){return!!UD(this._data,t)};$n.prototype.get=function(t){var e=UD(this._data,t);return e&&e.value};$n.prototype.set=function(t,e){Hde(this._data,t,e)};$n.prototype.delete=function(t){var e=UD(this._data,t);e&&(delete this._data[e._index],this._data.size--)};$n.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty($n.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});$n.prototype.values=$n.prototype.keys=$n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function Rq(t,e){return t===e||t!==t&&e!==e}function gde(t,e,r){this.key=t,this.value=e,this._index=r}function UD(t,e){for(var r=0,n="_"+e,i=n;kq.call(t,i);i=n+r++)if(Rq(t[i].key,e))return t[i]}function Hde(t,e,r){for(var n=0,i="_"+e,o=i;kq.call(t,o);o=i+n++)if(Rq(t[o].key,e)){t[o].value=r;return}t.size++,t[o]=new gde(e,r,o)}});var Fq=v((MBe,qD)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?qD.exports=Map:qD.exports=Oq()});var Nq=v((OBe,Bq)=>{Bq.exports=Ge;Ge.Node=bm;Ge.create=Ge;function Ge(t){var e=this;if(e instanceof Ge||(e=new Ge),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Ge.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};Ge.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ge.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ge.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)yde(this,arguments[t]);return this.length};Ge.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)vde(this,arguments[t]);return this.length};Ge.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ge.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ge.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Ge.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Ge.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ge.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ge.prototype.map=function(t,e){e=e||this;for(var r=new Ge,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Ge.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ge,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Ge.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Ge.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Ge.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ge.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ge.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Ge.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Ge.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function yde(t,e){t.tail=new bm(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function vde(t,e){t.head=new bm(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bm(t,e,r,n){if(!(this instanceof bm))return new bm(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var VD=v((FBe,qq)=>{"use strict";qq.exports=ht;var bde=Fq(),wm=require("util"),wde=Nq(),xde=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",$i;xde?$i=function(t){return Symbol(t)}:$i=function(t){return"_"+t};var ys=$i("max"),$o=$i("length"),gu=$i("lengthCalculator"),Np=$i("allowStale"),Ra=$i("maxAge"),Hs=$i("dispose"),jq=$i("noDisposeOnSet"),rr=$i("lruList"),Li=$i("cache");function xm(){return 1}function ht(t){if(!(this instanceof ht))return new ht(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[ys]=t.max;(!e||typeof e!="number"||e<=0)&&(this[ys]=1/0);var r=t.length||xm;typeof r!="function"&&(r=xm),this[gu]=r,this[Np]=t.stale||!1,this[Ra]=t.maxAge||0,this[Hs]=t.dispose,this[jq]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(ht.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[ys]=t,_m(this)},get:function(){return this[ys]},enumerable:!0});Object.defineProperty(ht.prototype,"allowStale",{set:function(t){this[Np]=!!t},get:function(){return this[Np]},enumerable:!0});Object.defineProperty(ht.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[Ra]=t,_m(this)},get:function(){return this[Ra]},enumerable:!0});Object.defineProperty(ht.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=xm),t!==this[gu]&&(this[gu]=t,this[$o]=0,this[rr].forEach(function(e){e.length=this[gu](e.value,e.key),this[$o]+=e.length},this)),_m(this)},get:function(){return this[gu]},enumerable:!0});Object.defineProperty(ht.prototype,"length",{get:function(){return this[$o]},enumerable:!0});Object.defineProperty(ht.prototype,"itemCount",{get:function(){return this[rr].length},enumerable:!0});ht.prototype.rforEach=function(t,e){e=e||this;for(var r=this[rr].tail;r!==null;){var n=r.prev;Uq(this,t,r,e),r=n}};function Uq(t,e,r,n){var i=r.value;Am(t,i)&&(jp(t,r),t[Np]||(i=void 0)),i&&e.call(n,i.value,i.key,t)}ht.prototype.forEach=function(t,e){e=e||this;for(var r=this[rr].head;r!==null;){var n=r.next;Uq(this,t,r,e),r=n}};ht.prototype.keys=function(){return this[rr].toArray().map(function(t){return t.key},this)};ht.prototype.values=function(){return this[rr].toArray().map(function(t){return t.value},this)};ht.prototype.reset=function(){this[Hs]&&this[rr]&&this[rr].length&&this[rr].forEach(function(t){this[Hs](t.key,t.value)},this),this[Li]=new bde,this[rr]=new wde,this[$o]=0};ht.prototype.dump=function(){return this[rr].map(function(t){if(!Am(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};ht.prototype.dumpLru=function(){return this[rr]};ht.prototype.inspect=function(t,e){var r="LRUCache {",n=!1,i=this[Np];i&&(r+=`
  allowStale: true`,n=!0);var o=this[ys];o&&o!==1/0&&(n&&(r+=","),r+=`
  max: `+wm.inspect(o,e),n=!0);var s=this[Ra];s&&(n&&(r+=","),r+=`
  maxAge: `+wm.inspect(s,e),n=!0);var a=this[gu];a&&a!==xm&&(n&&(r+=","),r+=`
  length: `+wm.inspect(this[$o],e),n=!0);var c=!1;return this[rr].forEach(function(u){c?r+=`,
  `:(n&&(r+=`,
`),c=!0,r+=`
  `);var l=wm.inspect(u.key).split(`
`).join(`
  `),p={value:u.value};u.maxAge!==s&&(p.maxAge=u.maxAge),a!==xm&&(p.length=u.length),Am(this,u)&&(p.stale=!0),p=wm.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(c||n)&&(r+=`
`),r+="}",r};ht.prototype.set=function(t,e,r){r=r||this[Ra];var n=r?Date.now():0,i=this[gu](e,t);if(this[Li].has(t)){if(i>this[ys])return jp(this,this[Li].get(t)),!1;var o=this[Li].get(t),s=o.value;return this[Hs]&&(this[jq]||this[Hs](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[$o]+=i-s.length,s.length=i,this.get(t),_m(this),!0}var a=new _de(t,e,i,n,r);return a.length>this[ys]?(this[Hs]&&this[Hs](t,e),!1):(this[$o]+=a.length,this[rr].unshift(a),this[Li].set(t,this[rr].head),_m(this),!0)};ht.prototype.has=function(t){if(!this[Li].has(t))return!1;var e=this[Li].get(t).value;return!Am(this,e)};ht.prototype.get=function(t){return WD(this,t,!0)};ht.prototype.peek=function(t){return WD(this,t,!1)};ht.prototype.pop=function(){var t=this[rr].tail;return t?(jp(this,t),t.value):null};ht.prototype.del=function(t){jp(this,this[Li].get(t))};ht.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],i=n.e||0;if(i===0)this.set(n.k,n.v);else{var o=i-e;o>0&&this.set(n.k,n.v,o)}}};ht.prototype.prune=function(){var t=this;this[Li].forEach(function(e,r){WD(t,r,!1)})};function WD(t,e,r){var n=t[Li].get(e);if(n){var i=n.value;Am(t,i)?(jp(t,n),t[Np]||(i=void 0)):r&&t[rr].unshiftNode(n),i&&(i=i.value)}return i}function Am(t,e){if(!e||!e.maxAge&&!t[Ra])return!1;var r=!1,n=Date.now()-e.now;return e.maxAge?r=n>e.maxAge:r=t[Ra]&&n>t[Ra],r}function _m(t){if(t[$o]>t[ys])for(var e=t[rr].tail;t[$o]>t[ys]&&e!==null;){var r=e.prev;jp(t,e),e=r}}function jp(t,e){if(e){var r=e.value;t[Hs]&&t[Hs](r.key,r.value),t[$o]-=r.length,t[Li].delete(r.key),t[rr].removeNode(e)}}function _de(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}});var Jq=v((BBe,Xq)=>{Xq.exports=Kq;Kq.sync=Ide;var GD=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Wq=require("path"),Ade=GD?";":":",Vq=nA();function Gq(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function zq(t,e){var r=e.colon||Ade,n=e.path||process.env.PATH||"",i=[""];n=n.split(r);var o="";return GD&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(r),t.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(t.match(/\//)||GD&&t.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function Kq(t,e,r){typeof e=="function"&&(r=e,e={});var n=zq(t,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?r(null,a):r(Gq(t));var p=i[u];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var d=Wq.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d),function m(f,g){if(f===g)return c(u+1,l);var y=o[f];Vq(d+y,{pathExt:s},function(x,E){if(!x&&E)if(e.all)a.push(d+y);else return r(null,d+y);return m(f+1,g)})}(0,o.length)})(0,i.length)}function Ide(t,e){e=e||{};for(var r=zq(t,e),n=r.env,i=r.ext,o=r.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=Wq.join(u,t);!u&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,d=i.length;p<d;p++){var m=l+i[p],f;try{if(f=Vq.sync(m,{pathExt:o}),f)if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Gq(t)}});var eW=v((NBe,Zq)=>{"use strict";var Yq=require("path"),Qq=Jq(),Sde=VD(),hw=new Sde({max:50,maxAge:30*1e3}),Ede=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function Dde(t,e){var r;if(Ede.test(t)&&(t=Yq.resolve(t)),e=!!e,r=hw.get(t+"!"+e),hw.has(t))return hw.get(t);try{r=e?Qq.sync(t,{pathExt:Yq.delimiter+(process.env.PATHEXT||"")}):Qq.sync(t)}catch{}return hw.set(t+"!"+e,r),r}Zq.exports=Dde});var iW=v((jBe,nW)=>{"use strict";var zD=require("fs"),Cde=VD(),tW=eW(),Pde=process.platform==="win32",KD=new Cde({max:50,maxAge:30*1e3});function Tde(t){var e,r,n,i;if(KD.has(t))return KD.get(t);e=new Buffer(150);try{r=zD.openSync(t,"r"),zD.readSync(r,e,0,150,0),zD.closeSync(r)}catch{}return n=e.toString().trim().match(/#!(.+)/i),n&&(i=n[1].replace(/\/usr\/bin\/env\s+/i,"")),KD.set(t,i),i}function rW(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function Lde(t){return/^[a-z0-9_-]+$/i.test(t)?t:rW(t,!0)}function $de(t,e,r){var n,i,o,s;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},s=t,Pde&&(o=tW(t),o=o||tW(t,!0),n=o&&Tde(o),n&&(e.unshift(o),t=n),i=t!=="echo",t=Lde(t),e=e.map(function(a){return rW(a,i)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:o,original:s}}nW.exports=$de});var cW=v((UBe,mw)=>{"use strict";var oW=process.platform==="win32";function sW(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function kde(t,e){var r;oW&&(r=t.emit,t.emit=function(n,i){var o;return n==="exit"&&(o=aW(i,e,"spawn"),o)?r.call(t,"error",o):r.apply(t,arguments)})}function aW(t,e,r){return oW&&t===1&&!e.file?sW(e.original,r):null}mw.exports.hookChildProcess=kde;mw.exports.verifyENOENT=aW;mw.exports.notFoundError=sW});var dW=v((qBe,Im)=>{"use strict";var Rde=require("child_process"),uW=iW(),lW=cW();function pW(t,e,r){var n,i;return n=uW(t,e,r),i=Rde.spawn(n.command,n.args,n.options),lW.hookChildProcess(i,n),i}Im.exports=pW;Im.exports.spawn=pW;Im.exports._parse=uW;Im.exports._enoent=lW});var hW=v((WBe,fW)=>{"use strict";fW.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var HW=v((VBe,gW)=>{"use strict";var mW=Object.getOwnPropertySymbols,Mde=Object.prototype.hasOwnProperty,Ode=Object.prototype.propertyIsEnumerable;function Fde(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Bde(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}gW.exports=Bde()?Object.assign:function(t,e){for(var r,n=Fde(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)Mde.call(r,s)&&(n[s]=r[s]);if(mW){i=mW(r);for(var a=0;a<i.length;a++)Ode.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var XD=v((GBe,yW)=>{"use strict";yW.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(n){return n.toUpperCase()==="PATH"})[0]||"Path"}});var bW=v((zBe,vW)=>{"use strict";var Sm=require("path"),Nde=XD();vW.exports=function(t){t=t||{};for(var e,r=Sm.resolve(t.cwd||"."),n=[];e!==r;)n.push(Sm.join(r,"node_modules/.bin")),e=r,r=Sm.resolve(r,"..");return n.push(Sm.dirname(process.execPath)),n.concat(t.path||process.env[Nde()]).join(Sm.delimiter)}});var xW=v((KBe,Em)=>{"use strict";var jde=require("child_process"),JD=dW(),Ude=hW(),YD=HW(),qde=bW(),wW=XD()(),Wde=1024*1024*10;Em.exports=function(t,e,r){return new Promise(function(n,i){var o=JD._parse(t,e,r);r=YD({maxBuffer:Wde,stripEof:!0,preferLocal:!0},o.options);var s=function(c){return r.stripEof&&(c=Ude(c)),c};r.preferLocal&&(r.env=YD({},r.env||process.env),r.env[wW]=qde({cwd:r.cwd,path:r.env[wW]}));var a=jde.execFile(o.command,o.args,r,function(c,u,l){if(c){c.stdout=u,c.stderr=l,i(c);return}n({stdout:s(u),stderr:s(l)})});JD._enoent.hookChildProcess(a,o)})};Em.exports.shell=function(t,e){var r,n;return e=YD({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",n=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",n=["-c",t]),e.shell&&(r=e.shell),Em.exports(r,n,e)};Em.exports.spawn=JD});var AW=v((XBe,_W)=>{"use strict";_W.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var SW=v((JBe,IW)=>{"use strict";var Vde=xW(),Gde=AW();IW.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Vde("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Gde(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var DW=v((YBe,EW)=>{"use strict";var zde=yq(),Kde=$q();EW.exports=()=>process.platform==="linux"?SW()():process.platform==="darwin"?zde().then(t=>Kde(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var vs=v((wNe,ZD)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?ZD.exports={nextTick:Yde}:ZD.exports=process;function Yde(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,s;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(o=new Array(i-1),s=0;s<o.length;)o[s++]=arguments[s];return process.nextTick(function(){t.apply(null,o)})}}});var eC=v((xNe,RW)=>{var Qde={}.toString;RW.exports=Array.isArray||function(t){return Qde.call(t)=="[object Array]"}});var tC=v((_Ne,MW)=>{MW.exports=require("stream")});var ws=v((rC,FW)=>{var bw=require("buffer"),bs=bw.Buffer;function OW(t,e){for(var r in t)e[r]=t[r]}bs.from&&bs.alloc&&bs.allocUnsafe&&bs.allocUnsafeSlow?FW.exports=bw:(OW(bw,rC),rC.Buffer=Wp);function Wp(t,e,r){return bs(t,e,r)}OW(bs,Wp);Wp.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return bs(t,e,r)};Wp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=bs(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Wp.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bs(t)};Wp.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bw.SlowBuffer(t)}});var ki=v(qr=>{function Zde(t){return Array.isArray?Array.isArray(t):ww(t)==="[object Array]"}qr.isArray=Zde;function efe(t){return typeof t=="boolean"}qr.isBoolean=efe;function tfe(t){return t===null}qr.isNull=tfe;function rfe(t){return t==null}qr.isNullOrUndefined=rfe;function nfe(t){return typeof t=="number"}qr.isNumber=nfe;function ife(t){return typeof t=="string"}qr.isString=ife;function ofe(t){return typeof t=="symbol"}qr.isSymbol=ofe;function sfe(t){return t===void 0}qr.isUndefined=sfe;function afe(t){return ww(t)==="[object RegExp]"}qr.isRegExp=afe;function cfe(t){return typeof t=="object"&&t!==null}qr.isObject=cfe;function ufe(t){return ww(t)==="[object Date]"}qr.isDate=ufe;function lfe(t){return ww(t)==="[object Error]"||t instanceof Error}qr.isError=lfe;function pfe(t){return typeof t=="function"}qr.isFunction=pfe;function dfe(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}qr.isPrimitive=dfe;qr.isBuffer=Buffer.isBuffer;function ww(t){return Object.prototype.toString.call(t)}});var BW=v((INe,nC)=>{typeof Object.create=="function"?nC.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nC.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var nr=v((SNe,oC)=>{try{if(iC=require("util"),typeof iC.inherits!="function")throw"";oC.exports=iC.inherits}catch{oC.exports=BW()}var iC});var jW=v((ENe,sC)=>{"use strict";function ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var NW=ws().Buffer,Cm=require("util");function hfe(t,e,r){t.copy(e,r)}sC.exports=function(){function t(){ffe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return NW.alloc(0);if(this.length===1)return this.head.data;for(var n=NW.allocUnsafe(r>>>0),i=this.head,o=0;i;)hfe(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();Cm&&Cm.inspect&&Cm.inspect.custom&&(sC.exports.prototype[Cm.inspect.custom]=function(){var t=Cm.inspect({length:this.length});return this.constructor.name+" "+t})});var aC=v((DNe,WW)=>{"use strict";var UW=vs();function mfe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&UW.nextTick(qW,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(UW.nextTick(qW,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function gfe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qW(t,e){t.emit("error",e)}WW.exports={destroy:mfe,undestroy:gfe}});var xw=v((CNe,VW)=>{VW.exports=require("util").deprecate});var uC=v((PNe,ZW)=>{"use strict";var yu=vs();ZW.exports=qt;function zW(t){var e=this;this.next=null,this.entry=null,this.finish=function(){kfe(e,t)}}var Hfe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:yu.nextTick,Vp;qt.WritableState=Tm;var KW=Object.create(ki());KW.inherits=nr();var yfe={deprecate:xw()},XW=tC(),Aw=ws().Buffer,vfe=global.Uint8Array||function(){};function bfe(t){return Aw.from(t)}function wfe(t){return Aw.isBuffer(t)||t instanceof vfe}var JW=aC();KW.inherits(qt,XW);function xfe(){}function Tm(t,e){Vp=Vp||vu(),t=t||{};var r=e instanceof Vp;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Cfe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new zW(this)}Tm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Tm.prototype,"buffer",{get:yfe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _w;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_w=Function.prototype[Symbol.hasInstance],Object.defineProperty(qt,Symbol.hasInstance,{value:function(t){return _w.call(this,t)?!0:this!==qt?!1:t&&t._writableState instanceof Tm}})):_w=function(t){return t instanceof this};function qt(t){if(Vp=Vp||vu(),!_w.call(qt,this)&&!(this instanceof Vp))return new qt(t);this._writableState=new Tm(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),XW.call(this)}qt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function _fe(t,e){var r=new Error("write after end");t.emit("error",r),yu.nextTick(e,r)}function Afe(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),yu.nextTick(n,o),i=!1),i}qt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&wfe(t);return o&&!Aw.isBuffer(t)&&(t=bfe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=xfe),n.ended?_fe(this,r):(o||Afe(this,n,t,r))&&(n.pendingcb++,i=Sfe(this,n,o,t,e,r)),i};qt.prototype.cork=function(){var t=this._writableState;t.corked++};qt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&YW(this,t))};qt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function Ife(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Aw.from(e,r)),e}Object.defineProperty(qt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Sfe(t,e,r,n,i,o){if(!r){var s=Ife(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else cC(t,e,!1,a,n,i,o);return c}function cC(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Efe(t,e,r,n,i){--e.pendingcb,r?(yu.nextTick(i,n),yu.nextTick(Pm,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Pm(t,e))}function Dfe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Cfe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(Dfe(r),e)Efe(t,r,n,e,i);else{var o=QW(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&YW(t,r),n?Hfe(GW,t,r,o,i):GW(t,r,o,i)}}function GW(t,e,r,n){r||Pfe(t,e),e.pendingcb--,n(),Pm(t,e)}function Pfe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function YW(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,cC(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new zW(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(cC(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}qt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};qt.prototype._writev=null;qt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&$fe(this,n,r)};function QW(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Tfe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Pm(t,e)})}function Lfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,yu.nextTick(Tfe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Pm(t,e){var r=QW(e);return r&&(Lfe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function $fe(t,e,r){e.ending=!0,Pm(t,e),r&&(e.finished?yu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function kfe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(qt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});qt.prototype.destroy=JW.destroy;qt.prototype._undestroy=JW.undestroy;qt.prototype._destroy=function(t,e){this.end(),e(t)}});var vu=v((TNe,n8)=>{"use strict";var e8=vs(),Rfe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};n8.exports=xs;var t8=Object.create(ki());t8.inherits=nr();var r8=dC(),pC=uC();t8.inherits(xs,r8);for(lC=Rfe(pC.prototype),Iw=0;Iw<lC.length;Iw++)Sw=lC[Iw],xs.prototype[Sw]||(xs.prototype[Sw]=pC.prototype[Sw]);var lC,Sw,Iw;function xs(t){if(!(this instanceof xs))return new xs(t);r8.call(this,t),pC.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Mfe)}Object.defineProperty(xs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Mfe(){this.allowHalfOpen||this._writableState.ended||e8.nextTick(Ofe,this)}function Ofe(t){t.end()}Object.defineProperty(xs.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});xs.prototype._destroy=function(t,e){this.push(null),this.end(),e8.nextTick(e,t)}});var mC=v(o8=>{"use strict";var hC=ws().Buffer,i8=hC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ffe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Bfe(t){var e=Ffe(t);if(typeof e!="string"&&(hC.isEncoding===i8||!i8(t)))throw new Error("Unknown encoding: "+t);return e||t}o8.StringDecoder=Lm;function Lm(t){this.encoding=Bfe(t);var e;switch(this.encoding){case"utf16le":this.text=Vfe,this.end=Gfe,e=4;break;case"utf8":this.fillLast=Ufe,e=4;break;case"base64":this.text=zfe,this.end=Kfe,e=3;break;default:this.write=Xfe,this.end=Jfe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hC.allocUnsafe(e)}Lm.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Lm.prototype.end=Wfe;Lm.prototype.text=qfe;Lm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function fC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Nfe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=fC(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=fC(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=fC(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function jfe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Ufe(t){var e=this.lastTotal-this.lastNeed,r=jfe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function qfe(t,e){var r=Nfe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Wfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Vfe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Gfe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function zfe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Kfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Xfe(t){return t.toString(this.encoding)}function Jfe(t){return t&&t.length?this.write(t):""}});var dC=v((kNe,H8)=>{"use strict";var zp=vs();H8.exports=mt;var Yfe=eC(),$m;mt.ReadableState=d8;var $Ne=require("events").EventEmitter,u8=function(t,e){return t.listeners(e).length},bC=tC(),km=ws().Buffer,Qfe=global.Uint8Array||function(){};function Zfe(t){return km.from(t)}function ehe(t){return km.isBuffer(t)||t instanceof Qfe}var l8=Object.create(ki());l8.inherits=nr();var gC=require("util"),We=void 0;gC&&gC.debuglog?We=gC.debuglog("stream"):We=function(){};var the=jW(),p8=aC(),Gp;l8.inherits(mt,bC);var HC=["error","close","destroy","pause","resume"];function rhe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Yfe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function d8(t,e){$m=$m||vu(),t=t||{};var r=e instanceof $m;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new the,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Gp||(Gp=mC().StringDecoder),this.decoder=new Gp(t.encoding),this.encoding=t.encoding)}function mt(t){if($m=$m||vu(),!(this instanceof mt))return new mt(t);this._readableState=new d8(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),bC.call(this)}Object.defineProperty(mt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});mt.prototype.destroy=p8.destroy;mt.prototype._undestroy=p8.undestroy;mt.prototype._destroy=function(t,e){this.push(null),e(t)};mt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=km.from(t,e),e=""),n=!0),f8(this,t,e,!1,n)};mt.prototype.unshift=function(t){return f8(this,t,null,!0,!1)};function f8(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,she(t,o);else{var s;i||(s=nhe(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==km.prototype&&(e=Zfe(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):yC(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?yC(t,o,e,!1):h8(t,o)):yC(t,o,e,!1))):n||(o.reading=!1)}return ihe(o)}function yC(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ew(t)),h8(t,e)}function nhe(t,e){var r;return!ehe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function ihe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}mt.prototype.isPaused=function(){return this._readableState.flowing===!1};mt.prototype.setEncoding=function(t){return Gp||(Gp=mC().StringDecoder),this._readableState.decoder=new Gp(t),this._readableState.encoding=t,this};var s8=8388608;function ohe(t){return t>=s8?t=s8:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function a8(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ohe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}mt.prototype.read=function(t){We("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return We("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vC(this):Ew(this),null;if(t=a8(t,e),t===0&&e.ended)return e.length===0&&vC(this),null;var n=e.needReadable;We("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,We("length less than watermark",n)),e.ended||e.reading?(n=!1,We("reading or ended",n)):n&&(We("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=a8(r,e)));var i;return t>0?i=m8(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vC(this)),i!==null&&this.emit("data",i),i};function she(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Ew(t)}}function Ew(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(We("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?zp.nextTick(c8,t):c8(t))}function c8(t){We("emit readable"),t.emit("readable"),wC(t)}function h8(t,e){e.readingMore||(e.readingMore=!0,zp.nextTick(ahe,t,e))}function ahe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(We("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}mt.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};mt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,We("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:y;n.endEmitted?zp.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(x,E){We("onunpipe"),x===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,l())}function a(){We("onend"),t.end()}var c=che(r);t.on("drain",c);var u=!1;function l(){We("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var p=!1;r.on("data",d);function d(x){We("ondata"),p=!1;var E=t.write(x);E===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&g8(n.pipes,t)!==-1)&&!u&&(We("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(x){We("onerror",x),y(),t.removeListener("error",m),u8(t,"error")===0&&t.emit("error",x)}rhe(t,"error",m);function f(){t.removeListener("finish",g),y()}t.once("close",f);function g(){We("onfinish"),t.removeListener("close",f),y()}t.once("finish",g);function y(){We("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(We("pipe resume"),r.resume()),t};function che(t){return function(){var e=t._readableState;We("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&u8(t,"data")&&(e.flowing=!0,wC(t))}}mt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=g8(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};mt.prototype.on=function(t,e){var r=bC.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ew(this):zp.nextTick(uhe,this))}return r};mt.prototype.addListener=mt.prototype.on;function uhe(t){We("readable nexttick read 0"),t.read(0)}mt.prototype.resume=function(){var t=this._readableState;return t.flowing||(We("resume"),t.flowing=!0,lhe(this,t)),this};function lhe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,zp.nextTick(phe,t,e))}function phe(t,e){e.reading||(We("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),wC(t),e.flowing&&!e.reading&&t.read(0)}mt.prototype.pause=function(){return We("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(We("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function wC(t){var e=t._readableState;for(We("flow",e.flowing);e.flowing&&t.read()!==null;);}mt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(We("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(We("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<HC.length;o++)t.on(HC[o],this.emit.bind(this,HC[o]));return this._read=function(s){We("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(mt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});mt._fromList=m8;function m8(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=dhe(t,e.buffer,e.decoder),r}function dhe(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?fhe(t,e):hhe(t,e),n}function fhe(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function hhe(t,e){var r=km.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function vC(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,zp.nextTick(mhe,e,t))}function mhe(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function g8(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var xC=v((RNe,b8)=>{"use strict";b8.exports=_s;var Dw=vu(),v8=Object.create(ki());v8.inherits=nr();v8.inherits(_s,Dw);function ghe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function _s(t){if(!(this instanceof _s))return new _s(t);Dw.call(this,t),this._transformState={afterTransform:ghe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Hhe)}function Hhe(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){y8(t,e,r)}):y8(this,null,null)}_s.prototype.push=function(t,e){return this._transformState.needTransform=!1,Dw.prototype.push.call(this,t,e)};_s.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};_s.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};_s.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};_s.prototype._destroy=function(t,e){var r=this;Dw.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function y8(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var A8=v((MNe,_8)=>{"use strict";_8.exports=Rm;var w8=xC(),x8=Object.create(ki());x8.inherits=nr();x8.inherits(Rm,w8);function Rm(t){if(!(this instanceof Rm))return new Rm(t);w8.call(this,t)}Rm.prototype._transform=function(t,e,r){r(null,t)}});var I8=v((_r,Cw)=>{var ko=require("stream");process.env.READABLE_STREAM==="disable"&&ko?(Cw.exports=ko,_r=Cw.exports=ko.Readable,_r.Readable=ko.Readable,_r.Writable=ko.Writable,_r.Duplex=ko.Duplex,_r.Transform=ko.Transform,_r.PassThrough=ko.PassThrough,_r.Stream=ko):(_r=Cw.exports=dC(),_r.Stream=ko||_r,_r.Readable=_r,_r.Writable=uC(),_r.Duplex=vu(),_r.Transform=xC(),_r.PassThrough=A8())});var D8=v((ONe,E8)=>{var S8=I8(),yhe=require("util");function vhe(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function bhe(t,e){if(!vhe(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var n=e.read();n;)this===t[0]?r.push(n):this._buffer.push(n),n=e.read()}),e.on("end",function(){for(var n=t[0];n&&n._readableState.ended;n=t[0]){for(;n._buffer.length;)r.push(n._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function Mm(t,e){if(!(this instanceof Mm))return new Mm(t,e);if(t=t||[],e=e||{},e.objectMode=!0,S8.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=bhe.bind(this,[]);t.forEach(function(n){Array.isArray(n)?n.forEach(r):r(n)})}yhe.inherits(Mm,S8);Mm.prototype._read=function(){};E8.exports=Mm});var _C=v((FNe,C8)=>{C8.exports=require("stream")});var T8=v((BNe,AC)=>{"use strict";function whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var P8=ws().Buffer,Om=require("util");function xhe(t,e,r){t.copy(e,r)}AC.exports=function(){function t(){whe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return P8.alloc(0);if(this.length===1)return this.head.data;for(var n=P8.allocUnsafe(r>>>0),i=this.head,o=0;i;)xhe(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();Om&&Om.inspect&&Om.inspect.custom&&(AC.exports.prototype[Om.inspect.custom]=function(){var t=Om.inspect({length:this.length});return this.constructor.name+" "+t})});var IC=v((NNe,k8)=>{"use strict";var L8=vs();function _he(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&L8.nextTick($8,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(L8.nextTick($8,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function Ahe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $8(t,e){t.emit("error",e)}k8.exports={destroy:_he,undestroy:Ahe}});var EC=v((jNe,U8)=>{"use strict";var bu=vs();U8.exports=Wt;function M8(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Uhe(e,t)}}var Ihe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:bu.nextTick,Kp;Wt.WritableState=Bm;var O8=ki();O8.inherits=nr();var She={deprecate:xw()},F8=_C(),Tw=ws().Buffer,Ehe=global.Uint8Array||function(){};function Dhe(t){return Tw.from(t)}function Che(t){return Tw.isBuffer(t)||t instanceof Ehe}var B8=IC();O8.inherits(Wt,F8);function Phe(){}function Bm(t,e){Kp=Kp||wu(),t=t||{};var r=e instanceof Kp;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Ohe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new M8(this)}Bm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Bm.prototype,"buffer",{get:She.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Pw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Pw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wt,Symbol.hasInstance,{value:function(t){return Pw.call(this,t)?!0:this!==Wt?!1:t&&t._writableState instanceof Bm}})):Pw=function(t){return t instanceof this};function Wt(t){if(Kp=Kp||wu(),!Pw.call(Wt,this)&&!(this instanceof Kp))return new Wt(t);this._writableState=new Bm(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),F8.call(this)}Wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function The(t,e){var r=new Error("write after end");t.emit("error",r),bu.nextTick(e,r)}function Lhe(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),bu.nextTick(n,o),i=!1),i}Wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Che(t);return o&&!Tw.isBuffer(t)&&(t=Dhe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Phe),n.ended?The(this,r):(o||Lhe(this,n,t,r))&&(n.pendingcb++,i=khe(this,n,o,t,e,r)),i};Wt.prototype.cork=function(){var t=this._writableState;t.corked++};Wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&N8(this,t))};Wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function $he(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Tw.from(e,r)),e}Object.defineProperty(Wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function khe(t,e,r,n,i,o){if(!r){var s=$he(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else SC(t,e,!1,a,n,i,o);return c}function SC(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Rhe(t,e,r,n,i){--e.pendingcb,r?(bu.nextTick(i,n),bu.nextTick(Fm,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Fm(t,e))}function Mhe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Ohe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(Mhe(r),e)Rhe(t,r,n,e,i);else{var o=j8(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&N8(t,r),n?Ihe(R8,t,r,o,i):R8(t,r,o,i)}}function R8(t,e,r,n){r||Fhe(t,e),e.pendingcb--,n(),Fm(t,e)}function Fhe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function N8(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,SC(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new M8(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(SC(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Wt.prototype._writev=null;Wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&jhe(this,n,r)};function j8(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Bhe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Fm(t,e)})}function Nhe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,bu.nextTick(Bhe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Fm(t,e){var r=j8(e);return r&&(Nhe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function jhe(t,e,r){e.ending=!0,Fm(t,e),r&&(e.finished?bu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Uhe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Wt.prototype.destroy=B8.destroy;Wt.prototype._undestroy=B8.undestroy;Wt.prototype._destroy=function(t,e){this.end(),e(t)}});var wu=v((UNe,G8)=>{"use strict";var q8=vs(),qhe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};G8.exports=As;var W8=ki();W8.inherits=nr();var V8=PC(),CC=EC();W8.inherits(As,V8);for(DC=qhe(CC.prototype),Lw=0;Lw<DC.length;Lw++)$w=DC[Lw],As.prototype[$w]||(As.prototype[$w]=CC.prototype[$w]);var DC,$w,Lw;function As(t){if(!(this instanceof As))return new As(t);V8.call(this,t),CC.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Whe)}Object.defineProperty(As.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Whe(){this.allowHalfOpen||this._writableState.ended||q8.nextTick(Vhe,this)}function Vhe(t){t.end()}Object.defineProperty(As.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});As.prototype._destroy=function(t,e){this.push(null),this.end(),q8.nextTick(e,t)}});var $C=v(K8=>{"use strict";var LC=ws().Buffer,z8=LC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ghe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function zhe(t){var e=Ghe(t);if(typeof e!="string"&&(LC.isEncoding===z8||!z8(t)))throw new Error("Unknown encoding: "+t);return e||t}K8.StringDecoder=Nm;function Nm(t){this.encoding=zhe(t);var e;switch(this.encoding){case"utf16le":this.text=Zhe,this.end=eme,e=4;break;case"utf8":this.fillLast=Jhe,e=4;break;case"base64":this.text=tme,this.end=rme,e=3;break;default:this.write=nme,this.end=ime;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=LC.allocUnsafe(e)}Nm.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Nm.prototype.end=Qhe;Nm.prototype.text=Yhe;Nm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function TC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Khe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=TC(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=TC(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=TC(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Xhe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Jhe(t){var e=this.lastTotal-this.lastNeed,r=Xhe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Yhe(t,e){var r=Khe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Qhe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Zhe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function eme(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function tme(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function rme(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function nme(t){return t.toString(this.encoding)}function ime(t){return t&&t.length?this.write(t):""}});var PC=v((VNe,sV)=>{"use strict";var Jp=vs();sV.exports=gt;var ome=eC(),jm;gt.ReadableState=tV;var WNe=require("events").EventEmitter,Q8=function(t,e){return t.listeners(e).length},FC=_C(),Um=ws().Buffer,sme=global.Uint8Array||function(){};function ame(t){return Um.from(t)}function cme(t){return Um.isBuffer(t)||t instanceof sme}var Z8=ki();Z8.inherits=nr();var kC=require("util"),Ve=void 0;kC&&kC.debuglog?Ve=kC.debuglog("stream"):Ve=function(){};var ume=T8(),eV=IC(),Xp;Z8.inherits(gt,FC);var RC=["error","close","destroy","pause","resume"];function lme(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ome(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function tV(t,e){jm=jm||wu(),t=t||{};var r=e instanceof jm;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ume,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xp||(Xp=$C().StringDecoder),this.decoder=new Xp(t.encoding),this.encoding=t.encoding)}function gt(t){if(jm=jm||wu(),!(this instanceof gt))return new gt(t);this._readableState=new tV(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),FC.call(this)}Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});gt.prototype.destroy=eV.destroy;gt.prototype._undestroy=eV.undestroy;gt.prototype._destroy=function(t,e){this.push(null),e(t)};gt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Um.from(t,e),e=""),n=!0),rV(this,t,e,!1,n)};gt.prototype.unshift=function(t){return rV(this,t,null,!0,!1)};function rV(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,hme(t,o);else{var s;i||(s=pme(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Um.prototype&&(e=ame(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):MC(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?MC(t,o,e,!1):nV(t,o)):MC(t,o,e,!1))):n||(o.reading=!1)}return dme(o)}function MC(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&kw(t)),nV(t,e)}function pme(t,e){var r;return!cme(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function dme(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}gt.prototype.isPaused=function(){return this._readableState.flowing===!1};gt.prototype.setEncoding=function(t){return Xp||(Xp=$C().StringDecoder),this._readableState.decoder=new Xp(t),this._readableState.encoding=t,this};var X8=8388608;function fme(t){return t>=X8?t=X8:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function J8(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=fme(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}gt.prototype.read=function(t){Ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?OC(this):kw(this),null;if(t=J8(t,e),t===0&&e.ended)return e.length===0&&OC(this),null;var n=e.needReadable;Ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ve("length less than watermark",n)),e.ended||e.reading?(n=!1,Ve("reading or ended",n)):n&&(Ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=J8(r,e)));var i;return t>0?i=iV(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&OC(this)),i!==null&&this.emit("data",i),i};function hme(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,kw(t)}}function kw(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Jp.nextTick(Y8,t):Y8(t))}function Y8(t){Ve("emit readable"),t.emit("readable"),BC(t)}function nV(t,e){e.readingMore||(e.readingMore=!0,Jp.nextTick(mme,t,e))}function mme(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}gt.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};gt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ve("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:y;n.endEmitted?Jp.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(x,E){Ve("onunpipe"),x===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,l())}function a(){Ve("onend"),t.end()}var c=gme(r);t.on("drain",c);var u=!1;function l(){Ve("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var p=!1;r.on("data",d);function d(x){Ve("ondata"),p=!1;var E=t.write(x);E===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&oV(n.pipes,t)!==-1)&&!u&&(Ve("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(x){Ve("onerror",x),y(),t.removeListener("error",m),Q8(t,"error")===0&&t.emit("error",x)}lme(t,"error",m);function f(){t.removeListener("finish",g),y()}t.once("close",f);function g(){Ve("onfinish"),t.removeListener("close",f),y()}t.once("finish",g);function y(){Ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ve("pipe resume"),r.resume()),t};function gme(t){return function(){var e=t._readableState;Ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&Q8(t,"data")&&(e.flowing=!0,BC(t))}}gt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=oV(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};gt.prototype.on=function(t,e){var r=FC.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&kw(this):Jp.nextTick(Hme,this))}return r};gt.prototype.addListener=gt.prototype.on;function Hme(t){Ve("readable nexttick read 0"),t.read(0)}gt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ve("resume"),t.flowing=!0,yme(this,t)),this};function yme(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Jp.nextTick(vme,t,e))}function vme(t,e){e.reading||(Ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),BC(t),e.flowing&&!e.reading&&t.read(0)}gt.prototype.pause=function(){return Ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function BC(t){var e=t._readableState;for(Ve("flow",e.flowing);e.flowing&&t.read()!==null;);}gt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ve("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ve("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<RC.length;o++)t.on(RC[o],this.emit.bind(this,RC[o]));return this._read=function(s){Ve("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(gt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});gt._fromList=iV;function iV(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=bme(t,e.buffer,e.decoder),r}function bme(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?wme(t,e):xme(t,e),n}function wme(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function xme(t,e){var r=Um.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function OC(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Jp.nextTick(_me,e,t))}function _me(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function oV(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var NC=v((GNe,uV)=>{"use strict";uV.exports=Is;var Rw=wu(),cV=ki();cV.inherits=nr();cV.inherits(Is,Rw);function Ame(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Is(t){if(!(this instanceof Is))return new Is(t);Rw.call(this,t),this._transformState={afterTransform:Ame.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ime)}function Ime(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){aV(t,e,r)}):aV(this,null,null)}Is.prototype.push=function(t,e){return this._transformState.needTransform=!1,Rw.prototype.push.call(this,t,e)};Is.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Is.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Is.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Is.prototype._destroy=function(t,e){var r=this;Rw.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function aV(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var fV=v((zNe,dV)=>{"use strict";dV.exports=qm;var lV=NC(),pV=ki();pV.inherits=nr();pV.inherits(qm,lV);function qm(t){if(!(this instanceof qm))return new qm(t);lV.call(this,t)}qm.prototype._transform=function(t,e,r){r(null,t)}});var hV=v((Ar,Mw)=>{var Ro=require("stream");process.env.READABLE_STREAM==="disable"&&Ro?(Mw.exports=Ro,Ar=Mw.exports=Ro.Readable,Ar.Readable=Ro.Readable,Ar.Writable=Ro.Writable,Ar.Duplex=Ro.Duplex,Ar.Transform=Ro.Transform,Ar.PassThrough=Ro.PassThrough,Ar.Stream=Ro):(Ar=Mw.exports=PC(),Ar.Stream=Ro||Ar,Ar.Readable=Ar,Ar.Writable=EC(),Ar.Duplex=wu(),Ar.Transform=NC(),Ar.PassThrough=fV())});var jC=v((KNe,mV)=>{mV.exports=Eme;var Sme=Object.prototype.hasOwnProperty;function Eme(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Sme.call(r,n)&&(t[n]=r[n])}return t}});var vV=v((XNe,Ow)=>{var gV=hV().Transform,HV=require("util").inherits,yV=jC();function Yp(t){gV.call(this,t),this._destroyed=!1}HV(Yp,gV);Yp.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function Dme(t,e,r){r(null,t)}function UC(t){return function(e,r,n){return typeof e=="function"&&(n=r,r=e,e={}),typeof r!="function"&&(r=Dme),typeof n!="function"&&(n=null),t(e,r,n)}}Ow.exports=UC(function(t,e,r){var n=new Yp(t);return n._transform=e,r&&(n._flush=r),n});Ow.exports.ctor=UC(function(t,e,r){function n(i){if(!(this instanceof n))return new n(i);this.options=yV(t,i),Yp.call(this,this.options)}return HV(n,Yp),n.prototype._transform=e,r&&(n.prototype._flush=r),n});Ow.exports.obj=UC(function(t,e,r){var n=new Yp(yV({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n})});var xV=v((JNe,Wm)=>{"use strict";Wm.exports=wV;Wm.exports.ctor=qC;Wm.exports.objCtor=Pme;Wm.exports.obj=Tme;var Cme=vV(),bV=jC();function qC(t,e){typeof t=="function"&&(e=t,t={});var r=Cme.ctor(t,function(n,i,o){this.options.wantStrings&&(n=n.toString());try{return e.call(this,n,this._index++)&&this.push(n),o()}catch(s){return o(s)}});return r.prototype._index=0,r}function Pme(t,e){return typeof t=="function"&&(e=t,t={}),t=bV({objectMode:!0,highWaterMark:16},t),qC(t,e)}function wV(t,e){return qC(t,e)()}function Tme(t,e){return typeof t=="function"&&(e=t,t={}),t=bV({objectMode:!0,highWaterMark:16},t),wV(t,e)}});var AV=v((YNe,_V)=>{_V.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof e.cycles=="boolean"?e.cycles:!1,i=e.replacer||function(a,c){return c},o=e.cmp&&function(a){return function(c){return function(u,l){var p={key:u,value:c[u]},d={key:l,value:c[l]};return a(p,d)}}}(e.cmp),s=[];return function a(c,u,l,p){var d=r?`
`+new Array(p+1).join(r):"",m=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=i.call(c,u,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(Lme(l)){for(var f=[],g=0;g<l.length;g++){var y=a(l,g,l[g],p+1)||JSON.stringify(null);f.push(d+r+y)}return"["+f.join(",")+d+"]"}else{if(s.indexOf(l)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else s.push(l);for(var x=$me(l).sort(o&&o(l)),f=[],g=0;g<x.length;g++){var u=x[g],E=a(l,u,l[u],p+1);if(E){var $=JSON.stringify(u)+m+E;f.push(d+r+$)}}return s.splice(s.indexOf(l),1),"{"+f.join(",")+d+"}"}}}({"":t},"",t,0)};var Lme=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},$me=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}});var SV=v((QNe,IV)=>{"use strict";var kme=xV().obj,Rme=AV(),WC;typeof global.Set=="function"?WC=global.Set:WC=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function Mme(t){return function(e){return e[t]}}IV.exports=Ome;function Ome(t,e){e=e||new WC;var r=Rme;return typeof t=="string"?r=Mme(t):typeof t=="function"&&(r=t),kme(function(n){var i=r(n);return e.has(i)?!1:(e.add(i),!0)})}});var CV=v((ZNe,DV)=>{var Fme=Dp(),Bme=Bb(),VC=require("fs"),Vm=function(){},Nme=/^v?\.0/.test(process.version),Fw=function(t){return typeof t=="function"},jme=function(t){return!Nme||!VC?!1:(t instanceof(VC.ReadStream||Vm)||t instanceof(VC.WriteStream||Vm))&&Fw(t.close)},Ume=function(t){return t.setHeader&&Fw(t.abort)},qme=function(t,e,r,n){n=Fme(n);var i=!1;t.on("close",function(){i=!0}),Bme(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,jme(t))return t.close(Vm);if(Ume(t))return t.abort();if(Fw(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},EV=function(t){t()},Wme=function(t,e){return t.pipe(e)},Vme=function(){var t=Array.prototype.slice.call(arguments),e=Fw(t[t.length-1]||Vm)&&t.pop()||Vm;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return qme(i,s,a,function(c){r||(r=c),c&&n.forEach(EV),!s&&(n.forEach(EV),e(r))})});return t.reduce(Wme)};DV.exports=Vme});var GC=v((e3e,PV)=>{PV.exports=require("stream")});var kV=v((t3e,$V)=>{"use strict";function TV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(r),!0).forEach(function(n){zme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xme(t,e,r){return e&&LV(t.prototype,e),r&&LV(t,r),t}var Jme=require("buffer"),Bw=Jme.Buffer,Yme=require("util"),zC=Yme.inspect,Qme=zC&&zC.custom||"inspect";function Zme(t,e,r){Bw.prototype.copy.call(t,e,r)}$V.exports=function(){function t(){Kme(this,t),this.head=null,this.tail=null,this.length=0}return Xme(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Bw.alloc(0);for(var n=Bw.allocUnsafe(r>>>0),i=this.head,o=0;i;)Zme(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Bw.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Qme,value:function(r,n){return zC(this,Gme({},n,{depth:0,customInspect:!1}))}}]),t}()});var XC=v((r3e,MV)=>{"use strict";function ege(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(KC,this,t)):process.nextTick(KC,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Nw,r):(r._writableState.errorEmitted=!0,process.nextTick(RV,r,o)):process.nextTick(RV,r,o):e?(process.nextTick(Nw,r),e(o)):process.nextTick(Nw,r)}),this)}function RV(t,e){KC(t,e),Nw(t)}function Nw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function tge(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function KC(t,e){t.emit("error",e)}function rge(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}MV.exports={destroy:ege,undestroy:tge,errorOrDestroy:rge}});var Ma=v((n3e,BV)=>{"use strict";var FV={};function oi(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,c){super(n(s,a,c))}}i.prototype.name=r.name,i.prototype.code=t,FV[t]=i}function OV(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function nge(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ige(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function oge(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}oi("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);oi("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&nge(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(ige(t," argument"))i=`The ${t} ${n} ${OV(e,"type")}`;else{let o=oge(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${OV(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);oi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");oi("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});oi("ERR_STREAM_PREMATURE_CLOSE","Premature close");oi("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});oi("ERR_MULTIPLE_CALLBACK","Callback called multiple times");oi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");oi("ERR_STREAM_WRITE_AFTER_END","write after end");oi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);oi("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);oi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");BV.exports.codes=FV});var JC=v((i3e,NV)=>{"use strict";var sge=Ma().codes.ERR_INVALID_OPT_VALUE;function age(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function cge(t,e,r,n){var i=age(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new sge(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}NV.exports={getHighWaterMark:cge}});var ZC=v((o3e,GV)=>{"use strict";GV.exports=Tt;function UV(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Rge(e,t)}}var Qp;Tt.WritableState=zm;var uge={deprecate:xw()},qV=GC(),Uw=require("buffer").Buffer,lge=global.Uint8Array||function(){};function pge(t){return Uw.from(t)}function dge(t){return Uw.isBuffer(t)||t instanceof lge}var QC=XC(),fge=JC(),hge=fge.getHighWaterMark,Oa=Ma().codes,mge=Oa.ERR_INVALID_ARG_TYPE,gge=Oa.ERR_METHOD_NOT_IMPLEMENTED,Hge=Oa.ERR_MULTIPLE_CALLBACK,yge=Oa.ERR_STREAM_CANNOT_PIPE,vge=Oa.ERR_STREAM_DESTROYED,bge=Oa.ERR_STREAM_NULL_VALUES,wge=Oa.ERR_STREAM_WRITE_AFTER_END,xge=Oa.ERR_UNKNOWN_ENCODING,Zp=QC.errorOrDestroy;nr()(Tt,qV);function _ge(){}function zm(t,e,r){Qp=Qp||xu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Qp),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=hge(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Pge(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new UV(this)}zm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(zm.prototype,"buffer",{get:uge.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var jw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(e){return jw.call(this,e)?!0:this!==Tt?!1:e&&e._writableState instanceof zm}})):jw=function(e){return e instanceof this};function Tt(t){Qp=Qp||xu();var e=this instanceof Qp;if(!e&&!jw.call(Tt,this))return new Tt(t);this._writableState=new zm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),qV.call(this)}Tt.prototype.pipe=function(){Zp(this,new yge)};function Age(t,e){var r=new wge;Zp(t,r),process.nextTick(e,r)}function Ige(t,e,r,n){var i;return r===null?i=new bge:typeof r!="string"&&!e.objectMode&&(i=new mge("chunk",["string","Buffer"],r)),i?(Zp(t,i),process.nextTick(n,i),!1):!0}Tt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&dge(t);return o&&!Uw.isBuffer(t)&&(t=pge(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=_ge),n.ending?Age(this,r):(o||Ige(this,n,t,r))&&(n.pendingcb++,i=Ege(this,n,o,t,e,r)),i};Tt.prototype.cork=function(){this._writableState.corked++};Tt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&WV(this,t))};Tt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new xge(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sge(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Uw.from(e,r)),e}Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ege(t,e,r,n,i,o){if(!r){var s=Sge(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else YC(t,e,!1,a,n,i,o);return c}function YC(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new vge("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Dge(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Gm,t,e),t._writableState.errorEmitted=!0,Zp(t,n)):(i(n),t._writableState.errorEmitted=!0,Zp(t,n),Gm(t,e))}function Cge(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Pge(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Hge;if(Cge(r),e)Dge(t,r,n,e,i);else{var o=VV(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&WV(t,r),n?process.nextTick(jV,t,r,o,i):jV(t,r,o,i)}}function jV(t,e,r,n){r||Tge(t,e),e.pendingcb--,n(),Gm(t,e)}function Tge(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function WV(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,YC(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new UV(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(YC(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Tt.prototype._write=function(t,e,r){r(new gge("_write()"))};Tt.prototype._writev=null;Tt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||kge(this,n,r),this};Object.defineProperty(Tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function VV(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Lge(t,e){t._final(function(r){e.pendingcb--,r&&Zp(t,r),e.prefinished=!0,t.emit("prefinish"),Gm(t,e)})}function $ge(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Lge,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Gm(t,e){var r=VV(e);if(r&&($ge(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function kge(t,e,r){e.ending=!0,Gm(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Rge(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Tt.prototype.destroy=QC.destroy;Tt.prototype._undestroy=QC.undestroy;Tt.prototype._destroy=function(t,e){e(t)}});var xu=v((s3e,KV)=>{"use strict";var Mge=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};KV.exports=Mo;var zV=rP(),tP=ZC();nr()(Mo,zV);for(eP=Mge(tP.prototype),qw=0;qw<eP.length;qw++)Ww=eP[qw],Mo.prototype[Ww]||(Mo.prototype[Ww]=tP.prototype[Ww]);var eP,Ww,qw;function Mo(t){if(!(this instanceof Mo))return new Mo(t);zV.call(this,t),tP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Oge)))}Object.defineProperty(Mo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Mo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Mo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Oge(){this._writableState.ended||process.nextTick(Fge,this)}function Fge(t){t.end()}Object.defineProperty(Mo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var YV=v((nP,JV)=>{var Vw=require("buffer"),Oo=Vw.Buffer;function XV(t,e){for(var r in t)e[r]=t[r]}Oo.from&&Oo.alloc&&Oo.allocUnsafe&&Oo.allocUnsafeSlow?JV.exports=Vw:(XV(Vw,nP),nP.Buffer=_u);function _u(t,e,r){return Oo(t,e,r)}_u.prototype=Object.create(Oo.prototype);XV(Oo,_u);_u.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Oo(t,e,r)};_u.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Oo(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};_u.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Oo(t)};_u.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Vw.SlowBuffer(t)}});var sP=v(ZV=>{"use strict";var oP=YV().Buffer,QV=oP.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Bge(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Nge(t){var e=Bge(t);if(typeof e!="string"&&(oP.isEncoding===QV||!QV(t)))throw new Error("Unknown encoding: "+t);return e||t}ZV.StringDecoder=Km;function Km(t){this.encoding=Nge(t);var e;switch(this.encoding){case"utf16le":this.text=Gge,this.end=zge,e=4;break;case"utf8":this.fillLast=qge,e=4;break;case"base64":this.text=Kge,this.end=Xge,e=3;break;default:this.write=Jge,this.end=Yge;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=oP.allocUnsafe(e)}Km.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Km.prototype.end=Vge;Km.prototype.text=Wge;Km.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function iP(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function jge(t,e,r){var n=e.length-1;if(n<r)return 0;var i=iP(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=iP(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=iP(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Uge(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function qge(t){var e=this.lastTotal-this.lastNeed,r=Uge(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Wge(t,e){var r=jge(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Vge(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Gge(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function zge(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Kge(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Xge(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Jge(t){return t.toString(this.encoding)}function Yge(t){return t&&t.length?this.write(t):""}});var Gw=v((c3e,r4)=>{"use strict";var e4=Ma().codes.ERR_STREAM_PREMATURE_CLOSE;function Qge(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Zge(){}function eHe(t){return t.setHeader&&typeof t.abort=="function"}function t4(t,e,r){if(typeof e=="function")return t4(t,null,e);e||(e={}),r=Qge(r||Zge);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(f){r.call(t,f)},p=function(){var f;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(f=new e4),r.call(t,f);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(f=new e4),r.call(t,f)},d=function(){t.req.on("finish",a)};return eHe(t)?(t.on("complete",a),t.on("abort",p),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",p)}}r4.exports=t4});var i4=v((u3e,n4)=>{"use strict";var zw;function Fa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tHe=Gw(),Ba=Symbol("lastResolve"),Au=Symbol("lastReject"),Xm=Symbol("error"),Kw=Symbol("ended"),Iu=Symbol("lastPromise"),aP=Symbol("handlePromise"),Su=Symbol("stream");function Na(t,e){return{value:t,done:e}}function rHe(t){var e=t[Ba];if(e!==null){var r=t[Su].read();r!==null&&(t[Iu]=null,t[Ba]=null,t[Au]=null,e(Na(r,!1)))}}function nHe(t){process.nextTick(rHe,t)}function iHe(t,e){return function(r,n){t.then(function(){if(e[Kw]){r(Na(void 0,!0));return}e[aP](r,n)},n)}}var oHe=Object.getPrototypeOf(function(){}),sHe=Object.setPrototypeOf((zw={get stream(){return this[Su]},next:function(){var e=this,r=this[Xm];if(r!==null)return Promise.reject(r);if(this[Kw])return Promise.resolve(Na(void 0,!0));if(this[Su].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Xm]?a(e[Xm]):s(Na(void 0,!0))})});var n=this[Iu],i;if(n)i=new Promise(iHe(n,this));else{var o=this[Su].read();if(o!==null)return Promise.resolve(Na(o,!1));i=new Promise(this[aP])}return this[Iu]=i,i}},Fa(zw,Symbol.asyncIterator,function(){return this}),Fa(zw,"return",function(){var e=this;return new Promise(function(r,n){e[Su].destroy(null,function(i){if(i){n(i);return}r(Na(void 0,!0))})})}),zw),oHe),aHe=function(e){var r,n=Object.create(sHe,(r={},Fa(r,Su,{value:e,writable:!0}),Fa(r,Ba,{value:null,writable:!0}),Fa(r,Au,{value:null,writable:!0}),Fa(r,Xm,{value:null,writable:!0}),Fa(r,Kw,{value:e._readableState.endEmitted,writable:!0}),Fa(r,aP,{value:function(o,s){var a=n[Su].read();a?(n[Iu]=null,n[Ba]=null,n[Au]=null,o(Na(a,!1))):(n[Ba]=o,n[Au]=s)},writable:!0}),r));return n[Iu]=null,tHe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Au];o!==null&&(n[Iu]=null,n[Ba]=null,n[Au]=null,o(i)),n[Xm]=i;return}var s=n[Ba];s!==null&&(n[Iu]=null,n[Ba]=null,n[Au]=null,s(Na(void 0,!0))),n[Kw]=!0}),e.on("readable",nHe.bind(null,n)),n};n4.exports=aHe});var c4=v((l3e,a4)=>{"use strict";function o4(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){r(u);return}a.done?e(c):Promise.resolve(c).then(n,i)}function cHe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(c){o4(o,n,i,s,a,"next",c)}function a(c){o4(o,n,i,s,a,"throw",c)}s(void 0)})}}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uHe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){lHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pHe=Ma().codes.ERR_INVALID_ARG_TYPE;function dHe(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new pHe("iterable",["Iterable"],e);var i=new t(uHe({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=cHe(function*(){try{var c=yield n.next(),u=c.value,l=c.done;l?i.push(null):i.push(yield u)?s():o=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}a4.exports=dHe});var rP=v((d3e,y4)=>{"use strict";y4.exports=Me;var ed;Me.ReadableState=d4;var p3e=require("events").EventEmitter,p4=function(e,r){return e.listeners(r).length},Ym=GC(),Xw=require("buffer").Buffer,fHe=global.Uint8Array||function(){};function hHe(t){return Xw.from(t)}function mHe(t){return Xw.isBuffer(t)||t instanceof fHe}var cP=require("util"),Ee;cP&&cP.debuglog?Ee=cP.debuglog("stream"):Ee=function(){};var gHe=kV(),mP=XC(),HHe=JC(),yHe=HHe.getHighWaterMark,Jw=Ma().codes,vHe=Jw.ERR_INVALID_ARG_TYPE,bHe=Jw.ERR_STREAM_PUSH_AFTER_EOF,wHe=Jw.ERR_METHOD_NOT_IMPLEMENTED,xHe=Jw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,td,uP,lP;nr()(Me,Ym);var Jm=mP.errorOrDestroy,pP=["error","close","destroy","pause","resume"];function _He(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function d4(t,e,r){ed=ed||xu(),t=t||{},typeof r!="boolean"&&(r=e instanceof ed),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=yHe(this,t,"readableHighWaterMark",r),this.buffer=new gHe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(td||(td=sP().StringDecoder),this.decoder=new td(t.encoding),this.encoding=t.encoding)}function Me(t){if(ed=ed||xu(),!(this instanceof Me))return new Me(t);var e=this instanceof ed;this._readableState=new d4(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Ym.call(this)}Object.defineProperty(Me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Me.prototype.destroy=mP.destroy;Me.prototype._undestroy=mP.undestroy;Me.prototype._destroy=function(t,e){e(t)};Me.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Xw.from(t,e),e=""),n=!0),f4(this,t,e,!1,n)};Me.prototype.unshift=function(t){return f4(this,t,null,!0,!1)};function f4(t,e,r,n,i){Ee("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,SHe(t,o);else{var s;if(i||(s=AHe(o,e)),s)Jm(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Xw.prototype&&(e=hHe(e)),n)o.endEmitted?Jm(t,new xHe):dP(t,o,e,!0);else if(o.ended)Jm(t,new bHe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?dP(t,o,e,!1):hP(t,o)):dP(t,o,e,!1)}else n||(o.reading=!1,hP(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function dP(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Yw(t)),hP(t,e)}function AHe(t,e){var r;return!mHe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new vHe("chunk",["string","Buffer","Uint8Array"],e)),r}Me.prototype.isPaused=function(){return this._readableState.flowing===!1};Me.prototype.setEncoding=function(t){td||(td=sP().StringDecoder);var e=new td(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var u4=1073741824;function IHe(t){return t>=u4?t=u4:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function l4(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=IHe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Me.prototype.read=function(t){Ee("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ee("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?fP(this):Yw(this),null;if(t=l4(t,e),t===0&&e.ended)return e.length===0&&fP(this),null;var n=e.needReadable;Ee("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ee("length less than watermark",n)),e.ended||e.reading?(n=!1,Ee("reading or ended",n)):n&&(Ee("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l4(r,e)));var i;return t>0?i=g4(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&fP(this)),i!==null&&this.emit("data",i),i};function SHe(t,e){if(Ee("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Yw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,h4(t)))}}function Yw(t){var e=t._readableState;Ee("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ee("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(h4,t))}function h4(t){var e=t._readableState;Ee("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,gP(t)}function hP(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(EHe,t,e))}function EHe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ee("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Me.prototype._read=function(t){Jm(this,new wHe("_read()"))};Me.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ee("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:g;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(y,x){Ee("onunpipe"),y===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,l())}function a(){Ee("onend"),t.end()}var c=DHe(r);t.on("drain",c);var u=!1;function l(){Ee("cleanup"),t.removeListener("close",m),t.removeListener("finish",f),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",p),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",p);function p(y){Ee("ondata");var x=t.write(y);Ee("dest.write",x),x===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&H4(n.pipes,t)!==-1)&&!u&&(Ee("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(y){Ee("onerror",y),g(),t.removeListener("error",d),p4(t,"error")===0&&Jm(t,y)}_He(t,"error",d);function m(){t.removeListener("finish",f),g()}t.once("close",m);function f(){Ee("onfinish"),t.removeListener("close",m),g()}t.once("finish",f);function g(){Ee("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ee("pipe resume"),r.resume()),t};function DHe(t){return function(){var r=t._readableState;Ee("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&p4(t,"data")&&(r.flowing=!0,gP(t))}}Me.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H4(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Me.prototype.on=function(t,e){var r=Ym.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ee("on readable",n.length,n.reading),n.length?Yw(this):n.reading||process.nextTick(CHe,this)),r};Me.prototype.addListener=Me.prototype.on;Me.prototype.removeListener=function(t,e){var r=Ym.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(m4,this),r};Me.prototype.removeAllListeners=function(t){var e=Ym.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(m4,this),e};function m4(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function CHe(t){Ee("readable nexttick read 0"),t.read(0)}Me.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ee("resume"),t.flowing=!t.readableListening,PHe(this,t)),t.paused=!1,this};function PHe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(THe,t,e))}function THe(t,e){Ee("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),gP(t),e.flowing&&!e.reading&&t.read(0)}Me.prototype.pause=function(){return Ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function gP(t){var e=t._readableState;for(Ee("flow",e.flowing);e.flowing&&t.read()!==null;);}Me.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ee("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ee("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<pP.length;o++)t.on(pP[o],this.emit.bind(this,pP[o]));return this._read=function(s){Ee("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Me.prototype[Symbol.asyncIterator]=function(){return uP===void 0&&(uP=i4()),uP(this)});Object.defineProperty(Me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Me._fromList=g4;Object.defineProperty(Me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function g4(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function fP(t){var e=t._readableState;Ee("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(LHe,e,t))}function LHe(t,e){if(Ee("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Me.from=function(t,e){return lP===void 0&&(lP=c4()),lP(Me,t,e)});function H4(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var HP=v((f3e,b4)=>{"use strict";b4.exports=Ss;var Qw=Ma().codes,$He=Qw.ERR_METHOD_NOT_IMPLEMENTED,kHe=Qw.ERR_MULTIPLE_CALLBACK,RHe=Qw.ERR_TRANSFORM_ALREADY_TRANSFORMING,MHe=Qw.ERR_TRANSFORM_WITH_LENGTH_0,Zw=xu();nr()(Ss,Zw);function OHe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new kHe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ss(t){if(!(this instanceof Ss))return new Ss(t);Zw.call(this,t),this._transformState={afterTransform:OHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",FHe)}function FHe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){v4(t,e,r)}):v4(this,null,null)}Ss.prototype.push=function(t,e){return this._transformState.needTransform=!1,Zw.prototype.push.call(this,t,e)};Ss.prototype._transform=function(t,e,r){r(new $He("_transform()"))};Ss.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ss.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ss.prototype._destroy=function(t,e){Zw.prototype._destroy.call(this,t,function(r){e(r)})};function v4(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new MHe;if(t._transformState.transforming)throw new RHe;return t.push(null)}});var _4=v((h3e,x4)=>{"use strict";x4.exports=Qm;var w4=HP();nr()(Qm,w4);function Qm(t){if(!(this instanceof Qm))return new Qm(t);w4.call(this,t)}Qm.prototype._transform=function(t,e,r){r(null,t)}});var D4=v((m3e,E4)=>{"use strict";var yP;function BHe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var S4=Ma().codes,NHe=S4.ERR_MISSING_ARGS,jHe=S4.ERR_STREAM_DESTROYED;function A4(t){if(t)throw t}function UHe(t){return t.setHeader&&typeof t.abort=="function"}function qHe(t,e,r,n){n=BHe(n);var i=!1;t.on("close",function(){i=!0}),yP===void 0&&(yP=Gw()),yP(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,UHe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new jHe("pipe"))}}}function I4(t){t()}function WHe(t,e){return t.pipe(e)}function VHe(t){return!t.length||typeof t[t.length-1]!="function"?A4:t.pop()}function GHe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=VHe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new NHe("streams");var i,o=e.map(function(s,a){var c=a<e.length-1,u=a>0;return qHe(s,c,u,function(l){i||(i=l),l&&o.forEach(I4),!c&&(o.forEach(I4),n(i))})});return e.reduce(WHe)}E4.exports=GHe});var vP=v((si,eg)=>{var Zm=require("stream");process.env.READABLE_STREAM==="disable"&&Zm?(eg.exports=Zm.Readable,Object.assign(eg.exports,Zm),eg.exports.Stream=Zm):(si=eg.exports=rP(),si.Stream=Zm||si,si.Readable=si,si.Writable=ZC(),si.Duplex=xu(),si.Transform=HP(),si.PassThrough=_4(),si.finished=Gw(),si.pipeline=D4())});var P4=v((g3e,C4)=>{C4.exports=zHe;function zHe(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(KHe(e)):null}function KHe(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var R4=v((H3e,k4)=>{var ex=vP(),T4=Bb(),XHe=nr(),JHe=P4(),L4=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),bP=function(t,e){t._corked?t.once("uncork",e):e()},YHe=function(t,e){t._autoDestroy&&t.destroy(e)},$4=function(t,e){return function(r){r?YHe(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},QHe=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},ZHe=function(){},eye=function(t){return new ex.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},Ir=function(t,e,r){if(!(this instanceof Ir))return new Ir(t,e,r);ex.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};XHe(Ir,ex.Duplex);Ir.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new Ir(t,e,r)};Ir.prototype.cork=function(){++this._corked===1&&this.emit("cork")};Ir.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};Ir.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=T4(t,{writable:!0,readable:!1},$4(this,this._forwardEnd)),n=function(){var o=e._ondrain;e._ondrain=null,o&&o()},i=function(){e._writable.removeListener("drain",n),r()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=i,this.uncork()};Ir.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=T4(t,{writable:!1,readable:!0},$4(this)),n=function(){e._forward()},i=function(){e.push(null)},o=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:eye(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=o,this._forward()};Ir.prototype._read=function(){this._drained=!0,this._forward()};Ir.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=JHe(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};Ir.prototype.destroy=function(t,e){if(e||(e=ZHe),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};Ir.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};Ir.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return bP(this,this._write.bind(this,t,e,r));if(t===L4)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};Ir.prototype._finish=function(t){var e=this;this.emit("preend"),bP(this,function(){QHe(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),bP(e,t)})})};Ir.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(L4),ex.Writable.prototype.end.call(this,r))};k4.exports=Ir});var F4=v((y3e,tx)=>{var tye=CV(),rye=nr(),M4=R4(),O4=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},wP=function(t){var e=function(){var r=O4(arguments);if(!(this instanceof e))return new e(r);M4.call(this,null,null,t),r.length&&this.setPipeline(r)};return rye(e,M4),e.prototype.setPipeline=function(){var r=O4(arguments),n=this,i=!1,o=r[0],s=r[r.length-1];s=s.readable?s:null,o=o.writable?o:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){i||n.cork()}),tye(r,function(c){if(n.removeListener("close",a),c)return n.destroy(c.message==="premature close"?null:c);i=!0,n._autoDestroy===!1&&(n._autoDestroy=!0),n.uncork()}),this.destroyed)return a();this.setWritable(o),this.setReadable(s)},e};tx.exports=wP({autoDestroy:!1,destroy:!1});tx.exports.obj=wP({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});tx.exports.ctor=wP});var xP=v((v3e,B4)=>{"use strict";B4.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var _P=v((b3e,z4)=>{"use strict";var rx=Object.prototype.hasOwnProperty,G4=Object.prototype.toString,N4=Object.defineProperty,j4=Object.getOwnPropertyDescriptor,U4=function(e){return typeof Array.isArray=="function"?Array.isArray(e):G4.call(e)==="[object Array]"},q4=function(e){if(!e||G4.call(e)!=="[object Object]")return!1;var r=rx.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&rx.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||rx.call(e,i)},W4=function(e,r){N4&&r.name==="__proto__"?N4(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},V4=function(e,r){if(r==="__proto__")if(rx.call(e,r)){if(j4)return j4(e,r).value}else return;return e[r]};z4.exports=function t(){var e,r,n,i,o,s,a=arguments[0],c=1,u=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<u;++c)if(e=arguments[c],e!=null)for(r in e)n=V4(a,r),i=V4(e,r),a!==i&&(l&&i&&(q4(i)||(o=U4(i)))?(o?(o=!1,s=n&&U4(n)?n:[]):s=n&&q4(n)?n:{},W4(a,{name:r,newValue:t(l,s,i)})):typeof i<"u"&&W4(a,{name:r,newValue:i}));return a}});var K4=v(AP=>{var Eu=require("path"),Ua=process.platform==="win32",ja=require("fs"),nye=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function iye(){var t;if(nye){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function oye(t){return typeof t=="function"?t:iye()}var w3e=Eu.normalize;Ua?Es=/(.*?)(?:[\/\\]+|$)/g:Es=/(.*?)(?:[\/]+|$)/g;var Es;Ua?tg=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:tg=/^[\/]*/;var tg;AP.realpathSync=function(e,r){if(e=Eu.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},o={},s,a,c,u;l();function l(){var y=tg.exec(e);s=y[0].length,a=y[0],c=y[0],u="",Ua&&!o[c]&&(ja.lstatSync(c),o[c]=!0)}for(;s<e.length;){Es.lastIndex=s;var p=Es.exec(e);if(u=a,a+=p[0],c=u+p[1],s=Es.lastIndex,!(o[c]||r&&r[c]===c)){var d;if(r&&Object.prototype.hasOwnProperty.call(r,c))d=r[c];else{var m=ja.lstatSync(c);if(!m.isSymbolicLink()){o[c]=!0,r&&(r[c]=c);continue}var f=null;if(!Ua){var g=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(g)&&(f=i[g])}f===null&&(ja.statSync(c),f=ja.readlinkSync(c)),d=Eu.resolve(u,f),r&&(r[c]=d),Ua||(i[g]=f)}e=Eu.resolve(d,e.slice(s)),l()}}return r&&(r[n]=e),e};AP.realpath=function(e,r,n){if(typeof n!="function"&&(n=oye(r),r=null),e=Eu.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,o={},s={},a,c,u,l;p();function p(){var y=tg.exec(e);a=y[0].length,c=y[0],u=y[0],l="",Ua&&!s[u]?ja.lstat(u,function(x){if(x)return n(x);s[u]=!0,d()}):process.nextTick(d)}function d(){if(a>=e.length)return r&&(r[i]=e),n(null,e);Es.lastIndex=a;var y=Es.exec(e);return l=c,c+=y[0],u=l+y[1],a=Es.lastIndex,s[u]||r&&r[u]===u?process.nextTick(d):r&&Object.prototype.hasOwnProperty.call(r,u)?g(r[u]):ja.lstat(u,m)}function m(y,x){if(y)return n(y);if(!x.isSymbolicLink())return s[u]=!0,r&&(r[u]=u),process.nextTick(d);if(!Ua){var E=x.dev.toString(32)+":"+x.ino.toString(32);if(o.hasOwnProperty(E))return f(null,o[E],u)}ja.stat(u,function($){if($)return n($);ja.readlink(u,function(L,R){Ua||(o[E]=R),f(L,R)})})}function f(y,x,E){if(y)return n(y);var $=Eu.resolve(l,x);r&&(r[E]=$),g($)}function g(y){e=Eu.resolve(y,e.slice(a)),p()}}});var DP=v((_3e,Q4)=>{Q4.exports=qa;qa.realpath=qa;qa.sync=EP;qa.realpathSync=EP;qa.monkeypatch=aye;qa.unmonkeypatch=cye;var rd=require("fs"),IP=rd.realpath,SP=rd.realpathSync,sye=process.version,X4=/^v[0-5]\./.test(sye),J4=K4();function Y4(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function qa(t,e,r){if(X4)return IP(t,e,r);typeof e=="function"&&(r=e,e=null),IP(t,e,function(n,i){Y4(n)?J4.realpath(t,e,r):r(n,i)})}function EP(t,e){if(X4)return SP(t,e);try{return SP(t,e)}catch(r){if(Y4(r))return J4.realpathSync(t,e);throw r}}function aye(){rd.realpath=qa,rd.realpathSync=EP}function cye(){rd.realpath=IP,rd.realpathSync=SP}});var e5=v((A3e,Z4)=>{Z4.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);uye(i)?r.push.apply(r,i):r.push(i)}return r};var uye=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var o5=v((I3e,i5)=>{"use strict";i5.exports=r5;function r5(t,e,r){t instanceof RegExp&&(t=t5(t,r)),e instanceof RegExp&&(e=t5(e,r));var n=n5(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function t5(t,e){var r=e.match(t);return r?r[0]:null}r5.range=n5;function n5(t,e,r){var n,i,o,s,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var f5=v((S3e,d5)=>{var lye=e5(),s5=o5();d5.exports=fye;var a5="\0SLASH"+Math.random()+"\0",c5="\0OPEN"+Math.random()+"\0",PP="\0CLOSE"+Math.random()+"\0",u5="\0COMMA"+Math.random()+"\0",l5="\0PERIOD"+Math.random()+"\0";function CP(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function pye(t){return t.split("\\\\").join(a5).split("\\{").join(c5).split("\\}").join(PP).split("\\,").join(u5).split("\\.").join(l5)}function dye(t){return t.split(a5).join("\\").split(c5).join("{").split(PP).join("}").split(u5).join(",").split(l5).join(".")}function p5(t){if(!t)return[""];var e=[],r=s5("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=p5(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function fye(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),nd(pye(t),!0).map(dye)):[]}function hye(t){return"{"+t+"}"}function mye(t){return/^-?0\d/.test(t)}function gye(t,e){return t<=e}function Hye(t,e){return t>=e}function nd(t,e){var r=[],n=s5("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+PP+n.post,nd(t)):[t];var c;if(s)c=n.body.split(/\.\./);else if(c=p5(n.body),c.length===1&&(c=nd(c[0],!1).map(hye),c.length===1)){var l=n.post.length?nd(n.post,!1):[""];return l.map(function(C){return n.pre+c[0]+C})}var u=n.pre,l=n.post.length?nd(n.post,!1):[""],p;if(s){var d=CP(c[0]),m=CP(c[1]),f=Math.max(c[0].length,c[1].length),g=c.length==3?Math.abs(CP(c[2])):1,y=gye,x=m<d;x&&(g*=-1,y=Hye);var E=c.some(mye);p=[];for(var $=d;y($,m);$+=g){var L;if(o)L=String.fromCharCode($),L==="\\"&&(L="");else if(L=String($),E){var R=f-L.length;if(R>0){var X=new Array(R+1).join("0");$<0?L="-"+X+L.slice(1):L=X+L}}p.push(L)}}else p=lye(c,function(O){return nd(O,!1)});for(var z=0;z<p.length;z++)for(var F=0;F<l.length;F++){var M=u+p[z]+l[F];(!e||s||M)&&r.push(M)}return r}});var ox=v((E3e,y5)=>{y5.exports=kn;kn.Minimatch=Sr;var rg=function(){try{return require("path")}catch{}}()||{sep:"/"};kn.sep=rg.sep;var $P=kn.GLOBSTAR=Sr.GLOBSTAR={},yye=f5(),h5={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},TP="[^/]",LP=TP+"*?",vye="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",bye="(?:(?!(?:\\/|^)\\.).)*?",m5=wye("().*{}+?[]^$\\!");function wye(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var g5=/\/+/;kn.filter=xye;function xye(t,e){return e=e||{},function(r,n,i){return kn(r,t,e)}}function Wa(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}kn.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return kn;var e=kn,r=function(i,o,s){return e(i,o,Wa(t,s))};return r.Minimatch=function(i,o){return new e.Minimatch(i,Wa(t,o))},r.Minimatch.defaults=function(i){return e.defaults(Wa(t,i)).Minimatch},r.filter=function(i,o){return e.filter(i,Wa(t,o))},r.defaults=function(i){return e.defaults(Wa(t,i))},r.makeRe=function(i,o){return e.makeRe(i,Wa(t,o))},r.braceExpand=function(i,o){return e.braceExpand(i,Wa(t,o))},r.match=function(n,i,o){return e.match(n,i,Wa(t,o))},r};Sr.defaults=function(t){return kn.defaults(t).Minimatch};function kn(t,e,r){return ix(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Sr(e,r).match(t)}function Sr(t,e){if(!(this instanceof Sr))return new Sr(t,e);ix(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&rg.sep!=="/"&&(t=t.split(rg.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Sr.prototype.debug=function(){};Sr.prototype.make=_ye;function _ye(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(g5)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Sr.prototype.parseNegate=Aye;function Aye(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=t.length;i<o&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}kn.braceExpand=function(t,e){return H5(t,e)};Sr.prototype.braceExpand=H5;function H5(t,e){return e||(this instanceof Sr?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,ix(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:yye(t)}var Iye=1024*64,ix=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Iye)throw new TypeError("pattern is too long")};Sr.prototype.parse=Sye;var nx={};function Sye(t,e){ix(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return $P;if(t==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],c,u=!1,l=-1,p=-1,d=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function f(){if(c){switch(c){case"*":n+=LP,i=!0;break;case"?":n+=TP,i=!0;break;default:n+="\\"+c;break}m.debug("clearStateChar %j %j",c,n),c=!1}}for(var g=0,y=t.length,x;g<y&&(x=t.charAt(g));g++){if(this.debug("%s	%s %s %j",t,g,n,x),o&&m5[x]){n+="\\"+x,o=!1;continue}switch(x){case"/":return!1;case"\\":f(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,g,n,x),u){this.debug("  in class"),x==="!"&&g===p+1&&(x="^"),n+=x;continue}m.debug("call clearStateChar %j",c),f(),c=x,r.noext&&f();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:g-1,reStart:n.length,open:h5[c].open,close:h5[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}f(),i=!0;var E=s.pop();n+=E.close,E.type==="!"&&a.push(E),E.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}f(),n+="|";continue;case"[":if(f(),u){n+="\\"+x;continue}u=!0,p=g,l=n.length,n+=x;continue;case"]":if(g===p+1||!u){n+="\\"+x,o=!1;continue}var $=t.substring(p+1,g);try{RegExp("["+$+"]")}catch{var L=this.parse($,nx);n=n.substr(0,l)+"\\["+L[0]+"\\]",i=i||L[1],u=!1;continue}i=!0,u=!1,n+=x;continue;default:f(),o?o=!1:m5[x]&&!(x==="^"&&u)&&(n+="\\"),n+=x}}for(u&&($=t.substr(p+1),L=this.parse($,nx),n=n.substr(0,l)+"\\["+L[0],i=i||L[1]),E=s.pop();E;E=s.pop()){var R=n.slice(E.reStart+E.open.length);this.debug("setting tail",n,E),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ne,Q,pe){return pe||(pe="\\"),Q+Q+pe+"|"}),this.debug(`tail=%j
   %s`,R,R,E,n);var X=E.type==="*"?LP:E.type==="?"?TP:"\\"+E.type;i=!0,n=n.slice(0,E.reStart)+X+"\\("+R}f(),o&&(n+="\\\\");var z=!1;switch(n.charAt(0)){case"[":case".":case"(":z=!0}for(var F=a.length-1;F>-1;F--){var M=a[F],O=n.slice(0,M.reStart),C=n.slice(M.reStart,M.reEnd-8),V=n.slice(M.reEnd-8,M.reEnd),B=n.slice(M.reEnd);V+=B;var G=O.split("(").length-1,S=B;for(g=0;g<G;g++)S=S.replace(/\)[+*?]?/,"");B=S;var T="";B===""&&e!==nx&&(T="$");var J=O+C+B+T+V;n=J}if(n!==""&&i&&(n="(?=.)"+n),z&&(n=d+n),e===nx)return[n,i];if(!i)return Dye(t);var K=r.nocase?"i":"";try{var ee=new RegExp("^"+n+"$",K)}catch{return new RegExp("$.")}return ee._glob=t,ee._src=n,ee}kn.makeRe=function(t,e){return new Sr(t,e||{}).makeRe()};Sr.prototype.makeRe=Eye;function Eye(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?LP:e.dot?vye:bye,n=e.nocase?"i":"",i=t.map(function(o){return o.map(function(s){return s===$P?r:typeof s=="string"?Cye(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}kn.match=function(t,e,r){r=r||{};var n=new Sr(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Sr.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;rg.sep!=="/"&&(e=e.split(rg.sep).join("/")),e=e.split(g5),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var o,s;for(s=e.length-1;s>=0&&(o=e[s],!o);s--);for(s=0;s<i.length;s++){var a=i[s],c=e;n.matchBase&&a.length===1&&(c=[o]);var u=this.matchOne(c,a,r);if(u)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Sr.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=t[i];if(this.debug(e,c,u),c===!1)return!1;if(c===$P){this.debug("GLOBSTAR",[e,c,u]);var l=i,p=o+1;if(p===a){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<s;){var d=t[l];if(this.debug(`
globstar while`,t,l,e,p,d),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,s,d),!0;if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===s))}var m;if(typeof c=="string"?(m=u===c,this.debug("string match",c,u,m)):(m=u.match(c),this.debug("pattern match",c,u,m)),!m)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a)return i===s-1&&t[i]==="";throw new Error("wtf?")};function Dye(t){return t.replace(/\\(.)/g,"$1")}function Cye(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var ax=v((D3e,sx)=>{"use strict";function v5(t){return t.charAt(0)==="/"}function b5(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}sx.exports=process.platform==="win32"?b5:v5;sx.exports.posix=v5;sx.exports.win32=b5});var RP=v(Va=>{Va.setopts=Rye;Va.ownProp=w5;Va.makeAbs=ng;Va.finish=Mye;Va.mark=Oye;Va.isIgnored=_5;Va.childrenIgnored=Fye;function w5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Pye=require("fs"),id=require("path"),Tye=ox(),x5=ax(),kP=Tye.Minimatch;function Lye(t,e){return t.localeCompare(e,"en")}function $ye(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(kye))}function kye(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new kP(r,{dot:!0})}return{matcher:new kP(t,{dot:!0}),gmatcher:e}}function Rye(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Pye,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),$ye(t,r),t.changedCwd=!1;var n=process.cwd();w5(r,"cwd")?(t.cwd=id.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||id.resolve(t.cwd,"/"),t.root=id.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=x5(t.cwd)?t.cwd:ng(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new kP(e,r),t.options=t.minimatch.options}function Mye(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var o=t.matches[n];if(!o||Object.keys(o).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var a=Object.keys(o);e?r.push.apply(r,a):a.forEach(function(c){r[c]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Lye)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(c){var u=!/\/$/.test(c),l=t.cache[c]||t.cache[ng(t,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}t.ignore.length&&(r=r.filter(function(c){return!_5(t,c)})),t.found=r}function Oye(t,e){var r=ng(t,e),n=t.cache[r],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=ng(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function ng(t,e){var r=e;return e.charAt(0)==="/"?r=id.join(t.root,e):x5(e)||e===""?r=e:t.changedCwd?r=id.resolve(t.cwd,e):r=id.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function _5(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Fye(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var D5=v(($3e,E5)=>{E5.exports=S5;S5.GlobSync=ir;var Bye=DP(),A5=ox(),P3e=A5.Minimatch,T3e=FP().Glob,L3e=require("util"),MP=require("path"),I5=require("assert"),cx=ax(),Du=RP(),Nye=Du.setopts,OP=Du.ownProp,jye=Du.childrenIgnored,Uye=Du.isIgnored;function S5(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ir(t,e).found}function ir(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ir))return new ir(t,e);if(Nye(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}ir.prototype._finish=function(){if(I5(this instanceof ir),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var o=Bye.realpathSync(i,t.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}Du.finish(this)};ir.prototype._process=function(t,e,r){I5(this instanceof ir);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var o=t.slice(n),s;i===null?s=".":((cx(i)||cx(t.join("/")))&&(!i||!cx(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!jye(this,s)){var c=o[0]===A5.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,r):this._processReaddir(i,s,a,o,e,r)}};ir.prototype._processReaddir=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",p=[],d=0;d<s.length;d++){var m=s[d];if(m.charAt(0)!=="."||l){var f;c&&!t?f=!m.match(a):f=m.match(a),f&&p.push(m)}}var g=p.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<g;d++){var m=p[d];t&&(t.slice(-1)!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=MP.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var d=0;d<g;d++){var m=p[d],y;t?y=[t,m]:y=[m],this._process(y.concat(n),i,o)}}}};ir.prototype._emitMatch=function(t,e){if(!Uye(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};ir.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};ir.prototype._readdir=function(t,e){var r;if(e&&!OP(this.symlinks,t))return this._readdirInGlobStar(t);if(OP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};ir.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};ir.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};ir.prototype._processGlobStar=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,p=this.symlinks[r];if(!(p&&o))for(var d=0;d<l;d++){var m=s[d];if(!(m.charAt(0)==="."&&!this.dot)){var f=c.concat(s[d],a);this._process(f,i,!0);var g=c.concat(s[d],n);this._process(g,i,!0)}}}};ir.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&cx(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=MP.join(this.root,t):(t=MP.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};ir.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&OP(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};ir.prototype._mark=function(t){return Du.mark(this,t)};ir.prototype._makeAbs=function(t){return Du.makeAbs(this,t)}});var P5=v((k3e,C5)=>{var qye=BE(),ig=Object.create(null),Wye=Dp();C5.exports=qye(Vye);function Vye(t,e){return ig[t]?(ig[t].push(e),null):(ig[t]=[e],Gye(t))}function Gye(t){return Wye(function e(){var r=ig[t],n=r.length,i=zye(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete ig[t]}})}function zye(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var FP=v((O3e,L5)=>{L5.exports=Cu;var Kye=DP(),T5=ox(),R3e=T5.Minimatch,Xye=nr(),Jye=require("events").EventEmitter,BP=require("path"),NP=require("assert"),og=ax(),UP=D5(),Pu=RP(),Yye=Pu.setopts,jP=Pu.ownProp,qP=P5(),M3e=require("util"),Qye=Pu.childrenIgnored,Zye=Pu.isIgnored,eve=Dp();function Cu(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return UP(t,e)}return new ze(t,e,r)}Cu.sync=UP;var tve=Cu.GlobSync=UP.GlobSync;Cu.glob=Cu;function rve(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Cu.hasMagic=function(t,e){var r=rve({},e);r.noprocess=!0;var n=new ze(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};Cu.Glob=ze;Xye(ze,Jye);function ze(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new tve(t,e)}if(!(this instanceof ze))return new ze(t,e,r);Yye(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=eve(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}ze.prototype._finish=function(){if(NP(this instanceof ze),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Pu.finish(this),this.emit("end",this.found)}};ze.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};ze.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,o=n.length;if(o===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),Kye.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[t]=s,e())})})};ze.prototype._mark=function(t){return Pu.mark(this,t)};ze.prototype._makeAbs=function(t){return Pu.makeAbs(this,t)};ze.prototype.abort=function(){this.aborted=!0,this.emit("abort")};ze.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};ze.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};ze.prototype._process=function(t,e,r,n){if(NP(this instanceof ze),NP(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var o;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:o=null;break;default:o=t.slice(0,i).join("/");break}var s=t.slice(i),a;o===null?a=".":((og(o)||og(t.join("/")))&&(!o||!og(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(Qye(this,a))return n();var u=s[0]===T5.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,r,n):this._processReaddir(o,a,c,s,e,r,n)}};ze.prototype._processReaddir=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){return a._processReaddir2(t,e,r,n,i,o,u,s)})};ze.prototype._processReaddir2=function(t,e,r,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,p=this.dot||l.charAt(0)===".",d=[],m=0;m<s.length;m++){var f=s[m];if(f.charAt(0)!=="."||p){var g;u&&!t?g=!f.match(c):g=f.match(c),g&&d.push(f)}}var y=d.length;if(y===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<y;m++){var f=d[m];t&&(t!=="/"?f=t+"/"+f:f=t+f),f.charAt(0)==="/"&&!this.nomount&&(f=BP.join(this.root,f)),this._emitMatch(i,f)}return a()}n.shift();for(var m=0;m<y;m++){var f=d[m],x;t&&(t!=="/"?f=t+"/"+f:f=t+f),this._process([f].concat(n),i,o,a)}a()};ze.prototype._emitMatch=function(t,e){if(!this.aborted&&!Zye(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=og(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};ze.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=qP(r,o);i&&n.fs.lstat(t,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[t]=c,!c&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};ze.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=qP("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!jP(this.symlinks,t))return this._readdirInGlobStar(t,r);if(jP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,nve(this,t,r))}};function nve(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}ze.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};ze.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};ze.prototype._processGlobStar=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){a._processGlobStar2(t,e,r,n,i,o,u,s)})};ze.prototype._processGlobStar2=function(t,e,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var p=this.symlinks[r],d=s.length;if(p&&o)return a();for(var m=0;m<d;m++){var f=s[m];if(!(f.charAt(0)==="."&&!this.dot)){var g=u.concat(s[m],c);this._process(g,i,!0,a);var y=u.concat(s[m],n);this._process(y,i,!0,a)}}a()};ze.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,o){n._processSimple2(t,e,i,o,r)})};ze.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&og(t)&&!this.nomount){var o=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=BP.join(this.root,t):(t=BP.resolve(this.root,t),o&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};ze.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&jP(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=qP("stat\0"+r,l);u&&c.fs.lstat(r,u);function l(p,d){if(d&&d.isSymbolicLink())return c.fs.stat(r,function(m,f){m?c._stat2(t,r,null,d,e):c._stat2(t,r,m,f,e)});c._stat2(t,r,p,d,e)}};ze.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var k5=v((F3e,$5)=>{$5.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var O5=v((B3e,M5)=>{var ive=k5(),R5={"{":"}","(":")","[":"]"},ove=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,i=-2,o=-2,s=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(s===-1||s>n||(s=t.indexOf("\\",e),s===-1||s>n)))||i!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(i=t.indexOf("}",e),i>e&&(s=t.indexOf("\\",e),s===-1||s>i))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(s=t.indexOf("\\",e),s===-1||s>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(s=t.indexOf("\\",r),s===-1||s>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=R5[a];if(c){var u=t.indexOf(c,e);u!==-1&&(e=u+1)}if(t[e]==="!")return!0}else e++}return!1},sve=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=R5[r];if(n){var i=t.indexOf(n,e);i!==-1&&(e=i+1)}if(t[e]==="!")return!0}else e++}return!1};M5.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(ive(e))return!0;var n=ove;return r&&r.strict===!1&&(n=sve),n(e)}});var B5=v((N3e,F5)=>{"use strict";var ave=O5(),cve=require("path").posix.dirname,uve=require("os").platform()==="win32",ux="/",lve=/\\/g,pve=/\\([!*?|[\](){}])/g;F5.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&uve&&e.indexOf(ux)<0&&(e=e.replace(lve,ux)),dve(e)&&(e+=ux),e+="a";do e=cve(e);while(fve(e));return e.replace(pve,"$1")};function dve(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var n=t.indexOf(r);return n<0?!1:t.slice(n+1,-1).includes(ux)}function fve(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:ave(t)}});var j5=v((j3e,N5)=>{"use strict";N5.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var q5=v((U3e,U5)=>{"use strict";var hve=j5()();U5.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return hve.test(t)}});var V5=v((q3e,W5)=>{"use strict";var mve=q5();W5.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!mve(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var G5=v((WP,VP)=>{(function(t){WP&&typeof WP=="object"&&typeof VP<"u"?VP.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var K5=v((W3e,z5)=>{"use strict";var gve=V5(),Hve=G5();z5.exports=sg;function sg(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return Hve()?sg.win32(t):sg.posix(t)}sg.posix=function(e){return e.charAt(0)==="/"};sg.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!gve(e)}});var zP=v((V3e,Q5)=>{"use strict";var X5=require("path"),yve=xP(),J5=K5();Q5.exports=function(t,e){var r=e||{},n=X5.resolve(r.cwd?r.cwd:process.cwd());n=GP(n);var i=r.root;i&&(i=GP(i),(process.platform==="win32"||!J5(i))&&(i=GP(X5.resolve(i)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var o=t.slice(-1),s=yve(t);return t=s.pattern,i&&t.charAt(0)==="/"?t=Y5(i,t):(!J5(t)||t.slice(0,1)==="\\")&&(t=Y5(n,t)),o==="/"&&t.slice(-1)!=="/"&&(t+="/"),s.negated?"!"+t:t};function GP(t){return t.replace(/\\/g,"/")}function Y5(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var eG=v((G3e,Z5)=>{var vve=process.platform==="win32";Z5.exports=function(t){var e=t.length-1;if(e<2)return t;for(;bve(t,e);)e--;return t.substr(0,e+1)};function bve(t,e){var r=t[e];return e>0&&(r==="/"||vve&&r==="\\")}});var nG=v((z3e,rG)=>{"use strict";var wve=require("util").inherits,xve=FP(),_ve=_P(),tG=vP().Readable,Ave=B5(),KP=zP(),Ive=eG(),Sve="File not found with singular glob: ",Eve=" (if this was purposeful, use `allowEmpty` option)";function Dve(t,e){return Ave(KP(t,e))}function Cve(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(n){return typeof n=="string"})}function od(t,e,r){if(!(this instanceof od))return new od(t,e,r);var n=_ve({},r);tG.call(this,{objectMode:!0,highWaterMark:n.highWaterMark||16}),delete n.highWaterMark;var i=this;function o(m){return KP(m,n)}var s=e.map(o);n.ignore=s;var a=n.cwd,c=n.allowEmpty||!1,u=n.base||Dve(t,n);t=KP(t,n),delete n.root;var l=new xve.Glob(t,n);this._globber=l;var p=!1;l.on("match",function(m){p=!0;var f={cwd:a,base:u,path:Ive(m)};i.push(f)||l.pause()}),l.once("end",function(){if(c!==!0&&!p&&Cve(l)){var m=new Error(Sve+t+Eve);return i.destroy(m)}i.push(null)});function d(m){i.destroy(m)}l.once("error",d)}wve(od,tG);od.prototype._read=function(){this._globber.resume()};od.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};rG.exports=od});var oG=v((K3e,iG)=>{"use strict";var Pve=D8(),Tve=SV(),Lve=F4(),$ve=xP(),kve=_P(),Rve=nG();function Mve(t,e){e||(e={});var r=kve({},e),n=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof n=="string"&&(n=[n]),Array.isArray(n)||(n=[]),Array.isArray(t)||(t=[t]);var i=[],o=[];t.forEach(s);function s(p,d){if(typeof p!="string")throw new Error("Invalid glob at index "+d);var m=$ve(p),f=m.negated?o:i;f.push({index:d,glob:m.pattern})}if(i.length===0)throw new Error("Missing positive glob");var a=i.map(l),c=new Pve(a),u=Tve(r.uniqueBy);return Lve.obj(c,u);function l(p){var d=o.filter(Ove(p.index)).map(Fve).concat(n);return new Rve(p.glob,d,r)}}function Ove(t){return function(e){return e.index>t}}function Fve(t){return t.glob}iG.exports=Mve});var yx=v((Nje,gG)=>{"use strict";var{Transform:qve}=require("stream"),{StringDecoder:Wve}=require("string_decoder"),Xa=Symbol("last"),Hx=Symbol("decoder");function Vve(t,e,r){let n;if(this.overflow){if(n=this[Hx].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[Xa]+=this[Hx].write(t),n=this[Xa].split(this.matcher);this[Xa]=n.pop();for(let i=0;i<n.length;i++)try{mG(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[Xa].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Gve(t){if(this[Xa]+=this[Hx].end(),this[Xa])try{mG(this,this.mapper(this[Xa]))}catch(e){return t(e)}t()}function mG(t,e){e!==void 0&&t.push(e)}function hG(t){return t}function zve(t,e,r){switch(t=t||/\r?\n/,e=e||hG,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=hG)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Vve,r.flush=Gve,r.readableObjectMode=!0;let n=new qve(r);return n[Xa]="",n[Hx]=new Wve("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}gG.exports=zve});var BG,FG=s7(()=>{BG="./w32appcontainertokens-XTRA77NA.node"});var jG=v((hqe,NG)=>{FG();try{NG.exports=require(BG)}catch{}});var qG=v(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.getAppContainerProcessTokens=void 0;var Zve=require("path"),UG,ebe=()=>{if(process.platform==="win32")return UG??=jG(),UG},tbe=t=>ebe()?.getAppContainerProcessTokens().map(e=>(0,Zve.join)(e,t));Ix.getAppContainerProcessTokens=tbe});var s6=v((d8e,ube)=>{ube.exports={name:"dotenv",version:"16.3.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var l6=v((f8e,Ls)=>{var a6=require("fs"),uT=require("path"),lbe=require("os"),pbe=require("crypto"),dbe=s6(),lT=dbe.version,fbe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function hbe(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=fbe.exec(r))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[i]=o}return e}function mbe(t){let e=u6(t),r=hr.configDotenv({path:e});if(!r.parsed)throw new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);let n=c6(t).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let a=n[s].trim(),c=ybe(r,a);o=hr.decrypt(c.ciphertext,c.key);break}catch(a){if(s+1>=i)throw a}return hr.parse(o)}function gbe(t){console.log(`[dotenv@${lT}][INFO] ${t}`)}function Hbe(t){console.log(`[dotenv@${lT}][WARN] ${t}`)}function cT(t){console.log(`[dotenv@${lT}][DEBUG] ${t}`)}function c6(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function ybe(t,e){let r;try{r=new URL(e)}catch(a){throw a.code==="ERR_INVALID_URL"?new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development"):a}let n=r.password;if(!n)throw new Error("INVALID_DOTENV_KEY: Missing key part");let i=r.searchParams.get("environment");if(!i)throw new Error("INVALID_DOTENV_KEY: Missing environment part");let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=t.parsed[o];if(!s)throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);return{ciphertext:s,key:n}}function u6(t){let e=uT.resolve(process.cwd(),".env");return t&&t.path&&t.path.length>0&&(e=t.path),e.endsWith(".vault")?e:`${e}.vault`}function vbe(t){return t[0]==="~"?uT.join(lbe.homedir(),t.slice(1)):t}function bbe(t){gbe("Loading env from encrypted .env.vault");let e=hr._parseVault(t),r=process.env;return t&&t.processEnv!=null&&(r=t.processEnv),hr.populate(r,e,t),{parsed:e}}function wbe(t){let e=uT.resolve(process.cwd(),".env"),r="utf8",n=!!(t&&t.debug);t&&(t.path!=null&&(e=vbe(t.path)),t.encoding!=null&&(r=t.encoding));try{let i=hr.parse(a6.readFileSync(e,{encoding:r})),o=process.env;return t&&t.processEnv!=null&&(o=t.processEnv),hr.populate(o,i,t),{parsed:i}}catch(i){return n&&cT(`Failed to load ${e} ${i.message}`),{error:i}}}function xbe(t){let e=u6(t);return c6(t).length===0?hr.configDotenv(t):a6.existsSync(e)?hr._configVault(t):(Hbe(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),hr.configDotenv(t))}function _be(t,e){let r=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(t,"base64"),i=n.slice(0,12),o=n.slice(-16);n=n.slice(12,-16);try{let s=pbe.createDecipheriv("aes-256-gcm",r,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let a=s instanceof RangeError,c=s.message==="Invalid key length",u=s.message==="Unsupported state or unable to authenticate data";if(a||c){let l="INVALID_DOTENV_KEY: It must be 64 characters long (or more)";throw new Error(l)}else if(u){let l="DECRYPTION_FAILED: Please check your DOTENV_KEY";throw new Error(l)}else throw console.error("Error: ",s.code),console.error("Error: ",s.message),s}}function Abe(t,e,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if(typeof e!="object")throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(let o of Object.keys(e))Object.prototype.hasOwnProperty.call(t,o)?(i===!0&&(t[o]=e[o]),n&&cT(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):t[o]=e[o]}var hr={configDotenv:wbe,_configVault:bbe,_parseVault:mbe,config:xbe,decrypt:_be,parse:hbe,populate:Abe};Ls.exports.configDotenv=hr.configDotenv;Ls.exports._configVault=hr._configVault;Ls.exports._parseVault=hr._parseVault;Ls.exports.config=hr.config;Ls.exports.decrypt=hr.decrypt;Ls.exports.parse=hr.parse;Ls.exports.populate=hr.populate;Ls.exports=hr});var bT=v(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.TargetPopulation=oc.Filters=oc.VSCodeFilterProvider=void 0;var t_=require("vscode"),vT=class t{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case Wo.ApplicationVersion:return t.trimVersionSuffix(t_.version);case Wo.Build:return t_.env.appName;case Wo.ClientId:return t_.env.machineId;case Wo.ExtensionName:return this.extensionName;case Wo.ExtensionVersion:return t.trimVersionSuffix(this.extensionVersion);case Wo.Language:return t_.env.language;case Wo.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(Wo);for(let n of r)e.set(n,this.getFilterValue(n));return e}};oc.VSCodeFilterProvider=vT;var Wo;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Wo||(oc.Filters=Wo={}));var K6;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(K6||(oc.TargetPopulation=K6={}))});var X6=v(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.BaseFeatureProvider=void 0;var wT=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};r_.BaseFeatureProvider=wT});var J6=v(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.FilteredFeatureProvider=void 0;var Ube=X6(),xT=class extends Ube.BaseFeatureProvider{constructor(e,r){super(e),this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};n_.FilteredFeatureProvider=xT});var Y6=v(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.TasApiFeatureProvider=sc.TASAPI_FETCHERROR_EVENTNAME=void 0;var qbe=J6();sc.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var _T="ErrorType",AT=class extends qbe.FilteredFeatureProvider{constructor(e,r,n){super(r,n),this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let c=e.get(a);r[a]=c}let n;try{n=await this.httpClient.get({headers:r})}catch(a){let c=a,u=new Map;c.response?u.set(_T,"ServerError"):c.request?u.set(_T,"NoResponse"):u.set(_T,"GenericError"),this.telemetry.postEvent(sc.TASAPI_FETCHERROR_EVENTNAME,u)}if(!n)throw Error(sc.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let u=c+(a.Parameters[c]?"":"cf");s.includes(u)||s.push(u)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};sc.TasApiFeatureProvider=AT});var e9=v((bGe,Z6)=>{var Q6=require("stream").Stream,Wbe=require("util");Z6.exports=Ni;function Ni(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}Wbe.inherits(Ni,Q6);Ni.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(Ni.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ni.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ni.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ni.prototype.pause=function(){this.source.pause()};Ni.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Ni.prototype.pipe=function(){var t=Q6.prototype.pipe.apply(this,arguments);return this.resume(),t};Ni.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Ni.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var i9=v((wGe,n9)=>{var Vbe=require("util"),r9=require("stream").Stream,t9=e9();n9.exports=Lt;function Lt(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Vbe.inherits(Lt,r9);Lt.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Lt.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Lt.prototype.append=function(t){var e=Lt.isStreamLike(t);if(e){if(!(t instanceof t9)){var r=t9.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Lt.prototype.pipe=function(t,e){return r9.prototype.pipe.call(this,t,e),this.resume(),t};Lt.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Lt.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=Lt.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Lt.prototype._pipeNext=function(t){this._currentStream=t;var e=Lt.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Lt.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Lt.prototype.write=function(t){this.emit("data",t)};Lt.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Lt.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Lt.prototype.end=function(){this._reset(),this.emit("end")};Lt.prototype.destroy=function(){this._reset(),this.emit("close")};Lt.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Lt.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Lt.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Lt.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var o9=v((xGe,Gbe)=>{Gbe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var a9=v((_Ge,s9)=>{s9.exports=o9()});var l9=v(mn=>{"use strict";var i_=a9(),zbe=require("path").extname,c9=/^\s*([^;\s]*)(?:;|\s|$)/,Kbe=/^text\//i;mn.charset=u9;mn.charsets={lookup:u9};mn.contentType=Xbe;mn.extension=Jbe;mn.extensions=Object.create(null);mn.lookup=Ybe;mn.types=Object.create(null);Qbe(mn.extensions,mn.types);function u9(t){if(!t||typeof t!="string")return!1;var e=c9.exec(t),r=e&&i_[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&Kbe.test(e[1])?"UTF-8":!1}function Xbe(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?mn.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=mn.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function Jbe(t){if(!t||typeof t!="string")return!1;var e=c9.exec(t),r=e&&mn.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function Ybe(t){if(!t||typeof t!="string")return!1;var e=zbe("x."+t).toLowerCase().substr(1);return e&&mn.types[e]||!1}function Qbe(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(i_).forEach(function(i){var o=i_[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var u=r.indexOf(i_[e[c]].source),l=r.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var d9=v((IGe,p9)=>{p9.exports=Zbe;function Zbe(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var IT=v((SGe,h9)=>{var f9=d9();h9.exports=ewe;function ewe(t){var e=!1;return f9(function(){e=!0}),function(n,i){e?t(n,i):f9(function(){t(n,i)})}}});var ST=v((EGe,m9)=>{m9.exports=twe;function twe(t){Object.keys(t.jobs).forEach(rwe.bind(t)),t.jobs={}}function rwe(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var ET=v((DGe,H9)=>{var g9=IT(),nwe=ST();H9.exports=iwe;function iwe(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=owe(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?nwe(r):r.results[i]=s,n(o,r.results))})}function owe(t,e,r,n){var i;return t.length==2?i=t(r,g9(n)):i=t(r,e,g9(n)),i}});var DT=v((CGe,y9)=>{y9.exports=swe;function swe(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var CT=v((PGe,v9)=>{var awe=ST(),cwe=IT();v9.exports=uwe;function uwe(t){Object.keys(this.jobs).length&&(this.index=this.size,awe(this),cwe(t)(null,this.results))}});var w9=v((TGe,b9)=>{var lwe=ET(),pwe=DT(),dwe=CT();b9.exports=fwe;function fwe(t,e,r){for(var n=pwe(t);n.index<(n.keyedList||t).length;)lwe(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return dwe.bind(n,r)}});var PT=v((LGe,o_)=>{var x9=ET(),hwe=DT(),mwe=CT();o_.exports=gwe;o_.exports.ascending=_9;o_.exports.descending=Hwe;function gwe(t,e,r,n){var i=hwe(t,r);return x9(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){x9(t,e,i,o);return}n(null,i.results)}),mwe.bind(i,n)}function _9(t,e){return t<e?-1:t>e?1:0}function Hwe(t,e){return-1*_9(t,e)}});var I9=v(($Ge,A9)=>{var ywe=PT();A9.exports=vwe;function vwe(t,e,r){return ywe(t,e,null,r)}});var E9=v((kGe,S9)=>{S9.exports={parallel:w9(),serial:I9(),serialOrdered:PT()}});var C9=v((RGe,D9)=>{D9.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var L9=v((MGe,T9)=>{var kT=i9(),P9=require("util"),TT=require("path"),bwe=require("http"),wwe=require("https"),xwe=require("url").parse,_we=require("fs"),Awe=require("stream").Stream,LT=l9(),Iwe=E9(),$T=C9();T9.exports=Oe;P9.inherits(Oe,kT);function Oe(t){if(!(this instanceof Oe))return new Oe(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],kT.call(this),t=t||{};for(var e in t)this[e]=t[e]}Oe.LINE_BREAK=`\r
`;Oe.DEFAULT_CONTENT_TYPE="application/octet-stream";Oe.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=kT.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),P9.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};Oe.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+Oe.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof Awe))&&(r.knownLength||this._valuesToMeasure.push(e))};Oe.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):_we.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};Oe.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&$T(s,r.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+Oe.LINE_BREAK)));return"--"+this.getBoundary()+Oe.LINE_BREAK+o+Oe.LINE_BREAK};Oe.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=TT.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=TT.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=TT.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};Oe.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=LT.lookup(t.name)),!r&&t.path&&(r=LT.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=LT.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=Oe.DEFAULT_CONTENT_TYPE),r};Oe.prototype._multiPartFooter=function(){return function(t){var e=Oe.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};Oe.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Oe.LINE_BREAK};Oe.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};Oe.prototype.setBoundary=function(t){this._boundary=t};Oe.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Oe.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(Oe.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};Oe.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};Oe.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};Oe.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};Oe.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}Iwe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};Oe.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=xwe(t),n=$T({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=$T(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=wwe.request(n):r=bwe.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};Oe.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};Oe.prototype.toString=function(){return"[object FormData]"}});var k9=v($9=>{"use strict";var Swe=require("url").parse,Ewe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Dwe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Cwe(t){var e=typeof t=="string"?Swe(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||Ewe[r]||0,!Pwe(n,i)))return"";var o=Rd("npm_config_"+r+"_proxy")||Rd(r+"_proxy")||Rd("npm_config_proxy")||Rd("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function Pwe(t,e){var r=(Rd("npm_config_no_proxy")||Rd("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!Dwe.call(t,o)):t!==o}):!0}function Rd(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}$9.getProxyForUrl=Cwe});var M9=v((FGe,R9)=>{var Md=1e3,Od=Md*60,Fd=Od*60,Nu=Fd*24,Twe=Nu*7,Lwe=Nu*365.25;R9.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return $we(t);if(r==="number"&&isFinite(t))return e.long?Rwe(t):kwe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function $we(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Lwe;case"weeks":case"week":case"w":return r*Twe;case"days":case"day":case"d":return r*Nu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Fd;case"minutes":case"minute":case"mins":case"min":case"m":return r*Od;case"seconds":case"second":case"secs":case"sec":case"s":return r*Md;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function kwe(t){var e=Math.abs(t);return e>=Nu?Math.round(t/Nu)+"d":e>=Fd?Math.round(t/Fd)+"h":e>=Od?Math.round(t/Od)+"m":e>=Md?Math.round(t/Md)+"s":t+"ms"}function Rwe(t){var e=Math.abs(t);return e>=Nu?s_(t,e,Nu,"day"):e>=Fd?s_(t,e,Fd,"hour"):e>=Od?s_(t,e,Od,"minute"):e>=Md?s_(t,e,Md,"second"):t+" ms"}function s_(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var RT=v((BGe,O9)=>{function Mwe(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=M9(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,d=null,m,f;function g(...y){if(!g.enabled)return;let x=g,E=Number(new Date),$=E-(p||E);x.diff=$,x.prev=p,x.curr=E,p=E,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let L=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(X,z)=>{if(X==="%%")return"%";L++;let F=r.formatters[z];if(typeof F=="function"){let M=y[L];X=F.call(x,M),y.splice(L,1),L--}return X}),r.formatArgs.call(x,y),(x.log||r.log).apply(x,y)}return g.namespace=l,g.useColors=r.useColors(),g.color=r.selectColor(l),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==r.namespaces&&(m=r.namespaces,f=r.enabled(l)),f),set:y=>{d=y}}),typeof r.init=="function"&&r.init(g),g}function n(l,p){let d=r(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p,d=(typeof l=="string"?l:"").split(/[\s,]+/),m=d.length;for(p=0;p<m;p++)d[p]&&(l=d[p].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let p,d;for(p=0,d=r.skips.length;p<d;p++)if(r.skips[p].test(l))return!1;for(p=0,d=r.names.length;p<d;p++)if(r.names[p].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}O9.exports=Mwe});var F9=v((Fn,a_)=>{Fn.formatArgs=Fwe;Fn.save=Bwe;Fn.load=Nwe;Fn.useColors=Owe;Fn.storage=jwe();Fn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Owe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fwe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+a_.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Fn.log=console.debug||console.log||(()=>{});function Bwe(t){try{t?Fn.storage.setItem("debug",t):Fn.storage.removeItem("debug")}catch{}}function Nwe(){let t;try{t=Fn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function jwe(){try{return localStorage}catch{}}a_.exports=RT()(Fn);var{formatters:Uwe}=a_.exports;Uwe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var N9=v((NGe,B9)=>{"use strict";B9.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var U9=v((jGe,j9)=>{"use strict";var qwe=require("os"),ji=N9(),Wr=process.env,Bd;ji("no-color")||ji("no-colors")||ji("color=false")?Bd=!1:(ji("color")||ji("colors")||ji("color=true")||ji("color=always"))&&(Bd=!0);"FORCE_COLOR"in Wr&&(Bd=Wr.FORCE_COLOR.length===0||parseInt(Wr.FORCE_COLOR,10)!==0);function Wwe(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Vwe(t){if(Bd===!1)return 0;if(ji("color=16m")||ji("color=full")||ji("color=truecolor"))return 3;if(ji("color=256"))return 2;if(t&&!t.isTTY&&Bd!==!0)return 0;let e=Bd?1:0;if(process.platform==="win32"){let r=qwe.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Wr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in Wr)||Wr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Wr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Wr.TEAMCITY_VERSION)?1:0;if(Wr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Wr){let r=parseInt((Wr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Wr.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Wr.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Wr.TERM)||"COLORTERM"in Wr?1:(Wr.TERM==="dumb",e)}function MT(t){let e=Vwe(t);return Wwe(e)}j9.exports={supportsColor:MT,stdout:MT(process.stdout),stderr:MT(process.stderr)}});var W9=v((Dr,u_)=>{var Gwe=require("tty"),c_=require("util");Dr.init=Zwe;Dr.log=Jwe;Dr.formatArgs=Kwe;Dr.save=Ywe;Dr.load=Qwe;Dr.useColors=zwe;Dr.destroy=c_.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Dr.colors=[6,2,3,4,5,1];try{let t=U9();t&&(t.stderr||t).level>=2&&(Dr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Dr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function zwe(){return"colors"in Dr.inspectOpts?!!Dr.inspectOpts.colors:Gwe.isatty(process.stderr.fd)}function Kwe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+u_.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Xwe()+e+" "+t[0]}function Xwe(){return Dr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Jwe(...t){return process.stderr.write(c_.format(...t)+`
`)}function Ywe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Qwe(){return process.env.DEBUG}function Zwe(t){t.inspectOpts={};let e=Object.keys(Dr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Dr.inspectOpts[e[r]]}u_.exports=RT()(Dr);var{formatters:q9}=u_.exports;q9.o=function(t){return this.inspectOpts.colors=this.useColors,c_.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};q9.O=function(t){return this.inspectOpts.colors=this.useColors,c_.inspect(t,this.inspectOpts)}});var V9=v((UGe,OT)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?OT.exports=F9():OT.exports=W9()});var z9=v((qGe,G9)=>{var vg;G9.exports=function(){if(!vg){try{vg=V9()("follow-redirects")}catch{}typeof vg!="function"&&(vg=function(){})}vg.apply(null,arguments)}});var Q9=v((WGe,XT)=>{var xg=require("url"),bg=xg.URL,exe=require("http"),txe=require("https"),UT=require("stream").Writable,qT=require("assert"),K9=z9(),WT=!1;try{qT(new bg)}catch(t){WT=t.code==="ERR_INVALID_URL"}var rxe=["auth","host","hostname","href","path","pathname","port","protocol","query","search"],VT=["abort","aborted","connect","error","socket","timeout"],GT=Object.create(null);VT.forEach(function(t){GT[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var BT=_g("ERR_INVALID_URL","Invalid URL",TypeError),NT=_g("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),nxe=_g("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",NT),ixe=_g("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),oxe=_g("ERR_STREAM_WRITE_AFTER_END","write after end"),sxe=UT.prototype.destroy||J9;function gn(t,e){UT.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof NT?i:new NT({cause:i}))}},this._performRequest()}gn.prototype=Object.create(UT.prototype);gn.prototype.abort=function(){KT(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};gn.prototype.destroy=function(t){return KT(this._currentRequest,t),sxe.call(this,t),this};gn.prototype.write=function(t,e,r){if(this._ending)throw new oxe;if(!ju(t)&&!uxe(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(wg(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new ixe),this.abort())};gn.prototype.end=function(t,e,r){if(wg(t)?(r=t,t=e=null):wg(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};gn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};gn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};gn.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){gn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(gn.prototype,t,{get:function(){return this._currentRequest[t]}})});gn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};gn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of VT)n.on(i,GT[i]);if(this._currentUrl=/^\//.test(this._options.path)?xg.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};gn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(KT(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new nxe;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],FT(/^content-/i,this._options.headers));var s=FT(/^host$/i,this._options.headers),a=zT(this._currentUrl),c=s||a.host,u=/^\w+:/.test(r)?this._currentUrl:xg.format(Object.assign(a,{host:c})),l=axe(r,u);if(K9("redirecting to",l.href),this._isRedirect=!0,jT(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!cxe(l.host,c))&&FT(/^(?:authorization|cookie)$/i,this._options.headers),wg(i)){var p={headers:t.headers,statusCode:e},d={url:u,method:o,headers:n};i(this._options,p,d),this._sanitizeOptions(this._options)}this._performRequest()};function X9(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,p){return lxe(u)?u=jT(u):ju(u)?u=jT(zT(u)):(p=l,l=Y9(u),u={protocol:i}),wg(l)&&(p=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!ju(l.host)&&!ju(l.hostname)&&(l.hostname="::1"),qT.equal(l.protocol,i,"protocol mismatch"),K9("options",l),new gn(l,p)}function c(u,l,p){var d=s.request(u,l,p);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function J9(){}function zT(t){var e;if(WT)e=new bg(t);else if(e=Y9(xg.parse(t)),!ju(e.protocol))throw new BT({input:t});return e}function axe(t,e){return WT?new bg(t,e):zT(xg.resolve(e,t))}function Y9(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new BT({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new BT({input:t.href||t});return t}function jT(t,e){var r=e||{};for(var n of rxe)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function FT(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function _g(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function KT(t,e){for(var r of VT)t.removeListener(r,GT[r]);t.on("error",J9),t.destroy(e)}function cxe(t,e){qT(ju(t)&&ju(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function ju(t){return typeof t=="string"||t instanceof String}function wg(t){return typeof t=="function"}function uxe(t){return typeof t=="object"&&"length"in t}function lxe(t){return bg&&t instanceof bg}XT.exports=X9({http:exe,https:txe});XT.exports.wrap=X9});var Uz=v((VGe,jz)=>{"use strict";var pxe=L9(),dxe=require("url"),fxe=k9(),hxe=require("http"),mxe=require("https"),gz=require("util"),gxe=Q9(),Hxe=require("zlib"),Hz=require("stream"),yxe=require("events");function Ms(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var yz=Ms(pxe),vxe=Ms(dxe),bxe=Ms(hxe),wxe=Ms(mxe),xxe=Ms(gz),_xe=Ms(gxe),lc=Ms(Hxe),cc=Ms(Hz),Axe=Ms(yxe);function vz(t,e){return function(){return t.apply(e,arguments)}}var{toString:Ixe}=Object.prototype,{getPrototypeOf:lL}=Object,m_=(t=>e=>{let r=Ixe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vo=t=>(t=t.toLowerCase(),e=>m_(e)===t),g_=t=>e=>typeof e===t,{isArray:qd}=Array,Sg=g_("undefined");function Sxe(t){return t!==null&&!Sg(t)&&t.constructor!==null&&!Sg(t.constructor)&&fi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var bz=Vo("ArrayBuffer");function Exe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bz(t.buffer),e}var Dxe=g_("string"),fi=g_("function"),wz=g_("number"),H_=t=>t!==null&&typeof t=="object",Cxe=t=>t===!0||t===!1,p_=t=>{if(m_(t)!=="object")return!1;let e=lL(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pxe=Vo("Date"),Txe=Vo("File"),Lxe=Vo("Blob"),$xe=Vo("FileList"),kxe=t=>H_(t)&&fi(t.pipe),Rxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fi(t.append)&&((e=m_(t))==="formdata"||e==="object"&&fi(t.toString)&&t.toString()==="[object FormData]"))},Mxe=Vo("URLSearchParams"),Oxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),qd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function xz(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var _z=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Az=t=>!Sg(t)&&t!==_z;function eL(){let{caseless:t}=Az(this)&&this||{},e={},r=(n,i)=>{let o=t&&xz(e,i)||i;p_(e[o])&&p_(n)?e[o]=eL(e[o],n):p_(n)?e[o]=eL({},n):qd(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Dg(arguments[n],r);return e}var Fxe=(t,e,r,{allOwnKeys:n}={})=>(Dg(e,(i,o)=>{r&&fi(i)?t[o]=vz(i,r):t[o]=i},{allOwnKeys:n}),t),Bxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Nxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},jxe=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&lL(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Uxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},qxe=t=>{if(!t)return null;if(qd(t))return t;let e=t.length;if(!wz(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Wxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lL(Uint8Array)),Vxe=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},Gxe=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},zxe=Vo("HTMLFormElement"),Kxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Z9=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Xxe=Vo("RegExp"),Iz=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Dg(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Jxe=t=>{Iz(t,(e,r)=>{if(fi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(fi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Yxe=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return qd(t)?n(t):n(String(t).split(e)),r},Qxe=()=>{},Zxe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),JT="abcdefghijklmnopqrstuvwxyz",ez="0123456789",Sz={DIGIT:ez,ALPHA:JT,ALPHA_DIGIT:JT+JT.toUpperCase()+ez},e_e=(t=16,e=Sz.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function t_e(t){return!!(t&&fi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var r_e=t=>{let e=new Array(10),r=(n,i)=>{if(H_(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=qd(n)?[]:{};return Dg(n,(s,a)=>{let c=r(s,i+1);!Sg(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},n_e=Vo("AsyncFunction"),i_e=t=>t&&(H_(t)||fi(t))&&fi(t.then)&&fi(t.catch),U={isArray:qd,isArrayBuffer:bz,isBuffer:Sxe,isFormData:Rxe,isArrayBufferView:Exe,isString:Dxe,isNumber:wz,isBoolean:Cxe,isObject:H_,isPlainObject:p_,isUndefined:Sg,isDate:Pxe,isFile:Txe,isBlob:Lxe,isRegExp:Xxe,isFunction:fi,isStream:kxe,isURLSearchParams:Mxe,isTypedArray:Wxe,isFileList:$xe,forEach:Dg,merge:eL,extend:Fxe,trim:Oxe,stripBOM:Bxe,inherits:Nxe,toFlatObject:jxe,kindOf:m_,kindOfTest:Vo,endsWith:Uxe,toArray:qxe,forEachEntry:Vxe,matchAll:Gxe,isHTMLForm:zxe,hasOwnProperty:Z9,hasOwnProp:Z9,reduceDescriptors:Iz,freezeMethods:Jxe,toObjectSet:Yxe,toCamelCase:Kxe,noop:Qxe,toFiniteNumber:Zxe,findKey:xz,global:_z,isContextDefined:Az,ALPHABET:Sz,generateString:e_e,isSpecCompliantForm:t_e,toJSONObject:r_e,isAsyncFn:n_e,isThenable:i_e};function he(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}U.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ez=he.prototype,Dz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Dz[t]={value:t}});Object.defineProperties(he,Dz);Object.defineProperty(Ez,"isAxiosError",{value:!0});he.from=(t,e,r,n,i,o)=>{let s=Object.create(Ez);return U.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),he.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function tL(t){return U.isPlainObject(t)||U.isArray(t)}function Cz(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function tz(t,e,r){return t?t.concat(e).map(function(i,o){return i=Cz(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function o_e(t){return U.isArray(t)&&!t.some(tL)}var s_e=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function y_(t,e,r){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new(yz.default||FormData),r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!U.isUndefined(y[g])});let n=r.metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(U.isDate(f))return f.toISOString();if(!c&&U.isBlob(f))throw new he("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(f)||U.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,g,y){let x=f;if(f&&!y&&typeof f=="object"){if(U.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(U.isArray(f)&&o_e(f)||(U.isFileList(f)||U.endsWith(g,"[]"))&&(x=U.toArray(f)))return g=Cz(g),x.forEach(function($,L){!(U.isUndefined($)||$===null)&&e.append(s===!0?tz([g],L,o):s===null?g:g+"[]",u($))}),!1}return tL(f)?!0:(e.append(tz(y,g,o),u(f)),!1)}let p=[],d=Object.assign(s_e,{defaultVisitor:l,convertValue:u,isVisitable:tL});function m(f,g){if(!U.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),U.forEach(f,function(x,E){(!(U.isUndefined(x)||x===null)&&i.call(e,x,U.isString(E)?E.trim():E,g,d))===!0&&m(x,g?g.concat(E):[E])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function rz(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Pz(t,e){this._pairs=[],t&&y_(t,this,e)}var Tz=Pz.prototype;Tz.append=function(e,r){this._pairs.push([e,r])};Tz.toString=function(e){let r=e?function(n){return e.call(this,n,rz)}:rz;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function a_e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pL(t,e,r){if(!e)return t;let n=r&&r.encode||a_e,i=r&&r.serialize,o;if(i?o=i(e,r):o=U.isURLSearchParams(e)?e.toString():new Pz(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var rL=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(n){n!==null&&e(n)})}},nz=rL,dL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c_e=vxe.default.URLSearchParams,u_e={isNode:!0,classes:{URLSearchParams:c_e,FormData:yz.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},Lz=typeof window<"u"&&typeof document<"u",l_e=(t=>Lz&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),p_e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),d_e=Object.freeze({__proto__:null,hasBrowserEnv:Lz,hasStandardBrowserWebWorkerEnv:p_e,hasStandardBrowserEnv:l_e}),di={...d_e,...u_e};function f_e(t,e){return y_(t,new di.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return di.isNode&&U.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function h_e(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m_e(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function $z(t){function e(r,n,i,o){let s=r[o++],a=Number.isFinite(+s),c=o>=r.length;return s=!s&&U.isArray(i)?i.length:s,c?(U.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!U.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&U.isArray(i[s])&&(i[s]=m_e(i[s])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){let r={};return U.forEachEntry(t,(n,i)=>{e(h_e(n),i,r,0)}),r}return null}function g_e(t,e,r){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var fL={transitional:dL,adapter:["xhr","http"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=U.isObject(e);if(o&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i&&i?JSON.stringify($z(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return f_e(e,this.formSerializer).toString();if((a=U.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return y_(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),g_e(e)):e}],transformResponse:[function(e){let r=this.transitional||fL.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&U.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:di.classes.FormData,Blob:di.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{fL.headers[t]={}});var hL=fL,H_e=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y_e=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&H_e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},iz=Symbol("internals");function Ag(t){return t&&String(t).trim().toLowerCase()}function d_(t){return t===!1||t==null?t:U.isArray(t)?t.map(d_):String(t)}function v_e(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var b_e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function YT(t,e,r,n,i){if(U.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!U.isString(e)){if(U.isString(n))return e.indexOf(n)!==-1;if(U.isRegExp(n))return n.test(e)}}function w_e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function x_e(t,e){let r=U.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var Nd=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,c,u){let l=Ag(c);if(!l)throw new Error("header name must be a non-empty string");let p=U.findKey(i,l);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=d_(a))}let s=(a,c)=>U.forEach(a,(u,l)=>o(u,l,c));return U.isPlainObject(e)||e instanceof this.constructor?s(e,r):U.isString(e)&&(e=e.trim())&&!b_e(e)?s(y_e(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Ag(e),e){let n=U.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return v_e(i);if(U.isFunction(r))return r.call(this,i,n);if(U.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ag(e),e){let n=U.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||YT(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=Ag(s),s){let a=U.findKey(n,s);a&&(!r||YT(n,n[a],a,r))&&(delete n[a],i=!0)}}return U.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||YT(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return U.forEach(this,(i,o)=>{let s=U.findKey(n,o);if(s){r[s]=d_(i),delete r[o];return}let a=e?w_e(o):String(o).trim();a!==o&&delete r[o],r[a]=d_(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return U.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&U.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[iz]=this[iz]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=Ag(s);n[a]||(x_e(i,s),n[a]=!0)}return U.isArray(e)?e.forEach(o):o(e),this}};Nd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Nd.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});U.freezeMethods(Nd);var hi=Nd;function QT(t,e){let r=this||hL,n=e||r,i=hi.from(n.headers),o=n.data;return U.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function kz(t){return!!(t&&t.__CANCEL__)}function Uu(t,e,r){he.call(this,t??"canceled",he.ERR_CANCELED,e,r),this.name="CanceledError"}U.inherits(Uu,he,{__CANCEL__:!0});function Ig(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new he("Request failed with status code "+r.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function __e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A_e(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function mL(t,e){return t&&!__e(e)?A_e(t,e):e}var h_="1.6.1";function Rz(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var I_e=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function S_e(t,e,r){let n=r&&r.Blob||di.classes.Blob,i=Rz(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=I_e.exec(t);if(!o)throw new he("Invalid URL",he.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new he("Blob is not supported",he.ERR_NOT_SUPPORT);return new n([u],{type:s})}return u}throw new he("Unsupported protocol "+i,he.ERR_NOT_SUPPORT)}function E_e(t,e){let r=0,n=1e3/e,i=null;return function(s,a){let c=Date.now();if(s||c-r>n)return i&&(clearTimeout(i),i=null),r=c,t.apply(null,a);i||(i=setTimeout(()=>(i=null,r=Date.now(),t.apply(null,a)),n-(c-r)))}}function Mz(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=n[o];s||(s=u),r[i]=c,n[i]=u;let p=o,d=0;for(;p!==i;)d+=r[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;let m=l&&u-l;return m?Math.round(d*1e3/m):void 0}}var l_=Symbol("internals"),nL=class extends cc.default.Transform{constructor(e){e=U.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,c)=>!U.isUndefined(c[a])),super({readableHighWaterMark:e.chunkSize});let r=this,n=this[l_]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=Mz(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",a=>{a==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let o=0;n.updateProgress=E_e(function(){let c=n.length,u=n.bytesSeen,l=u-o;if(!l||r.destroyed)return;let p=i(l);o=u,process.nextTick(()=>{r.emit("progress",{loaded:u,total:c,progress:c?u/c:void 0,bytes:l,rate:p||void 0,estimated:p&&c&&u<=c?(c-u)/p:void 0})})},n.ticksRate);let s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let r=this[l_];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this,o=this[l_],s=o.maxRate,a=this.readableHighWaterMark,c=o.timeWindow,u=1e3/c,l=s/u,p=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0;function d(f,g){let y=Buffer.byteLength(f);o.bytesSeen+=y,o.bytes+=y,o.isCaptured&&o.updateProgress(),i.push(f)?process.nextTick(g):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(g)}}let m=(f,g)=>{let y=Buffer.byteLength(f),x=null,E=a,$,L=0;if(s){let R=Date.now();(!o.ts||(L=R-o.ts)>=c)&&(o.ts=R,$=l-o.bytes,o.bytes=$<0?-$:0,L=0),$=l-o.bytes}if(s){if($<=0)return setTimeout(()=>{g(null,f)},c-L);$<E&&(E=$)}E&&y>E&&y-E>p&&(x=f.subarray(E),f=f.subarray(0,E)),d(f,x?()=>{process.nextTick(g,null,x)}:g)};m(e,function f(g,y){if(g)return n(g);y?m(y,f):n(null)})}setLength(e){return this[l_].length=+e,this}},oz=nL,{asyncIterator:sz}=Symbol,D_e=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[sz]?yield*t[sz]():yield t},Oz=D_e,C_e=U.ALPHABET.ALPHA_DIGIT+"-_",Eg=new gz.TextEncoder,uc=`\r
`,P_e=Eg.encode(uc),T_e=2,iL=class{constructor(e,r){let{escapeName:n}=this.constructor,i=U.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${uc}`;i?r=Eg.encode(String(r).replace(/\r?\n|\r\n?/g,uc)):o+=`Content-Type: ${r.type||"application/octet-stream"}${uc}`,this.headers=Eg.encode(o+uc),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+T_e,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;U.isTypedArray(e)?yield e:yield*Oz(e),yield P_e}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},L_e=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+U.generateString(i,C_e)}=r||{};if(!U.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=Eg.encode("--"+o+uc),a=Eg.encode("--"+o+"--"+uc+uc),c=a.byteLength,u=Array.from(t.entries()).map(([p,d])=>{let m=new iL(p,d);return c+=m.size,m});c+=s.byteLength*u.length,c=U.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),Hz.Readable.from(async function*(){for(let p of u)yield s,yield*p.encode();yield a}())},$_e=L_e,oL=class extends cc.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},k_e=oL,R_e=(t,e)=>U.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,M_e=R_e,az={flush:lc.default.constants.Z_SYNC_FLUSH,finishFlush:lc.default.constants.Z_SYNC_FLUSH},O_e={flush:lc.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:lc.default.constants.BROTLI_OPERATION_FLUSH},cz=U.isFunction(lc.default.createBrotliDecompress),{http:F_e,https:B_e}=_xe.default,N_e=/https:?/,uz=di.protocols.map(t=>t+":");function j_e(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function Fz(t,e,r){let n=e;if(!n&&n!==!1){let i=fxe.getProxyForUrl(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){Fz(o,e,o.href)}}var U_e=typeof process<"u"&&U.kindOf(process)==="process",q_e=t=>new Promise((e,r)=>{let n,i,o=(c,u)=>{i||(i=!0,n&&n(c,u))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),r(c)};t(s,a,c=>n=c).catch(a)}),W_e=({address:t,family:e})=>{if(!U.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},lz=(t,e)=>W_e(U.isObject(t)?t:{address:t,family:e}),V_e=U_e&&function(e){return q_e(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),d,m=!1,f;if(a){let J=M_e(a,K=>U.isArray(K)?K:[K]);a=(K,ee,ne)=>{J(K,ee,(Q,pe,Ae)=>{let me=U.isArray(pe)?pe.map(Ke=>lz(Ke)):[lz(pe,Ae)];ee.all?ne(Q,me):ne(Q,me[0].address,me[0].family)})}}let g=new Axe.default,y=()=>{e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x),g.removeAllListeners()};o((J,K)=>{d=!0,K&&(m=!0,y())});function x(J){g.emit("abort",!J||J.type?new Uu(null,e,f):J)}g.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));let E=mL(e.baseURL,e.url),$=new URL(E,"http://localhost"),L=$.protocol||uz[0];if(L==="data:"){let J;if(p!=="GET")return Ig(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{J=S_e(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(K){throw he.from(K,he.ERR_BAD_REQUEST,e)}return u==="text"?(J=J.toString(l),(!l||l==="utf8")&&(J=U.stripBOM(J))):u==="stream"&&(J=cc.default.Readable.from(J)),Ig(n,i,{data:J,status:200,statusText:"OK",headers:new hi,config:e})}if(uz.indexOf(L)===-1)return i(new he("Unsupported protocol "+L,he.ERR_BAD_REQUEST,e));let R=hi.from(e.headers).normalize();R.set("User-Agent","axios/"+h_,!1);let X=e.onDownloadProgress,z=e.onUploadProgress,F=e.maxRate,M,O;if(U.isSpecCompliantForm(s)){let J=R.getContentType(/boundary=([-_\w\d]{10,70})/i);s=$_e(s,K=>{R.set(K)},{tag:`axios-${h_}-boundary`,boundary:J&&J[1]||void 0})}else if(U.isFormData(s)&&U.isFunction(s.getHeaders)){if(R.set(s.getHeaders()),!R.hasContentLength())try{let J=await xxe.default.promisify(s.getLength).call(s);Number.isFinite(J)&&J>=0&&R.setContentLength(J)}catch{}}else if(U.isBlob(s))s.size&&R.setContentType(s.type||"application/octet-stream"),R.setContentLength(s.size||0),s=cc.default.Readable.from(Oz(s));else if(s&&!U.isStream(s)){if(!Buffer.isBuffer(s))if(U.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(U.isString(s))s=Buffer.from(s,"utf-8");else return i(new he("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",he.ERR_BAD_REQUEST,e));if(R.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new he("Request body larger than maxBodyLength limit",he.ERR_BAD_REQUEST,e))}let C=U.toFiniteNumber(R.getContentLength());U.isArray(F)?(M=F[0],O=F[1]):M=O=F,s&&(z||M)&&(U.isStream(s)||(s=cc.default.Readable.from(s,{objectMode:!1})),s=cc.default.pipeline([s,new oz({length:C,maxRate:U.toFiniteNumber(M)})],U.noop),z&&s.on("progress",J=>{z(Object.assign(J,{upload:!0}))}));let V;if(e.auth){let J=e.auth.username||"",K=e.auth.password||"";V=J+":"+K}if(!V&&$.username){let J=$.username,K=$.password;V=J+":"+K}V&&R.delete("authorization");let B;try{B=pL($.pathname+$.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(J){let K=new Error(J.message);return K.config=e,K.url=e.url,K.exists=!0,i(K)}R.set("Accept-Encoding","gzip, compress, deflate"+(cz?", br":""),!1);let G={path:B,method:p,headers:R.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:V,protocol:L,family:c,beforeRedirect:j_e,beforeRedirects:{}};!U.isUndefined(a)&&(G.lookup=a),e.socketPath?G.socketPath=e.socketPath:(G.hostname=$.hostname,G.port=$.port,Fz(G,e.proxy,L+"//"+$.hostname+($.port?":"+$.port:"")+G.path));let S,T=N_e.test(G.protocol);if(G.agent=T?e.httpsAgent:e.httpAgent,e.transport?S=e.transport:e.maxRedirects===0?S=T?wxe.default:bxe.default:(e.maxRedirects&&(G.maxRedirects=e.maxRedirects),e.beforeRedirect&&(G.beforeRedirects.config=e.beforeRedirect),S=T?B_e:F_e),e.maxBodyLength>-1?G.maxBodyLength=e.maxBodyLength:G.maxBodyLength=1/0,e.insecureHTTPParser&&(G.insecureHTTPParser=e.insecureHTTPParser),f=S.request(G,function(K){if(f.destroyed)return;let ee=[K],ne=+K.headers["content-length"];if(X){let Ke=new oz({length:U.toFiniteNumber(ne),maxRate:U.toFiniteNumber(O)});X&&Ke.on("progress",ge=>{X(Object.assign(ge,{download:!0}))}),ee.push(Ke)}let Q=K,pe=K.req||f;if(e.decompress!==!1&&K.headers["content-encoding"])switch((p==="HEAD"||K.statusCode===204)&&delete K.headers["content-encoding"],(K.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":ee.push(lc.default.createUnzip(az)),delete K.headers["content-encoding"];break;case"deflate":ee.push(new k_e),ee.push(lc.default.createUnzip(az)),delete K.headers["content-encoding"];break;case"br":cz&&(ee.push(lc.default.createBrotliDecompress(O_e)),delete K.headers["content-encoding"])}Q=ee.length>1?cc.default.pipeline(ee,U.noop):ee[0];let Ae=cc.default.finished(Q,()=>{Ae(),y()}),me={status:K.statusCode,statusText:K.statusMessage,headers:new hi(K.headers),config:e,request:pe};if(u==="stream")me.data=Q,Ig(n,i,me);else{let Ke=[],ge=0;Q.on("data",function(Xe){Ke.push(Xe),ge+=Xe.length,e.maxContentLength>-1&&ge>e.maxContentLength&&(m=!0,Q.destroy(),i(new he("maxContentLength size of "+e.maxContentLength+" exceeded",he.ERR_BAD_RESPONSE,e,pe)))}),Q.on("aborted",function(){if(m)return;let Xe=new he("maxContentLength size of "+e.maxContentLength+" exceeded",he.ERR_BAD_RESPONSE,e,pe);Q.destroy(Xe),i(Xe)}),Q.on("error",function(Xe){f.destroyed||i(he.from(Xe,null,e,pe))}),Q.on("end",function(){try{let Xe=Ke.length===1?Ke[0]:Buffer.concat(Ke);u!=="arraybuffer"&&(Xe=Xe.toString(l),(!l||l==="utf8")&&(Xe=U.stripBOM(Xe))),me.data=Xe}catch(Xe){return i(he.from(Xe,null,e,me.request,me))}Ig(n,i,me)})}g.once("abort",Ke=>{Q.destroyed||(Q.emit("error",Ke),Q.destroy())})}),g.once("abort",J=>{i(J),f.destroy(J)}),f.on("error",function(K){i(he.from(K,null,e,f))}),f.on("socket",function(K){K.setKeepAlive(!0,1e3*60)}),e.timeout){let J=parseInt(e.timeout,10);if(Number.isNaN(J)){i(new he("error trying to parse `config.timeout` to int",he.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(J,function(){if(d)return;let ee=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",ne=e.transitional||dL;e.timeoutErrorMessage&&(ee=e.timeoutErrorMessage),i(new he(ee,ne.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,f)),x()})}if(U.isStream(s)){let J=!1,K=!1;s.on("end",()=>{J=!0}),s.once("error",ee=>{K=!0,f.destroy(ee)}),s.on("close",()=>{!J&&!K&&x(new Uu("Request stream has been aborted",e,f))}),s.pipe(f)}else f.end(s)})},G_e=di.hasStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,a){let c=[];c.push(r+"="+encodeURIComponent(n)),U.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),U.isString(o)&&c.push("path="+o),U.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){let n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),z_e=di.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){let a=U.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function pz(t,e){let r=0,n=Mz(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,c=n(a),u=o<=s;r=o;let l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}var K_e=typeof XMLHttpRequest<"u",X_e=K_e&&function(t){return new Promise(function(r,n){let i=t.data,o=hi.from(t.headers).normalize(),s=t.responseType,a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;if(U.isFormData(i)){if(di.hasStandardBrowserEnv||di.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){let[f,...g]=u?u.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...g].join("; "))}}let l=new XMLHttpRequest;if(t.auth){let f=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+g))}let p=mL(t.baseURL,t.url);l.open(t.method.toUpperCase(),pL(p,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function d(){if(!l)return;let f=hi.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:f,config:t,request:l};Ig(function(E){r(E),c()},function(E){n(E),c()},y),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(n(new he("Request aborted",he.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new he("Network Error",he.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||dL;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new he(g,y.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,l)),l=null},di.hasStandardBrowserEnv){let f=z_e(p)&&t.xsrfCookieName&&G_e.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&U.forEach(o.toJSON(),function(g,y){l.setRequestHeader(y,g)}),U.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",pz(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",pz(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{l&&(n(!f||f.type?new Uu(null,t,l):f),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));let m=Rz(p);if(m&&di.protocols.indexOf(m)===-1){n(new he("Unsupported protocol "+m+":",he.ERR_BAD_REQUEST,t));return}l.send(i||null)})},sL={http:V_e,xhr:X_e};U.forEach(sL,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var dz=t=>`- ${t}`,J_e=t=>U.isFunction(t)||t===null||t===!1,Bz={getAdapter:t=>{t=U.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!J_e(r)&&(n=sL[(s=String(r)).toLowerCase()],n===void 0))throw new he(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(dz).join(`
`):" "+dz(o[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:sL};function ZT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Uu(null,t)}function fz(t){return ZT(t),t.headers=hi.from(t.headers),t.data=QT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Bz.getAdapter(t.adapter||hL.adapter)(t).then(function(n){return ZT(t),n.data=QT.call(t,t.transformResponse,n),n.headers=hi.from(n.headers),n},function(n){return kz(n)||(ZT(t),n&&n.response&&(n.response.data=QT.call(t,t.transformResponse,n.response),n.response.headers=hi.from(n.response.headers))),Promise.reject(n)})}var hz=t=>t instanceof hi?t.toJSON():t;function jd(t,e){e=e||{};let r={};function n(u,l,p){return U.isPlainObject(u)&&U.isPlainObject(l)?U.merge.call({caseless:p},u,l):U.isPlainObject(l)?U.merge({},l):U.isArray(l)?l.slice():l}function i(u,l,p){if(U.isUndefined(l)){if(!U.isUndefined(u))return n(void 0,u,p)}else return n(u,l,p)}function o(u,l){if(!U.isUndefined(l))return n(void 0,l)}function s(u,l){if(U.isUndefined(l)){if(!U.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,p){if(p in e)return n(u,l);if(p in t)return n(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l)=>i(hz(u),hz(l),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(l){let p=c[l]||i,d=p(t[l],e[l],l);U.isUndefined(d)&&p!==a||(r[l]=d)}),r}var gL={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gL[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var mz={};gL.transitional=function(e,r,n){function i(o,s){return"[Axios v"+h_+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new he(i(s," has been removed"+(r?" in "+r:"")),he.ERR_DEPRECATED);return r&&!mz[s]&&(mz[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Y_e(t,e,r){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new he("option "+o+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new he("Unknown option "+o,he.ERR_BAD_OPTION)}}var aL={assertOptions:Y_e,validators:gL},ac=aL.validators,Ud=class{constructor(e){this.defaults=e,this.interceptors={request:new nz,response:new nz}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=jd(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&aL.assertOptions(n,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),i!=null&&(U.isFunction(i)?r.paramsSerializer={serialize:i}:aL.assertOptions(i,{encode:ac.function,serialize:ac.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&U.merge(o.common,o[r.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=hi.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});let u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,p=0,d;if(!c){let f=[fz.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),d=f.length,l=Promise.resolve(r);p<d;)l=l.then(f[p++],f[p++]);return l}d=a.length;let m=r;for(p=0;p<d;){let f=a[p++],g=a[p++];try{m=f(m)}catch(y){g.call(this,y);break}}try{l=fz.call(this,m)}catch(f){return Promise.reject(f)}for(p=0,d=u.length;p<d;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=jd(this.defaults,e);let r=mL(e.baseURL,e.url);return pL(r,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){Ud.prototype[e]=function(r,n){return this.request(jd(n||{},{method:e,url:r,data:(n||{}).data}))}});U.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(jd(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ud.prototype[e]=r(),Ud.prototype[e+"Form"]=r(!0)});var f_=Ud,cL=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Uu(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},Q_e=cL;function Z_e(t){return function(r){return t.apply(null,r)}}function e0e(t){return U.isObject(t)&&t.isAxiosError===!0}var uL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uL).forEach(([t,e])=>{uL[e]=t});var t0e=uL;function Nz(t){let e=new f_(t),r=vz(f_.prototype.request,e);return U.extend(r,f_.prototype,e,{allOwnKeys:!0}),U.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Nz(jd(t,i))},r}var zt=Nz(hL);zt.Axios=f_;zt.CanceledError=Uu;zt.CancelToken=Q_e;zt.isCancel=kz;zt.VERSION=h_;zt.toFormData=y_;zt.AxiosError=he;zt.Cancel=zt.CanceledError;zt.all=function(e){return Promise.all(e)};zt.spread=Z_e;zt.isAxiosError=e0e;zt.mergeConfig=jd;zt.AxiosHeaders=hi;zt.formToJSON=t=>$z(U.isHTMLForm(t)?new FormData(t):t);zt.getAdapter=Bz.getAdapter;zt.HttpStatusCode=t0e;zt.default=zt;jz.exports=zt});var qz=v(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.AxiosHttpClient=void 0;var r0e=Uz(),HL=class{constructor(e){this.endpoint=e}get(e){return r0e.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};v_.AxiosHttpClient=HL});var Wz=v(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.MemoryKeyValueStorage=void 0;var yL=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};b_.MemoryKeyValueStorage=yL});var Vz=v(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.ExperimentationServiceBase=void 0;var n0e=Wz(),vL=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,r,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new n0e.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async n=>await n.getFeatures()));let r=await this.fetchPromise;this.updateFeatures(r,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`);let n=this.features.configs.find(i=>i.Id===e);return n?.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};w_.ExperimentationServiceBase=vL});var Gz=v(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.PollingService=void 0;var bL=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};x_.PollingService=bL});var zz=v(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.ExperimentationServiceAutoPolling=void 0;var i0e=Vz(),o0e=Gz(),wL=class extends i0e.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new o0e.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};__.ExperimentationServiceAutoPolling=wL});var Kz=v(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.ExperimentationService=void 0;var s0e=Y6(),a0e=qz(),c0e=zz(),A_=class extends c0e.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new s0e.TasApiFeatureProvider(new a0e.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};I_.ExperimentationService=A_;A_.REFRESH_RATE_IN_MINUTES=30});var Xz=v(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.ExperimentationService=void 0;var u0e=Kz();Object.defineProperty(S_,"ExperimentationService",{enumerable:!0,get:function(){return u0e.ExperimentationService}})});var Jz=v(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.MementoKeyValueStorage=void 0;var xL=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};E_.MementoKeyValueStorage=xL});var Yz=v(AL=>{"use strict";Object.defineProperty(AL,"__esModule",{value:!0});var _L=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};AL.default=_L});var Zz=v(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getExperimentationServiceAsync=Wd.getExperimentationService=void 0;var l0e=bT(),p0e=Xz(),IL=require("vscode"),d0e=Jz(),f0e=Yz(),h0e="https://default.exp-tas.com/vscode/ab",m0e="query-expfeature",g0e="abexp.assignmentcontext",H0e="VSCode.ABExp.FeatureData",y0e=1e3*60*30;function Qz(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=IL.workspace.getConfiguration("telemetry");if(!(IL.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):IL.env.isTelemetryEnabled))return new f0e.default;let u=[new l0e.VSCodeFilterProvider(t,e,r),...o],l=new d0e.MementoKeyValueStorage(i);return new p0e.ExperimentationService({filterProviders:u,telemetry:n,storageKey:H0e,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:g0e,telemetryEventName:m0e,endpoint:h0e,refetchInterval:y0e})}Wd.getExperimentationService=Qz;async function v0e(t,e,r,n,i,...o){let s=Qz(t,e,r,n,i,...o);return await s.initializePromise,s}Wd.getExperimentationServiceAsync=v0e});var tK=v(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.TargetPopulation=pc.getExperimentationServiceAsync=pc.getExperimentationService=void 0;var eK=Zz();Object.defineProperty(pc,"getExperimentationService",{enumerable:!0,get:function(){return eK.getExperimentationService}});Object.defineProperty(pc,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return eK.getExperimentationServiceAsync}});var b0e=bT();Object.defineProperty(pc,"TargetPopulation",{enumerable:!0,get:function(){return b0e.TargetPopulation}})});var uX=v(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});function KL(t){this.j={},this.jr=[],this.jd=null,this.t=t}KL.prototype={accepts:function(){return!!this.t},tt:function(e,r){if(r&&r.j)return this.j[e]=r,r;var n=r,i=this.j[e];if(i)return n&&(i.t=n),i;i=rt();var o=K_(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=n||o.t):i.t=n,this.j[e]=i,i}};var rt=function(){return new KL},ye=function(e){return new KL(e)},se=function(e,r,n){e.j[r]||(e.j[r]=n)},gr=function(e,r,n){e.jr.push([r,n])},K_=function(e,r){var n=e.j[r];if(n)return n;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(r))return s}return e.jd},Ce=function(e,r,n){for(var i=0;i<r.length;i++)se(e,r[i],n)},G0e=function(e,r){for(var n=0;n<r.length;n++){var i=r[n][0],o=r[n][1];se(e,i,o)}},Yu=function(e,r,n,i){for(var o=0,s=r.length,a;o<s&&(a=e.j[r[o]]);)e=a,o++;if(o>=s)return[];for(;o<s-1;)a=i(),se(e,r[o],a),e=a,o++;se(e,r[s-1],n)},Wi="DOMAIN",Us="LOCALHOST",Ko="TLD",Hi="NUM",$f="PROTOCOL",XL="MAILTO",oX="WS",JL="NL",Df="OPENBRACE",Wg="OPENBRACKET",Vg="OPENANGLEBRACKET",Gg="OPENPAREN",Qu="CLOSEBRACE",Cf="CLOSEBRACKET",Pf="CLOSEANGLEBRACKET",Tf="CLOSEPAREN",X_="AMPERSAND",J_="APOSTROPHE",Y_="ASTERISK",Lf="AT",Q_="BACKSLASH",Z_="BACKTICK",e0="CARET",zg="COLON",YL="COMMA",t0="DOLLAR",bc="DOT",r0="EQUALS",QL="EXCLAMATION",n0="HYPHEN",i0="PERCENT",o0="PIPE",s0="PLUS",a0="POUND",c0="QUERY",ZL="QUOTE",e$="SEMI",qs="SLASH",u0="TILDE",l0="UNDERSCORE",p0="SYM",z0e=Object.freeze({__proto__:null,DOMAIN:Wi,LOCALHOST:Us,TLD:Ko,NUM:Hi,PROTOCOL:$f,MAILTO:XL,WS:oX,NL:JL,OPENBRACE:Df,OPENBRACKET:Wg,OPENANGLEBRACKET:Vg,OPENPAREN:Gg,CLOSEBRACE:Qu,CLOSEBRACKET:Cf,CLOSEANGLEBRACKET:Pf,CLOSEPAREN:Tf,AMPERSAND:X_,APOSTROPHE:J_,ASTERISK:Y_,AT:Lf,BACKSLASH:Q_,BACKTICK:Z_,CARET:e0,COLON:zg,COMMA:YL,DOLLAR:t0,DOT:bc,EQUALS:r0,EXCLAMATION:QL,HYPHEN:n0,PERCENT:i0,PIPE:o0,PLUS:s0,POUND:a0,QUERY:c0,QUOTE:ZL,SEMI:e$,SLASH:qs,TILDE:u0,UNDERSCORE:l0,SYM:p0}),rX="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Ng=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,jg=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Ug=/\uFE0F/,qg=/\d/,nX=/\s/;function K0e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=rt(),r=ye(Hi),n=ye(Wi),i=rt(),o=ye(oX),s=[[qg,n],[Ng,n],[jg,n],[Ug,n]],a=function(){var L=ye(Wi);return L.j={"-":i},L.jr=[].concat(s),L},c=function(L){var R=a();return R.t=L,R};G0e(e,[["'",ye(J_)],["{",ye(Df)],["[",ye(Wg)],["<",ye(Vg)],["(",ye(Gg)],["}",ye(Qu)],["]",ye(Cf)],[">",ye(Pf)],[")",ye(Tf)],["&",ye(X_)],["*",ye(Y_)],["@",ye(Lf)],["`",ye(Z_)],["^",ye(e0)],[":",ye(zg)],[",",ye(YL)],["$",ye(t0)],[".",ye(bc)],["=",ye(r0)],["!",ye(QL)],["-",ye(n0)],["%",ye(i0)],["|",ye(o0)],["+",ye(s0)],["#",ye(a0)],["?",ye(c0)],['"',ye(ZL)],["/",ye(qs)],[";",ye(e$)],["~",ye(u0)],["_",ye(l0)],["\\",ye(Q_)]]),se(e,`
`,ye(JL)),gr(e,nX,o),se(o,`
`,rt()),gr(o,nX,o);for(var u=0;u<rX.length;u++)Yu(e,rX[u],c(Ko),a);var l=a(),p=a(),d=a(),m=a();Yu(e,"file",l,a),Yu(e,"ftp",p,a),Yu(e,"http",d,a),Yu(e,"mailto",m,a);var f=a(),g=ye($f),y=ye(XL);se(p,"s",f),se(p,":",g),se(d,"s",f),se(d,":",g),se(l,":",g),se(f,":",g),se(m,":",y);for(var x=a(),E=0;E<t.length;E++)Yu(e,t[E],x,a);return se(x,":",g),Yu(e,"localhost",c(Us),a),gr(e,qg,r),gr(e,Ng,n),gr(e,jg,n),gr(e,Ug,n),gr(r,qg,r),gr(r,Ng,n),gr(r,jg,n),gr(r,Ug,n),se(r,"-",i),se(n,"-",i),se(i,"-",i),gr(n,qg,n),gr(n,Ng,n),gr(n,jg,n),gr(n,Ug,n),gr(i,qg,n),gr(i,Ng,n),gr(i,jg,n),gr(i,Ug,n),e.jd=ye(p0),e}function X0e(t,e){for(var r=J0e(e.replace(/[A-Z]/g,function(m){return m.toLowerCase()})),n=r.length,i=[],o=0,s=0;s<n;){for(var a=t,c=null,u=0,l=null,p=-1,d=-1;s<n&&(c=K_(a,r[s]));)a=c,a.accepts()?(p=0,d=0,l=a):p>=0&&(p+=r[s].length,d++),u+=r[s].length,o+=r[s].length,s++;o-=p,s-=d,u-=p,i.push({t:l.t,v:e.substr(o-u,u),s:o-u,e:o})}return i}function J0e(t){for(var e=[],r=t.length,n=0;n<r;){var i=t.charCodeAt(n),o=void 0,s=i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}function z_(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z_=function(e){return typeof e}:z_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z_(t)}var Pr={defaultProtocol:"http",events:null,format:iX,formatHref:iX,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function t$(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:Pr.defaultProtocol,this.events="events"in t?t.events:Pr.events,this.format="format"in t?t.format:Pr.format,this.formatHref="formatHref"in t?t.formatHref:Pr.formatHref,this.nl2br="nl2br"in t?t.nl2br:Pr.nl2br,this.tagName="tagName"in t?t.tagName:Pr.tagName,this.target="target"in t?t.target:Pr.target,this.rel="rel"in t?t.rel:Pr.rel,this.validate="validate"in t?t.validate:Pr.validate,this.truncate="truncate"in t?t.truncate:Pr.truncate,this.className="className"in t?t.className:Pr.className,this.attributes=t.attributes||Pr.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:Pr.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}t$.prototype={resolve:function(e){var r=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",r,e),tagName:this.get("tagName",r,e),className:this.get("className",r,e),target:this.get("target",r,e),rel:this.get("rel",r,e),events:this.getObject("events",r,e),attributes:this.getObject("attributes",r,e),truncate:this.get("truncate",r,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,r,n){var i=this[e];if(!i)return i;var o;switch(z_(i)){case"function":return i(r,n.t);case"object":return o=n.t in i?i[n.t]:Pr[e],typeof o=="function"?o(r,n.t):o}return i},getObject:function(e,r,n){var i=this[e];return typeof i=="function"?i(r,n.t):i}};function iX(t){return t}var Y0e=Object.freeze({__proto__:null,defaults:Pr,Options:t$});function Q0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n.constructor=e,e.prototype=n,e}function d0(){}d0.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Zu(t,e){function r(n,i){this.t=t,this.v=n,this.tk=i}return Q0e(d0,r,e),r}var sX=Zu("email",{isLink:!0}),VL=Zu("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),GL=Zu("text"),aX=Zu("nl"),vc=Zu("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr.defaultProtocol,r=this.tk,n=!1,i=!1,o=[],s=0;r[s].t===$f;)n=!0,o.push(r[s].v),s++;for(;r[s].t===qs;)i=!0,o.push(r[s].v),s++;for(;s<r.length;s++)o.push(r[s].v);return o=o.join(""),n||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===$f}}),Z0e=Object.freeze({__proto__:null,MultiToken:d0,Base:d0,createTokenClass:Zu,MailtoEmail:sX,Email:VL,Text:GL,Nl:aX,Url:vc});function eAe(){var t=rt(),e=rt(),r=rt(),n=rt(),i=rt(),o=rt(),s=rt(),a=ye(vc),c=rt(),u=ye(vc),l=ye(vc),p=rt(),d=rt(),m=rt(),f=rt(),g=rt(),y=ye(vc),x=ye(vc),E=ye(vc),$=ye(vc),L=rt(),R=rt(),X=rt(),z=rt(),F=rt(),M=rt(),O=ye(VL),C=rt(),V=ye(VL),B=ye(sX),G=rt(),S=rt(),T=rt(),J=rt(),K=ye(aX);se(t,JL,K),se(t,$f,e),se(t,XL,r),se(e,qs,n),se(n,qs,i),se(t,Ko,o),se(t,Wi,o),se(t,Us,a),se(t,Hi,o),se(i,Ko,l),se(i,Wi,l),se(i,Hi,l),se(i,Us,l),se(o,bc,s),se(F,bc,M),se(s,Ko,a),se(s,Wi,o),se(s,Hi,o),se(s,Us,o),se(M,Ko,O),se(M,Wi,F),se(M,Hi,F),se(M,Us,F),se(a,bc,s),se(O,bc,M),se(a,zg,c),se(a,qs,l),se(c,Hi,u),se(u,qs,l),se(O,zg,C),se(C,Hi,V);var ee=[X_,Y_,Lf,Q_,Z_,e0,t0,Wi,r0,n0,Us,Hi,i0,o0,s0,a0,$f,qs,p0,u0,Ko,l0],ne=[J_,Pf,Qu,Cf,Tf,zg,YL,bc,QL,Vg,Df,Wg,Gg,c0,ZL,e$];se(l,Df,d),se(l,Wg,m),se(l,Vg,f),se(l,Gg,g),se(p,Df,d),se(p,Wg,m),se(p,Vg,f),se(p,Gg,g),se(d,Qu,l),se(m,Cf,l),se(f,Pf,l),se(g,Tf,l),se(y,Qu,l),se(x,Cf,l),se(E,Pf,l),se($,Tf,l),se(L,Qu,l),se(R,Cf,l),se(X,Pf,l),se(z,Tf,l),Ce(d,ee,y),Ce(m,ee,x),Ce(f,ee,E),Ce(g,ee,$),Ce(d,ne,L),Ce(m,ne,R),Ce(f,ne,X),Ce(g,ne,z),Ce(y,ee,y),Ce(x,ee,x),Ce(E,ee,E),Ce($,ee,$),Ce(y,ne,y),Ce(x,ne,x),Ce(E,ne,E),Ce($,ne,$),Ce(L,ee,y),Ce(R,ee,x),Ce(X,ee,E),Ce(z,ee,$),Ce(L,ne,L),Ce(R,ne,R),Ce(X,ne,X),Ce(z,ne,z),Ce(l,ee,l),Ce(p,ee,l),Ce(l,ne,p),Ce(p,ne,p),se(r,Ko,B),se(r,Wi,B),se(r,Hi,B),se(r,Us,B),Ce(B,ee,B),Ce(B,ne,G),Ce(G,ee,B),Ce(G,ne,G);var Q=[X_,J_,Y_,Q_,Z_,e0,Qu,t0,Wi,r0,n0,Hi,Df,i0,o0,s0,a0,c0,qs,p0,u0,Ko,l0];return Ce(o,Q,S),se(o,Lf,T),Ce(a,Q,S),se(a,Lf,T),Ce(s,Q,S),Ce(S,Q,S),se(S,Lf,T),se(S,bc,J),Ce(J,Q,S),se(T,Ko,F),se(T,Wi,F),se(T,Hi,F),se(T,Us,O),t}function tAe(t,e,r){for(var n=r.length,i=0,o=[],s=[];i<n;){for(var a=t,c=null,u=null,l=0,p=null,d=-1;i<n&&!(c=K_(a,r[i].t));)s.push(r[i++]);for(;i<n&&(u=c||K_(a,r[i].t));)c=null,a=u,a.accepts()?(d=0,p=a):d>=0&&d++,i++,l++;if(d<0)for(var m=i-l;m<i;m++)s.push(r[m]);else{s.length>0&&(o.push(WL(GL,e,s)),s=[]),i-=d,l-=d;var f=p.t,g=r.slice(i-l,i);o.push(WL(f,e,g))}}return s.length>0&&o.push(WL(GL,e,s)),o}function WL(t,e,r){var n=r[0].s,i=r[r.length-1].e,o=e.substr(n,i-n);return new t(o,r)}var zL=typeof console<"u"&&console&&console.warn||function(){},St={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function rAe(){St.scanner=null,St.parser=null,St.pluginQueue=[],St.customProtocols=[],St.initialized=!1}function nAe(t,e){for(var r=0;r<St.pluginQueue.length;r++)if(t===St.pluginQueue[r][0]){zL('linkifyjs: plugin "'.concat(t,'" already registered - will be overwritten')),St.pluginQueue[r]=[t,e];return}St.pluginQueue.push([t,e]),St.initialized&&zL('linkifyjs: already initialized - will not register plugin "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all plugins before invoking linkify the first time.'))}function iAe(t){if(St.initialized&&zL('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");St.customProtocols.push(t)}function cX(){St.scanner={start:K0e(St.customProtocols),tokens:z0e},St.parser={start:eAe(),tokens:Z0e};for(var t={createTokenClass:Zu},e=0;e<St.pluginQueue.length;e++)St.pluginQueue[e][1]({scanner:St.scanner,parser:St.parser,utils:t});St.initialized=!0}function r$(t){return St.initialized||cX(),tAe(St.parser.start,t,X0e(St.scanner.start,t))}function oAe(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=r$(t),n=[],i=0;i<r.length;i++){var o=r[i];o.isLink&&(!e||o.t===e)&&n.push(o.toObject())}return n}function sAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=r$(t);return r.length===1&&r[0].isLink&&(!e||r[0].t===e)}Vi.Options=t$;Vi.find=oAe;Vi.init=cX;Vi.options=Y0e;Vi.registerCustomProtocol=iAe;Vi.registerPlugin=nAe;Vi.reset=rAe;Vi.test=sAe;Vi.tokenize=r$});var pX=v((gXe,lX)=>{lX.exports=uX()});var xAe={};a7(xAe,{activate:()=>bAe,deactivate:()=>wAe});module.exports=c7(xAe);var e7=A(we()),t7=require("os"),Kt=A(require("vscode"));var Nf=new Map([["pwa-node","node"],["pwa-chrome","chrome"],["pwa-extensionHost","extensionHost"],["pwa-msedge","msedge"]]),nl=t=>Nf.get(t)||t,A7={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},I7={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null},IAe=new Set(Object.keys(I7)),T0=new Set(Object.keys(A7)),Ks=t=>T0.has(t);var Te=(t,e,r)=>t.registerCommand(e,r),rH=async(t,e,...r)=>await t.executeCommand(e,...r);var Dt=(t,e,r)=>t.getConfiguration(void 0,r).get(e),L0=(t,e,r,n)=>t.getConfiguration().update(e,r,n);var jf=async(t,e,r)=>await t.executeCommand("setContext",e,r);var Ct=t=>!!t,il=t=>iH(t,e=>e!==null),v$=t=>iH(t,e=>e!==void 0),Ic=t=>e=>e instanceof t,nH=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function iH(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];e(i,n)&&(r[n]=i)}return r}function Xo(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];r[n]=e(i,n)}return r}function b$(t,e){let r={};for(let n of Object.keys(t))e(n,t[n])&&(r[n]=t[n]);return r}function w$(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let n of t)if(n)for(let i of Object.keys(n)){let o=i.toLowerCase();r[o]?e[r[o]]=n[i]:(r[o]=i,e[i]=n[i])}return e}function x$(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase()===r)return t[n]}var $0=Symbol("unset");function _e(t){let e=$0,r=(...n)=>(e===$0&&(r.value=e=t(...n)),e);return r.forget=()=>{e=$0,r.value=void 0},r.value=void 0,r}function Jo(t){let e=new Map,r=n=>{if(e.has(n))return e.get(n);let i=t(n);return e.set(n,i),i};return r.clear=()=>e.clear(),r}function _$(t){let e,r=n=>(e?.arg===n||(e={arg:n,val:t(n)}),e.val);return r.clear=()=>e=void 0,r}function A$(t,e){let r,n=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}function I$(t,e){let r,n=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}async function S$(t,e){let r=[],n=[];for(let i of t)await e(i)?r.push(i):n.push(i);return[r,n]}function Yo(t){let e=[];for(let r of t)e=e.concat(r);return e}var S7=2**31-1,oH=()=>{let t=0;return()=>t++&S7};var Re=Symbol("AnyLaunchConfiguration"),sH={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.(m|c|)js","!**/node_modules/**"],sourceMapPathOverrides:F0("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},Uf={...sH,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},aH={...Uf,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},E7={...Uf,type:"node-terminal",request:"attach",name:aH.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},k0={...Uf,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},D7={...Uf,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},qf={...sH,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:F0("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},R0={...qf,type:"pwa-msedge",useWebView:!1},cH={...qf,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},M0={...cH,type:"pwa-msedge",useWebView:!1},O0={...Uf,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function F0(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var uH=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=F0(t.cwd)),t.resolveSourceMapLocations===void 0&&(t.resolveSourceMapLocations=t.outFiles)};function B0({...t}){return uH(t),t.request==="attach"?{...O0,...t}:{...D7,...t}}function C7(t,e){return t.request==="attach"?{...qf,browserAttachLocation:e,...t}:{...cH,browserLaunchLocation:e,...t}}function P7(t,e){return t.request==="attach"?{...R0,browserAttachLocation:e,...t}:{...M0,browserLaunchLocation:e,...t}}function T7(t){let e={...k0,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function N0(t){return uH(t),t.request==="launch"?{...aH,...t}:{...E7,...t}}function Xs(t,e){let r,n=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=B0(t);break;case"pwa-msedge":r=P7(t,n);break;case"pwa-chrome":r=C7(t,n);break;case"pwa-extensionHost":r=T7(t);break;case"node-terminal":r=N0(t);break;default:throw nH(t,"Unknown config: {value}")}return U0(r)}function j0(t){let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(n=>!n.includes(e)),sourceMapPathOverrides:iH(t.sourceMapPathOverrides,n=>!n.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(n=>!n.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=r.resolveSourceMapLocations?.filter(n=>!n.includes(e))??null),"cwd"in r&&r.cwd?.includes(e)&&(r.cwd=void 0),"webRoot"in r&&r.webRoot?.includes(e)&&(r.webRoot="/"),r}function U0(t){return t.__workspaceFolder||(t=j0(t)),t=Gi(t,"workspaceFolder",t.__workspaceFolder),t=Gi(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function Gi(t,e,r){let n;if(typeof t=="string")n=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)n=t.map(i=>Gi(i,e,r));else if(typeof t=="object"&&t){let i={};for(let[o,s]of Object.entries(t))i[Gi(o,e,r)]=Gi(s,e,r);n=i}else n=t;return n}var lH=["javascript","typescript","typescriptreact","javascriptreact","fsharp","html","wat","c","cpp","rust","zig"],pH="js-debug",Sc="1.86.1",L7="ms-vscode",dH=pH.includes("nightly"),E$=`${L7}.${pH}`;var m0=A(tA()),gX=A(_A()),h0=require("fs"),g0=A(Z());var XM;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(o,s){return function(a,c){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:c}),s&&s(a,c)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return vi(Object.create(null))}:a?function(){return vi({__proto__:null})}:function(){return vi({})},has:c?function(h,H){return r.call(h,H)}:function(h,H){return H in h},get:c?function(h,H){return r.call(h,H)?h[H]:void 0}:function(h,H){return h[H]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Zg(),m=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:D0(),f=!p&&typeof WeakMap=="function"?WeakMap:be(),g=new f;function y(h,H,w,_){if(Q(w)){if(!Le(h))throw new TypeError;if(!ve(H))throw new TypeError;return O(h,H)}else{if(!Le(h))throw new TypeError;if(!me(H))throw new TypeError;if(!me(_)&&!Q(_)&&!pe(_))throw new TypeError;return pe(_)&&(_=void 0),w=ie(w),C(h,H,w,_)}}e("decorate",y);function x(h,H){function w(_,P){if(!me(_))throw new TypeError;if(!Q(P)&&!Ue(P))throw new TypeError;J(h,H,_,P)}return w}e("metadata",x);function E(h,H,w,_){if(!me(w))throw new TypeError;return Q(_)||(_=ie(_)),J(h,H,w,_)}e("defineMetadata",E);function $(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),B(h,H,w)}e("hasMetadata",$);function L(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),G(h,H,w)}e("hasOwnMetadata",L);function R(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),S(h,H,w)}e("getMetadata",R);function X(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),T(h,H,w)}e("getOwnMetadata",X);function z(h,H){if(!me(h))throw new TypeError;return Q(H)||(H=ie(H)),K(h,H)}e("getMetadataKeys",z);function F(h,H){if(!me(h))throw new TypeError;return Q(H)||(H=ie(H)),ee(h,H)}e("getOwnMetadataKeys",F);function M(h,H,w){if(!me(H))throw new TypeError;Q(w)||(w=ie(w));var _=V(H,w,!1);if(Q(_)||!_.delete(h))return!1;if(_.size>0)return!0;var P=g.get(H);return P.delete(w),P.size>0||g.delete(H),!0}e("deleteMetadata",M);function O(h,H){for(var w=h.length-1;w>=0;--w){var _=h[w],P=_(H);if(!Q(P)&&!pe(P)){if(!ve(P))throw new TypeError;H=P}}return H}function C(h,H,w,_){for(var P=h.length-1;P>=0;--P){var k=h[P],j=k(H,w,_);if(!Q(j)&&!pe(j)){if(!me(j))throw new TypeError;_=j}}return _}function V(h,H,w){var _=g.get(h);if(Q(_)){if(!w)return;_=new d,g.set(h,_)}var P=_.get(H);if(Q(P)){if(!w)return;P=new d,_.set(H,P)}return P}function B(h,H,w){var _=G(h,H,w);if(_)return!0;var P=rl(H);return pe(P)?!1:B(h,P,w)}function G(h,H,w){var _=V(H,w,!1);return Q(_)?!1:Xt(_.has(h))}function S(h,H,w){var _=G(h,H,w);if(_)return T(h,H,w);var P=rl(H);if(!pe(P))return S(h,P,w)}function T(h,H,w){var _=V(H,w,!1);if(!Q(_))return _.get(h)}function J(h,H,w,_){var P=V(w,_,!0);P.set(h,H)}function K(h,H){var w=ee(h,H),_=rl(h);if(_===null)return w;var P=K(_,H);if(P.length<=0)return w;if(w.length<=0)return P;for(var k=new m,j=[],q=0,N=w;q<N.length;q++){var ae=N[q],de=k.has(ae);de||(k.add(ae),j.push(ae))}for(var He=0,ke=P;He<ke.length;He++){var ae=ke[He],de=k.has(ae);de||(k.add(ae),j.push(ae))}return j}function ee(h,H){var w=[],_=V(h,H,!1);if(Q(_))return w;for(var P=_.keys(),k=xt(P),j=0;;){var q=zs(k);if(!q)return w.length=j,w;var N=Gs(q);try{w[j]=N}catch(ae){try{Ac(k)}finally{throw ae}}j++}}function ne(h){if(h===null)return 1;switch(typeof h){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return h===null?1:6;default:return 6}}function Q(h){return h===void 0}function pe(h){return h===null}function Ae(h){return typeof h=="symbol"}function me(h){return typeof h=="object"?h!==null:typeof h=="function"}function Ke(h,H){switch(ne(h)){case 0:return h;case 1:return h;case 2:return h;case 3:return h;case 4:return h;case 5:return h}var w=H===3?"string":H===5?"number":"default",_=Ht(h,i);if(_!==void 0){var P=_.call(h,w);if(me(P))throw new TypeError;return P}return ge(h,w==="default"?"number":w)}function ge(h,H){if(H==="string"){var w=h.toString;if(te(w)){var _=w.call(h);if(!me(_))return _}var P=h.valueOf;if(te(P)){var _=P.call(h);if(!me(_))return _}}else{var P=h.valueOf;if(te(P)){var _=P.call(h);if(!me(_))return _}var k=h.toString;if(te(k)){var _=k.call(h);if(!me(_))return _}}throw new TypeError}function Xt(h){return!!h}function Xe(h){return""+h}function ie(h){var H=Ke(h,3);return Ae(H)?H:Xe(H)}function Le(h){return Array.isArray?Array.isArray(h):h instanceof Object?h instanceof Array:Object.prototype.toString.call(h)==="[object Array]"}function te(h){return typeof h=="function"}function ve(h){return typeof h=="function"}function Ue(h){switch(ne(h)){case 3:return!0;case 4:return!0;default:return!1}}function Ht(h,H){var w=h[H];if(w!=null){if(!te(w))throw new TypeError;return w}}function xt(h){var H=Ht(h,o);if(!te(H))throw new TypeError;var w=H.call(h);if(!me(w))throw new TypeError;return w}function Gs(h){return h.value}function zs(h){var H=h.next();return H.done?!1:H}function Ac(h){var H=h.return;H&&H.call(h)}function rl(h){var H=Object.getPrototypeOf(h);if(typeof h!="function"||h===l||H!==l)return H;var w=h.prototype,_=w&&Object.getPrototypeOf(w);if(_==null||_===Object.prototype)return H;var P=_.constructor;return typeof P!="function"||P===h?H:P}function Zg(){var h={},H=[],w=function(){function j(q,N,ae){this._index=0,this._keys=q,this._values=N,this._selector=ae}return j.prototype["@@iterator"]=function(){return this},j.prototype[o]=function(){return this},j.prototype.next=function(){var q=this._index;if(q>=0&&q<this._keys.length){var N=this._selector(this._keys[q],this._values[q]);return q+1>=this._keys.length?(this._index=-1,this._keys=H,this._values=H):this._index++,{value:N,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(q){throw this._index>=0&&(this._index=-1,this._keys=H,this._values=H),q},j.prototype.return=function(q){return this._index>=0&&(this._index=-1,this._keys=H,this._values=H),{value:q,done:!0}},j}();return function(){function j(){this._keys=[],this._values=[],this._cacheKey=h,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(q){return this._find(q,!1)>=0},j.prototype.get=function(q){var N=this._find(q,!1);return N>=0?this._values[N]:void 0},j.prototype.set=function(q,N){var ae=this._find(q,!0);return this._values[ae]=N,this},j.prototype.delete=function(q){var N=this._find(q,!1);if(N>=0){for(var ae=this._keys.length,de=N+1;de<ae;de++)this._keys[de-1]=this._keys[de],this._values[de-1]=this._values[de];return this._keys.length--,this._values.length--,q===this._cacheKey&&(this._cacheKey=h,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=h,this._cacheIndex=-2},j.prototype.keys=function(){return new w(this._keys,this._values,_)},j.prototype.values=function(){return new w(this._keys,this._values,P)},j.prototype.entries=function(){return new w(this._keys,this._values,k)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[o]=function(){return this.entries()},j.prototype._find=function(q,N){return this._cacheKey!==q&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=q)),this._cacheIndex<0&&N&&(this._cacheIndex=this._keys.length,this._keys.push(q),this._values.push(void 0)),this._cacheIndex},j}();function _(j,q){return j}function P(j,q){return q}function k(j,q){return[j,q]}}function D0(){return function(){function h(){this._map=new d}return Object.defineProperty(h.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),h.prototype.has=function(H){return this._map.has(H)},h.prototype.add=function(H){return this._map.set(H,H),this},h.prototype.delete=function(H){return this._map.delete(H)},h.prototype.clear=function(){this._map.clear()},h.prototype.keys=function(){return this._map.keys()},h.prototype.values=function(){return this._map.values()},h.prototype.entries=function(){return this._map.entries()},h.prototype["@@iterator"]=function(){return this.keys()},h.prototype[o]=function(){return this.keys()},h}()}function be(){var h=16,H=u.create(),w=_();return function(){function N(){this._key=_()}return N.prototype.has=function(ae){var de=P(ae,!1);return de!==void 0?u.has(de,this._key):!1},N.prototype.get=function(ae){var de=P(ae,!1);return de!==void 0?u.get(de,this._key):void 0},N.prototype.set=function(ae,de){var He=P(ae,!0);return He[this._key]=de,this},N.prototype.delete=function(ae){var de=P(ae,!1);return de!==void 0?delete de[this._key]:!1},N.prototype.clear=function(){this._key=_()},N}();function _(){var N;do N="@@WeakMap@@"+q();while(u.has(H,N));return H[N]=!0,N}function P(N,ae){if(!r.call(N,w)){if(!ae)return;Object.defineProperty(N,w,{value:u.create()})}return N[w]}function k(N,ae){for(var de=0;de<ae;++de)N[de]=Math.random()*255|0;return N}function j(N){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(N)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(N)):k(new Uint8Array(N),N):k(new Array(N),N)}function q(){var N=j(h);N[6]=N[6]&79|64,N[8]=N[8]&191|128;for(var ae="",de=0;de<h;++de){var He=N[de];(de===4||de===6||de===8)&&(ae+="-"),He<16&&(ae+="0"),ae+=He.toString(16).toLowerCase()}return ae}}function vi(h){return h.__=void 0,delete h.__,h}})})(XM||(XM={}));var xh=require("fs"),cr=A(Z()),tv=A(require("path"));var Y=class{constructor(){this._listeners=new Set;this.event=(e,r,n)=>{let i={listener:e,thisArg:r};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(o),o}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(r){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:o}=this._deliveryQueue[n];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},nh=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let n=this.map.get(e);n||(n=new Y,this.map.set(e,n));let i=n.event(r);return{dispose:_e(()=>{i.dispose(),n?.size===0&&this.map.delete(e)})}}emit(e,r){this.listeners.get(e)?.fire(r)}};var Tc=A(Z()),sh=A(require("path"));var ZM=require("crypto"),e1=A(_A()),t1=require("os"),Fe=A(require("path"));var ts=A(require("fs")),JM=A(require("util"));async function Pc({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function rI(t,e,r){try{await t.copyFile(e,r)}catch(n){try{if(await Pc(t,r))await t.unlink(r),await t.copyFile(e,r);else throw n}catch{throw n}}}async function xn({stat:t},e){if(e)try{return await t(e)}catch{return}}async function YM({lstat:t},e){if(e)try{return await t(e)}catch{return}}async function QM({copyFile:t,rename:e,unlink:r},n,i){try{await e(n,i)}catch{await t(n,i),await r(n)}}function hy(t){return new Promise(e=>{ts.readFile(t,"utf8",async(r,n)=>{e(r?"":n)})})}var SSe=JM.promisify(ts.writeFile);var Fr=Symbol("FsUtils"),wn=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,ts.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},tI=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},fy=class{constructor(e,r,n){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=n}static create(e,r,n){let i=new wn(r);return e!==void 0?new this(e.toLowerCase(),i,new tI(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var Qre=process.platform==="win32"?"\\\\.\\pipe\\":(0,t1.tmpdir)(),Zre=0,my=()=>Fe.join(Qre,`node-cdp.${process.pid}-${(0,ZM.randomBytes)(4).toString("hex")}-${Zre++}.sock`);async function gy(t,e,r){let n;if(process.platform==="win32"){let i=r.WINDIR||"C:\\Windows";n=Fe.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await xn(t,n)){let o=(await(0,e1.default)(n,[e],{env:il(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let s=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of o){let c=Fe.extname(a).toUpperCase();if(c&&s.includes(c))return a}}else if(o.length>0)return o[0];return}return e}catch{}}async function r1(t,e,r){if(e){if(process.platform==="win32"&&!Fe.extname(e)){let n=r.lookup("PATHEXT");if(n){let i=n.split(";");for(let o of i){let s=e+o;if(await xn(t,s))return s}}}if(await xn(t,e))return e}}var n1=t=>t.includes(`.asar${Fe.sep}`);function Qs(...t){return Fe.posix.isAbsolute(t[0])?Ye(Fe.posix.join(...t)):Fe.win32.isAbsolute(t[0])?Fe.win32.join(...t):Fe.join(...t)}function _n(...t){return Fe.posix.isAbsolute(t[0])?Fe.posix.resolve(...t):Fe.win32.isAbsolute(t[0])?Fe.win32.resolve(...t):Fe.resolve(...t)}function oh(t,e){return Fe.posix.isAbsolute(t)?Fe.posix.relative(t,e):Fe.win32.isAbsolute(t)?Fe.win32.relative(t,e):Fe.relative(t,e)}var ene=/\/|\\/,ih="file:///",i1=t=>t.startsWith(ih)&&t[ih.length+1]===":",nI=t=>t.split(ene);function iI(t,e=!1){if(!t)return t;if(i1(t)){let r=ih.length;t=ih+t[r].toLowerCase()+t.substr(r+1)}else vy(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function $t(t,e=!1){if(!t)return t;if(t=iI(t,e),i1(t)){let r=ih.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else vy(t)&&(t=t.replace(/\//g,"\\"));return t}function Ye(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var Hy=(t,e)=>{let r=Fe.relative(t,e);return r.length&&!Fe.isAbsolute(r)&&!r.startsWith("..")},yy=(t,e)=>{let r=Fe.relative(t,e);return!Fe.isAbsolute(r)&&!r.startsWith("..")},oI=t=>t.startsWith("\\\\"),vy=t=>/^[A-Za-z]:/.test(t)||oI(t);var vl=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:n}=this.patterns[e];if(r)continue;let i=sh.resolve(this.rootPath,n).split(/[\\/]/g),o=i.findIndex(c=>c.includes("*"));if(o===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let s=i.slice(0,o).join("/"),a=[];for(let c=e+1;c<this.patterns.length;c++){let{negated:u,pattern:l}=this.patterns[c];if(u)if(l.startsWith("**"))a.push(Ye(l));else{let p=sh.relative(s,sh.resolve(this.rootPath,l));p.startsWith("..")||a.push(Ye(p))}}yield{cwd:s,negations:a,pattern:i.slice(o).join("/")}}}};vl=D([(0,Tc.injectable)()],vl);var lo=class extends vl{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};lo=D([(0,Tc.injectable)(),b(0,(0,Tc.inject)(Re))],lo);var rs=class extends vl{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};rs=D([(0,Tc.injectable)(),b(0,(0,Tc.inject)(Re))],rs);var s1=require("crypto"),a1=require("os"),c1=A(require("path"));var ah=require("fs"),o1=require("path"),wy=require("zlib"),rne=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,by=class{constructor(e,r){this.file=e;this.dap=r;try{(0,ah.mkdirSync)((0,o1.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,wy.createGzip)(),this.stream.pipe((0,ah.createWriteStream)(e))):this.stream=(0,ah.createWriteStream)(e)}async setup(){this.dap?.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){this.stream&&(this.stream.write(JSON.stringify(e,rne)+`
`),this.stream.flush?.(wy.constants.Z_SYNC_FLUSH))}};var nne={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},OSe=Object.keys(nne),ce=Symbol("ILogger");function sI(t,e=(0,a1.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:c1.join(e,`vscode-debugadapter-${(0,s1.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function u1(t,e){let r=sI(e),n={sinks:[]};return r.logFile&&n.sinks.push(new by(r.logFile,t)),n}var d1=",".charCodeAt(0),ine=";".charCodeAt(0),l1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f1=new Uint8Array(64),h1=new Uint8Array(128);for(let t=0;t<l1.length;t++){let e=l1.charCodeAt(t);f1[t]=e,h1[e]=t}var aI=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString()}}:{decode(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}};function m1(t){let e=new Int32Array(5),r=[],n=0;do{let i=one(t,n),o=[],s=!0,a=0;e[0]=0;for(let c=n;c<i;c++){let u;c=ch(t,c,e,0);let l=e[0];l<a&&(s=!1),a=l,p1(t,c,i)?(c=ch(t,c,e,1),c=ch(t,c,e,2),c=ch(t,c,e,3),p1(t,c,i)?(c=ch(t,c,e,4),u=[l,e[1],e[2],e[3],e[4]]):u=[l,e[1],e[2],e[3]]):u=[l],o.push(u)}s||sne(o),r.push(o),n=i+1}while(n<=t.length);return r}function one(t,e){let r=t.indexOf(";",e);return r===-1?t.length:r}function ch(t,e,r,n){let i=0,o=0,s=0;do{let c=t.charCodeAt(e++);s=h1[c],i|=(s&31)<<o,o+=5}while(s&32);let a=i&1;return i>>>=1,a&&(i=-2147483648|-i),r[n]+=i,e}function p1(t,e,r){return e>=r?!1:t.charCodeAt(e)!==d1}function sne(t){t.sort(ane)}function ane(t,e){return t[0]-e[0]}function xy(t){let e=new Int32Array(5),r=1024*16,n=r-36,i=new Uint8Array(r),o=i.subarray(0,n),s=0,a="";for(let c=0;c<t.length;c++){let u=t[c];if(c>0&&(s===r&&(a+=aI.decode(i),s=0),i[s++]=ine),u.length!==0){e[0]=0;for(let l=0;l<u.length;l++){let p=u[l];s>n&&(a+=aI.decode(o),i.copyWithin(0,n,s),s-=n),l>0&&(i[s++]=d1),s=uh(i,s,e,p,0),p.length!==1&&(s=uh(i,s,e,p,1),s=uh(i,s,e,p,2),s=uh(i,s,e,p,3),p.length!==4&&(s=uh(i,s,e,p,4)))}}}return a+aI.decode(i.subarray(0,s))}function uh(t,e,r,n,i){let o=n[i],s=o-r[i];r[i]=o,s=s<0?-s<<1|1:s<<1;do{let a=s&31;s>>>=5,s>0&&(a|=32),t[e++]=f1[a]}while(s>0);return e}var cne=/^[\w+.-]+:\/\//,une=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,lne=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i,kt;(function(t){t[t.Empty=1]="Empty",t[t.Hash=2]="Hash",t[t.Query=3]="Query",t[t.RelativePath=4]="RelativePath",t[t.AbsolutePath=5]="AbsolutePath",t[t.SchemeRelative=6]="SchemeRelative",t[t.Absolute=7]="Absolute"})(kt||(kt={}));function pne(t){return cne.test(t)}function dne(t){return t.startsWith("//")}function y1(t){return t.startsWith("/")}function fne(t){return t.startsWith("file:")}function g1(t){return/^[.?#]/.test(t)}function _y(t){let e=une.exec(t);return v1(e[1],e[2]||"",e[3],e[4]||"",e[5]||"/",e[6]||"",e[7]||"")}function hne(t){let e=lne.exec(t),r=e[2];return v1("file:","",e[1]||"","",y1(r)?r:"/"+r,e[3]||"",e[4]||"")}function v1(t,e,r,n,i,o,s){return{scheme:t,user:e,host:r,port:n,path:i,query:o,hash:s,type:kt.Absolute}}function H1(t){if(dne(t)){let r=_y("http:"+t);return r.scheme="",r.type=kt.SchemeRelative,r}if(y1(t)){let r=_y("http://foo.com"+t);return r.scheme="",r.host="",r.type=kt.AbsolutePath,r}if(fne(t))return hne(t);if(pne(t))return _y(t);let e=_y("http://foo.com/"+t);return e.scheme="",e.host="",e.type=t?t.startsWith("?")?kt.Query:t.startsWith("#")?kt.Hash:kt.RelativePath:kt.Empty,e}function mne(t){if(t.endsWith("/.."))return t;let e=t.lastIndexOf("/");return t.slice(0,e+1)}function gne(t,e){b1(e,e.type),t.path==="/"?t.path=e.path:t.path=mne(e.path)+t.path}function b1(t,e){let r=e<=kt.RelativePath,n=t.path.split("/"),i=1,o=0,s=!1;for(let c=1;c<n.length;c++){let u=n[c];if(!u){s=!0;continue}if(s=!1,u!=="."){if(u===".."){o?(s=!0,o--,i--):r&&(n[i++]=u);continue}n[i++]=u,o++}}let a="";for(let c=1;c<i;c++)a+="/"+n[c];(!a||s&&!a.endsWith("/.."))&&(a+="/"),t.path=a}function w1(t,e){if(!t&&!e)return"";let r=H1(t),n=r.type;if(e&&n!==kt.Absolute){let o=H1(e),s=o.type;switch(n){case kt.Empty:r.hash=o.hash;case kt.Hash:r.query=o.query;case kt.Query:case kt.RelativePath:gne(r,o);case kt.AbsolutePath:r.user=o.user,r.host=o.host,r.port=o.port;case kt.SchemeRelative:r.scheme=o.scheme}s>n&&(n=s)}b1(r,n);let i=r.query+r.hash;switch(n){case kt.Hash:case kt.Query:return i;case kt.RelativePath:{let o=r.path.slice(1);return o?g1(e||t)&&!g1(o)?"./"+o+i:o+i:i||"."}case kt.AbsolutePath:return r.path+i;default:return r.scheme+"//"+r.user+r.host+r.port+r.path+i}}function x1(t,e){return e&&!e.endsWith("/")&&(e+="/"),w1(t,e)}function Hne(t){if(!t)return"";let e=t.lastIndexOf("/");return t.slice(0,e+1)}var _i=0,lI=1,pI=2,dI=3,E1=4,D1=1,C1=2;function yne(t,e){let r=_1(t,0);if(r===t.length)return t;e||(t=t.slice());for(let n=r;n<t.length;n=_1(t,n+1))t[n]=bne(t[n],e);return t}function _1(t,e){for(let r=e;r<t.length;r++)if(!vne(t[r]))return r;return t.length}function vne(t){for(let e=1;e<t.length;e++)if(t[e][_i]<t[e-1][_i])return!1;return!0}function bne(t,e){return e||(t=t.slice()),t.sort(wne)}function wne(t,e){return t[_i]-e[_i]}var Lc=!1;function xne(t,e,r,n){for(;r<=n;){let i=r+(n-r>>1),o=t[i][_i]-e;if(o===0)return Lc=!0,i;o<0?r=i+1:n=i-1}return Lc=!1,r-1}function fI(t,e,r){for(let n=r+1;n<t.length&&t[n][_i]===e;r=n++);return r}function P1(t,e,r){for(let n=r-1;n>=0&&t[n][_i]===e;r=n--);return r}function T1(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function L1(t,e,r,n){let{lastKey:i,lastNeedle:o,lastIndex:s}=r,a=0,c=t.length-1;if(n===i){if(e===o)return Lc=s!==-1&&t[s][_i]===e,s;e>=o?a=s===-1?0:s:c=s}return r.lastKey=n,r.lastNeedle=e,r.lastIndex=xne(t,e,a,c)}function _ne(t,e){let r=e.map(Ine);for(let n=0;n<t.length;n++){let i=t[n];for(let o=0;o<i.length;o++){let s=i[o];if(s.length===1)continue;let a=s[lI],c=s[pI],u=s[dI],l=r[a],p=l[c]||(l[c]=[]),d=e[a],m=fI(p,u,L1(p,u,d,c));Ane(p,d.lastIndex=m+1,[u,n,s[_i]])}}return r}function Ane(t,e,r){for(let n=t.length;n>e;n--)t[n]=t[n-1];t[e]=r}function Ine(){return{__proto__:null}}var Sy=function(t,e){let r=typeof t=="string"?JSON.parse(t):t;if(!("sections"in r))return new $c(r,e);let n=[],i=[],o=[],s=[];$1(r,e,n,i,o,s,0,0,1/0,1/0);let a={version:3,file:r.file,names:s,sources:i,sourcesContent:o,mappings:n};return k1(a)};function $1(t,e,r,n,i,o,s,a,c,u){let{sections:l}=t;for(let p=0;p<l.length;p++){let{map:d,offset:m}=l[p],f=c,g=u;if(p+1<l.length){let y=l[p+1].offset;f=Math.min(c,s+y.line),f===c?g=Math.min(u,a+y.column):f<c&&(g=a+y.column)}Sne(d,e,r,n,i,o,s+m.line,a+m.column,f,g)}}function Sne(t,e,r,n,i,o,s,a,c,u){if("sections"in t)return $1(...arguments);let l=new $c(t,e),p=n.length,d=o.length,m=ns(l),{resolvedSources:f,sourcesContent:g}=l;if(cI(n,f),cI(o,l.names),g)cI(i,g);else for(let y=0;y<f.length;y++)i.push(null);for(let y=0;y<m.length;y++){let x=s+y;if(x>c)return;let E=Ene(r,x),$=y===0?a:0,L=m[y];for(let R=0;R<L.length;R++){let X=L[R],z=$+X[_i];if(x===c&&z>=u)return;if(X.length===1){E.push([z]);continue}let F=p+X[lI],M=X[pI],O=X[dI];E.push(X.length===4?[z,F,M,O]:[z,F,M,O,d+X[E1]])}}}function cI(t,e){for(let r=0;r<e.length;r++)t.push(e[r])}function Ene(t,e){for(let r=t.length;r<=e;r++)t[r]=[];return t[e]}var A1="`line` must be greater than 0 (lines start at line 1)",I1="`column` must be greater than or equal to 0 (columns start at column 0)",bl=-1,Zs=1,S1,ns,Dne,hI,mI,gI,HI,Cne,k1,Pne,Tne,$c=class{constructor(e,r){let n=typeof e=="string";if(!n&&e._decodedMemo)return e;let i=n?JSON.parse(e):e,{version:o,file:s,names:a,sourceRoot:c,sources:u,sourcesContent:l}=i;this.version=o,this.file=s,this.names=a||[],this.sourceRoot=c,this.sources=u,this.sourcesContent=l;let p=x1(c||"",Hne(r));this.resolvedSources=u.map(m=>x1(m||"",p));let{mappings:d}=i;typeof d=="string"?(this._encoded=d,this._decoded=void 0):(this._encoded=void 0,this._decoded=yne(d,n)),this._decodedMemo=T1(),this._bySources=void 0,this._bySourceMemos=void 0}};(()=>{S1=e=>{var r;return(r=e._encoded)!==null&&r!==void 0?r:e._encoded=xy(e._decoded)},ns=e=>e._decoded||(e._decoded=m1(e._encoded)),Dne=(e,r,n)=>{let i=ns(e);if(r>=i.length)return null;let o=i[r],s=Iy(o,e._decodedMemo,r,n,Zs);return s===-1?null:o[s]},hI=(e,{line:r,column:n,bias:i})=>{if(r--,r<0)throw new Error(A1);if(n<0)throw new Error(I1);let o=ns(e);if(r>=o.length)return Ay(null,null,null,null);let s=o[r],a=Iy(s,e._decodedMemo,r,n,i||Zs);if(a===-1)return Ay(null,null,null,null);let c=s[a];if(c.length===1)return Ay(null,null,null,null);let{names:u,resolvedSources:l}=e;return Ay(l[c[lI]],c[pI]+1,c[dI],c.length===5?u[c[E1]]:null)},gI=(e,{source:r,line:n,column:i,bias:o})=>t(e,r,n,i,o||bl,!0),mI=(e,{source:r,line:n,column:i,bias:o})=>t(e,r,n,i,o||Zs,!1),HI=(e,r)=>{let n=ns(e),{names:i,resolvedSources:o}=e;for(let s=0;s<n.length;s++){let a=n[s];for(let c=0;c<a.length;c++){let u=a[c],l=s+1,p=u[0],d=null,m=null,f=null,g=null;u.length!==1&&(d=o[u[1]],m=u[2]+1,f=u[3]),u.length===5&&(g=i[u[4]]),r({generatedLine:l,generatedColumn:p,source:d,originalLine:m,originalColumn:f,name:g})}}},Cne=(e,r)=>{let{sources:n,resolvedSources:i,sourcesContent:o}=e;if(o==null)return null;let s=n.indexOf(r);return s===-1&&(s=i.indexOf(r)),s===-1?null:o[s]},k1=(e,r)=>{let n=new $c(uI(e,[]),r);return n._decoded=e.mappings,n},Pne=e=>uI(e,ns(e)),Tne=e=>uI(e,S1(e));function t(e,r,n,i,o,s){if(n--,n<0)throw new Error(A1);if(i<0)throw new Error(I1);let{sources:a,resolvedSources:c}=e,u=a.indexOf(r);if(u===-1&&(u=c.indexOf(r)),u===-1)return s?[]:lh(null,null);let p=(e._bySources||(e._bySources=_ne(ns(e),e._bySourceMemos=a.map(T1))))[u][n];if(p==null)return s?[]:lh(null,null);let d=e._bySourceMemos[u];if(s)return Lne(p,d,n,i,o);let m=Iy(p,d,n,i,o);if(m===-1)return lh(null,null);let f=p[m];return lh(f[D1]+1,f[C1])}})();function uI(t,e){return{version:t.version,file:t.file,names:t.names,sourceRoot:t.sourceRoot,sources:t.sources,sourcesContent:t.sourcesContent,mappings:e}}function Ay(t,e,r,n){return{source:t,line:e,column:r,name:n}}function lh(t,e){return{line:t,column:e}}function Iy(t,e,r,n,i){let o=L1(t,n,e,r);return Lc?o=(i===bl?fI:P1)(t,n,o):i===bl&&o++,o===-1||o===t.length?-1:o}function Lne(t,e,r,n,i){let o=Iy(t,e,r,n,Zs);if(!Lc&&i===bl&&o++,o===-1||o===t.length)return[];let s=Lc?n:t[o][_i];Lc||(o=P1(t,s,o));let a=fI(t,s,o),c=[];for(;o<=a;o++){let u=t[o];c.push(lh(u[D1]+1,u[C1]))}return c}var go=A(Z());var Ey=class extends Error{constructor(r,n,i){super(`Unexpected ${r} response from ${n}: ${i??"<empty body>"}`);this.statusCode=r;this.url=n;this.body=i}},kc=Symbol("IResourceProvider");var De=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),R1=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function po(t){return new Promise((e,r)=>{let n=t.length;for(let i of t)i.then(o=>{o?(e(o),n=-1):--n===0&&e(void 0)}).catch(r)})}function qe(){let t=null,e=null,r=!1,n,i=new Promise((o,s)=>{t=a=>{r=!0,n=a,o(a)},e=a=>{r=!0,s(a)}});return{resolve:t,reject:e,promise:i,get settledValue(){return n},hasSettled:()=>r}}var ut=A(we());var re=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function M1(t,e){t.output({category:"console",output:e+`
`})}function Qe(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function et(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var yI=()=>et(ut.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),O1=()=>et(ut.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),F1=()=>et(ut.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),vI=(t,e)=>et(ut.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),B1=t=>et(ut.t("Cannot launch debug target in terminal ({0}).",t),9227),N1=t=>et(ut.t("Can't load environment variables from file ({0}).",t),9228),j1=t=>et(ut.t("The configured `cwd` {0} does not exist.",t),9245),bI=(t,e)=>et(ut.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),U1=(t,e)=>et(ut.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),wI=t=>et(ut.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),wl=()=>et(ut.t("An error occurred taking a profile from the target."),9235),q1=()=>et(ut.t("Please stop the running profile before starting a new one."),9236),W1=t=>Qe(t,9238),Dy=(t,e,r)=>et(e==="*"&&!r.length?ut.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):ut.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),xI=t=>et(ut.t('Unable to launch browser: "{0}"',t.message),9240),ph=t=>et(t??ut.t("Unable to attach to browser"),9242),Cy=()=>et(ut.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var V1=()=>Qe(ut.t("Variables not available in async stacks"),9234),ea=(t,e)=>et(ut.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),_I=()=>Qe(ut.t("Thread not found"),9244),Py=(t,e)=>et(ut.t("Could not read source map for {0}: {1}",t,e)),G1=()=>et(ut.t("UWP webview debugging is not available on your platform.")),z1=()=>et(ut.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),K1=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,X1=(t,e)=>t instanceof re&&t.cause.id===e,J1=t=>et(ut.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var Y1=new WeakSet;var $ne="Request",kne=t=>t.endsWith("Request"),nn=Symbol("IDapApi"),_l=Symbol("IRootDapApi"),xl=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=qe();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(n=>this._onMessage(n.message,n.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(n,i)=>(this._requestHandlers.set(n,i),()=>this._requestHandlers.delete(n)):r==="off"?n=>this._requestHandlers.delete(n):n=>{if(kne(r))return this.enqueueRequest(r.slice(0,-$ne.length),n);this._send({seq:0,type:"event",event:r,body:n})}}})}createTestApi(){let e=(i,o)=>{let s=this._eventListeners.get(i);s||(s=new Set,this._eventListeners.set(i,s)),s.add(o)},r=(i,o)=>{let s=this._eventListeners.get(i);s&&s.delete(o)},n=(i,o)=>new Promise(s=>{let a=c=>{o&&!o(c)||(r(i,a),s(c))};e(i,a)});return new Proxy({},{get:(i,o)=>o==="on"?e:o==="off"?r:o==="once"?n:s=>this.enqueueRequest(o,s)})}enqueueRequest(e,r){return new Promise(n=>{let i={seq:0,type:"request",command:e,arguments:r||{}};this._send(i),this._pendingRequests.set(i.seq,n)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r?.();else{e.seq=this._sequence++;let n=e.type!=="event"||!Y1.has(e.body);this.transport.send(e,n,r)}}async _onMessage(e,r){if(e.type==="request"){let n={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let i=this._requestHandlers.get(e.command);if(!i)console.error(`Unknown request: ${e.command}`);else{let o=await i(e.arguments);if(K1(o))this._send({...n,success:!1,message:o.error.format,body:{error:o.error}});else{let s={...n,body:o};n.command==="initialize"?(this._send(s),this._initialized.resolve(this)):n.command==="disconnect"?this._send({...n,body:o},()=>{this.stop()}):this._send(s)}}this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(i){i instanceof re?this._send({...n,success:!1,body:{error:i.cause}}):(console.error(i),this._send({...n,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${i.stack||i.message}`,showUser:!1,sendTelemetry:!1}}})),this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms,i)}}if(e.type==="event"){let n=this._eventListeners.get(e.event)||new Set;for(let i of n)i(e.body)}if(e.type==="response"){let n=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(n,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)n(e.body);else{let i=e.body?.error?.format;n(i||e.message||"Unknown error")}}}};var Ly=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},fo=class{constructor(e,r){this.projection=e;this.initialContents=r;let n=Array.from(r||[]).map(i=>[this.projection(i[0]),new Ly(i[0],i[1])]);this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(n=>{e.call(r,n.value,n.key,this)},r)}get(e){let r=this.projection(e),n=this.projectionToKeyAndValue.get(r);return n?n.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Ly(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var nt=Symbol("ISourcePathResolver");var kO=require("dns"),An=A(require("path")),os=require("url");var DO=require("url");var IO=require("./vendor/acorn.js"),SO=require("crypto");var Q1,Al,Rne,dh=class{constructor(){this._indexes={__proto__:null},this.array=[]}};Q1=(t,e)=>t._indexes[e],Al=(t,e)=>{let r=Q1(t,e);if(r!==void 0)return r;let{array:n,_indexes:i}=t;return i[e]=n.push(e)-1},Rne=t=>{let{array:e,_indexes:r}=t;if(e.length===0)return;let n=e.pop();r[n]=void 0};var rO=0,nO=1,iO=2,oO=3,sO=4,aO=-1,AI,Mne,One,Fne,II,$y,Bne,Nne,jne,fh,hh=class{constructor({file:e,sourceRoot:r}={}){this._names=new dh,this._sources=new dh,this._sourcesContent=[],this._mappings=[],this.file=e,this.sourceRoot=r}};AI=(t,e,r,n,i,o,s,a)=>fh(!1,t,e,r,n,i,o,s,a),One=(t,e,r,n,i,o,s,a)=>fh(!0,t,e,r,n,i,o,s,a),Mne=(t,e)=>tO(!1,t,e),Fne=(t,e)=>tO(!0,t,e),II=(t,e,r)=>{let{_sources:n,_sourcesContent:i}=t;i[Al(n,e)]=r},$y=t=>{let{file:e,sourceRoot:r,_mappings:n,_sources:i,_sourcesContent:o,_names:s}=t;return Wne(n),{version:3,file:e||void 0,names:s.array,sourceRoot:r||void 0,sources:i.array,sourcesContent:o,mappings:n}},Bne=t=>{let e=$y(t);return Object.assign(Object.assign({},e),{mappings:xy(e.mappings)})},jne=t=>{let e=[],{_mappings:r,_sources:n,_names:i}=t;for(let o=0;o<r.length;o++){let s=r[o];for(let a=0;a<s.length;a++){let c=s[a],u={line:o+1,column:c[rO]},l,p,d;c.length!==1&&(l=n.array[c[nO]],p={line:c[iO]+1,column:c[oO]},c.length===5&&(d=i.array[c[sO]])),e.push({generated:u,source:l,original:p,name:d})}}return e},Nne=t=>{let e=new $c(t),r=new hh({file:e.file,sourceRoot:e.sourceRoot});return eO(r._names,e.names),eO(r._sources,e.sources),r._sourcesContent=e.sourcesContent||e.sources.map(()=>null),r._mappings=ns(e),r},fh=(t,e,r,n,i,o,s,a,c)=>{let{_mappings:u,_sources:l,_sourcesContent:p,_names:d}=e,m=Une(u,r),f=qne(m,n);if(!i)return t&&Vne(m,f)?void 0:Z1(m,f,[n]);let g=Al(l,i),y=a?Al(d,a):aO;if(g===p.length&&(p[g]=c??null),!(t&&Gne(m,f,g,o,s,y)))return Z1(m,f,a?[n,g,o,s,y]:[n,g,o,s])};function Une(t,e){for(let r=t.length;r<=e;r++)t[r]=[];return t[e]}function qne(t,e){let r=t.length;for(let n=r-1;n>=0;r=n--){let i=t[n];if(e>=i[rO])break}return r}function Z1(t,e,r){for(let n=t.length;n>e;n--)t[n]=t[n-1];t[e]=r}function Wne(t){let{length:e}=t,r=e;for(let n=r-1;n>=0&&!(t[n].length>0);r=n,n--);r<e&&(t.length=r)}function eO(t,e){for(let r=0;r<e.length;r++)Al(t,e[r])}function Vne(t,e){return e===0?!0:t[e-1].length===1}function Gne(t,e,r,n,i,o){if(e===0)return!1;let s=t[e-1];return s.length===1?!1:r===s[nO]&&n===s[iO]&&i===s[oO]&&o===(s.length===5?s[sO]:aO)}function tO(t,e,r){let{generated:n,source:i,original:o,name:s,content:a}=r;if(!i)return fh(t,e,n.line-1,n.column,null,null,null,null,null);let c=i;return fh(t,e,n.line-1,n.column,c,o.line-1,o.column,s,a)}var Uy=require("./vendor/acorn.js");var{stringify:Kne}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var ky={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Ai=17,Xne={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Ai,ClassExpression:Ai,FunctionExpression:Ai,ObjectExpression:Ai,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Il(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:n}=e;for(let i=1;i<n;i++){let o=e[i];t.write(", "),r[o.type](o,t)}}t.write(")")}function hO(t,e,r,n){let i=t.expressionsPrecedence[e.type];if(i===Ai)return!0;let o=t.expressionsPrecedence[r.type];return i!==o?!n&&i===15&&o===14&&r.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&r.operator==="**"?!n:i===13&&o===13&&(e.operator==="??"||r.operator==="??")?!0:n?ky[e.operator]<=ky[r.operator]:ky[e.operator]<ky[r.operator]}function Ry(t,e,r,n){let{generator:i}=t;hO(t,e,r,n)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function Jne(t,e,r,n){let i=e.split(`
`),o=i.length-1;if(t.write(i[0].trim()),o>0){t.write(n);for(let s=1;s<o;s++)t.write(r+i[s].trim()+n);t.write(r+i[o].trim())}}function Kr(t,e,r,n){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];t.write(r),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),Jne(t,s.value,r,n),t.write("*/"+n))}}function Yne(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function SI(t,e){let{generator:r}=t,{declarations:n}=e;t.write(e.kind+" ");let{length:i}=n;if(i>0){r.VariableDeclarator(n[0],t);for(let o=1;o<i;o++)t.write(", "),r.VariableDeclarator(n[o],t)}}var cO,uO,lO,pO,dO,fO,Qne={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:n,writeComments:i}=e;i&&t.comments!=null&&Kr(e,t.comments,r,n);let o=t.body,{length:s}=o;for(let a=0;a<s;a++){let c=o[a];i&&c.comments!=null&&Kr(e,c.comments,r,n),e.write(r),this[c.type](c,e),e.write(n)}i&&t.trailingComments!=null&&Kr(e,t.trailingComments,r,n)},BlockStatement:fO=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;e.write("{");let s=t.body;if(s!=null&&s.length>0){e.write(n),i&&t.comments!=null&&Kr(e,t.comments,o,n);let{length:a}=s;for(let c=0;c<a;c++){let u=s[c];i&&u.comments!=null&&Kr(e,u.comments,o,n),e.write(o),this[u.type](u,e),e.write(n)}e.write(r)}else i&&t.comments!=null&&(e.write(n),Kr(e,t.comments,o,n),e.write(r));i&&t.trailingComments!=null&&Kr(e,t.trailingComments,o,n),e.write("}"),e.indentLevel--},ClassBody:fO,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Ai||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e;e.indentLevel++;let o=r+e.indent,s=o+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+n);let{cases:a}=t,{length:c}=a;for(let u=0;u<c;u++){let l=a[u];i&&l.comments!=null&&Kr(e,l.comments,o,n),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+n)):e.write(o+"default:"+n);let{consequent:p}=l,{length:d}=p;for(let m=0;m<d;m++){let f=p[m];i&&f.comments!=null&&Kr(e,f.comments,s,n),e.write(s),this[f.type](f,e),e.write(n)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?SI(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:cO=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?SI(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:cO,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:uO=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Il(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:uO,VariableDeclaration(t,e){SI(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:n}=r,i=e.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(i===Ai||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:n}=r,i=0;if(n>0){for(;i<n;){i>0&&e.write(", ");let o=r[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<n){for(e.write("{");;){let o=r[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<n)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:n}=r;if(n>0)for(let i=0;;){let o=r[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<n)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Il(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):Il(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:lO=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:lO,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Ry(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:n}=t;e.write("`");let{length:i}=n;for(let s=0;s<i;s++){let a=n[s],c=r[s];e.write(c.value.raw,c),e.write("${"),this[a.type](a,e),e.write("}")}let o=r[r.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Ry(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:dO=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:n}=r;for(let i=0;;){let o=r[i];if(o!=null&&this[o.type](o,e),++i<n)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:dO,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(n),i&&t.comments!=null&&Kr(e,t.comments,o,n);let s=","+n,{properties:a}=t,{length:c}=a;for(let u=0;;){let l=a[u];if(i&&l.comments!=null&&Kr(e,l.comments,o,n),e.write(o),this[l.type](l,e),++u<c)e.write(s);else break}e.write(n),i&&t.trailingComments!=null&&Kr(e,t.trailingComments,o,n),e.write(r+"}")}else i?t.comments!=null?(e.write(n),Kr(e,t.comments,o,n),t.trailingComments!=null&&Kr(e,t.trailingComments,o,n),e.write(r+"}")):t.trailingComments!=null?(e.write(n),Kr(e,t.trailingComments,o,n),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:n}=r;for(let i=0;this[r[i].type](r[i],e),++i<n;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Il(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:n,argument:{type:i}}=t;e.write(r);let o=hO(e,n,t);!o&&(r.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&n.prefix&&n.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),o?(e.write(r.length>1?" (":"("),this[i](n,e),e.write(")")):this[i](n,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:pO=function(t,e){let r=t.operator==="in";r&&e.write("("),Ry(e,t.left,t,!1),e.write(" "+t.operator+" "),Ry(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:pO,ConditionalExpression(t,e){let{test:r}=t,n=e.expressionsPrecedence[r.type];n===Ai||n<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Ai||r<e.expressionsPrecedence.CallExpression||Yne(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Il(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Ai||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Il(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Ai||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(Kne(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},Zne={};var EI=class{constructor(e){let r=e??Zne;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:Qne,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:Xne,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:o}=r;if(o[0]==="L"&&o[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:s}=this;s.original=r.loc.start,s.name=r.name,this.sourceMap.addMapping(s)}if(o[0]==="T"&&o[8]==="E"||o[0]==="L"&&o[1]==="i"&&typeof r.value=="string"){let{length:s}=e,{column:a,line:c}=this;for(let u=0;u<s;u++)e[u]===`
`?(a=0,c++):a++;this.column=a,this.line=c;return}}let{length:n}=e,{lineEnd:i}=this;n>0&&(this.lineEndSize>0&&(i.length===1?e[n-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}};function is(t,e){let r=new EI(e);return r.generator[t.type](t,r),r.output}var mO=require("./vendor/acorn.js"),Fy=require("./vendor/acorn-loose.js");var My={ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],AwaitExpression:["argument"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXClosingFragment:[],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXFragment:["openingFragment","children","closingFragment"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXOpeningFragment:[],JSXSpreadAttribute:["argument"],JSXSpreadChild:["expression"],JSXText:[],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},eie=Object.keys(My);for(let t of eie)Object.freeze(My[t]);Object.freeze(My);var DI=My;var CI={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},ta=t=>t.start,PI=t=>t.end,gO=(t,e)=>t.slice(ta(e),PI(e)),ho=(t,e=!1)=>(e?mO.parse:Fy.parse)(t,CI),By=t=>{let e=ho(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&(0,Fy.isDummy)(r.id)&&(r.id=null);return e.body};function HO(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?bO(t,e,!0,r):yO(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(n=>({type:"Identifier",name:n}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var yO=(t,e,r,n)=>{let i={type:"Identifier",name:"e"},s=n?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:s}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:s}}},rie=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),vO=(t,e,r)=>rie(t,bO(t,e,r,!0));function bO(t,e,r,n){let i=e[e.length-1];if(i.type!=="ReturnStatement"){let o=nie(i);o&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:o}])}return yO(t,e,r,n)}function nie(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var ra=(t,e)=>{Oy(t,e)},Ny=(t,e)=>{let r=Oy(t,e);return r&&typeof r=="object"?r.replace:t},Oy=(t,e,r)=>{if(!t)return;let n=e.enter(t,r);if(n===0)return 0;if(n&&typeof n=="object")return n;if(n===1)return;let i=DI[t.type];if(i)for(let o of i){let s=t[o];if(s instanceof Array)for(let[a,c]of s.entries()){let u=Oy(c,e,t);if(u===0)return 0;u&&typeof u=="object"&&(s[a]=u.replace)}else if(s){let a=Oy(s,e,t);if(a===0)return 0;a&&typeof a=="object"&&(t[o]=a.replace)}}e.leave?.(t)};var Sl=class t{constructor(e,r,n,i,o){this.original=e;this.metadata=r;this.actualRoot=n;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=t.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++){let a=i[s],c=e.sources[s];a!==null&&c!==null&&(this.sourceActualToOriginal.set(a,c),this.sourceOriginalToActual.set(c,a))}}static{this.idCounter=0}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return $t(jy(br(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}originalPositionFor(e){let r=hI(this.original,e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return mI(this.original,{...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return gI(this.original,{...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}sourceContentFor(e){e=this.sourceActualToOriginal.get(e)??e;let r=this.original.sources.indexOf(e);return r===-1?null:this.original.sourcesContent?.[r]??null}eachMapping(e){HI(this.original,e)}};async function xO(t,e,r,n){let i=Uy.Parser.parse(e,{locations:!0,ecmaVersion:"latest"}),o=new hh({file:t}),s=is(i,{sourceMap:{addMapping:a=>AI(o,a.original.line-1,a.original.column,t,a.generated.line-1,a.generated.column)}});return II(o,t,s),new Sl(new Sy($y(o)),{sourceMapUrl:n,compiledPath:r},"",[t],!1)}function _O(t){let e;try{e=ho(t)}catch{return}let r=(c,u)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:c,right:u}}),n=!1,i=!1,o=Ny(e,{enter(c,u){switch(c.type){case"ClassDeclaration":return{replace:r(c.id||{type:"Identifier",name:"_default"},{...c,type:"ClassExpression"})};case"FunctionDeclaration":return{replace:r(c.id||{type:"Identifier",name:"_default"},{...c,type:"FunctionExpression"})};case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return 1;case"AwaitExpression":n=!0;return;case"ForOfStatement":c.await&&(n=!0);return;case"ReturnStatement":i=!0;return;case"VariableDeclaration":if(!u||!("body"in u)||!(u.body instanceof Array))return;let l=u.body,p=c.declarations.map(d=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:d.id,right:d.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(c),1,...p)}}});if(!n||i)return;let s=e.body[e.body.length-1];s.type==="ExpressionStatement"&&(e.body[e.body.length-1]={type:"ReturnStatement",argument:s.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:o.body}},arguments:[],optional:!1}};return is(a)}function mh(t){try{let e=(0,Uy.parseExpressionAt)(t,0,CI);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function El(t){if(!t)return;let e="sourceMappingURL",r=t.length,n=e.length,i=r,o=0;for(;;){if(i=t.lastIndexOf(e,i),i===-1||i<4)return;if(i-=4,t[i]==="/"&&t[i+1]==="/"&&!(t[i+2]!=="#"&&t[i+2]!=="@")&&!(t[i+3]!==" "&&t[i+3]!=="	")&&(o=i+4+n,!(o<r&&t[o]!=="=")))break}let s=t.substring(o+1),a=s.indexOf(`
`);return a!==-1&&(s=s.substring(0,a)),s.trim()}function qy(t,e,r){let n=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:Zs}),i=a=>{if(a.line===null||a.column===null)return 1e11;let c=r.originalPositionFor(a);return c.line!==null?Math.abs(e.lineNumber-c.line):1e11},o=i(n),s=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,c)=>a.line!==c.line?a.line-c.line:a.column-c.column).map(a=>[a,i(a)]);return s.push([n,o]),s.sort(([a,c],[u,l])=>c-l||a.line-u.line||a.column-u.column),s[0][0]}var TI=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function na(t){try{new Function(t)}catch(e){return e}}function oie(t,e){let r=ho(t),n,i;return ra(r,{enter:o=>{let s=o;e>=s.start&&e<s.end&&(o.type==="CallExpression"||o.type==="NewExpression"?i=o:n=o)}}),i||n}var wO=/^[^()]+/g;function AO(t,e){try{let n=oie(t,e);if(n&&"callee"in n){let i=n.callee;return{text:`${t.slice(i.start,i.end)}(...)`,start:i.start,end:i.end}}else{let i=n;return{text:t.slice(i.start,i.end),start:i.start,end:i.end}}}catch{}wO.lastIndex=e-1;let r=wO.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var yt=()=>`
//# sourceURL=eval-${(0,SO.randomBytes)(4).toString("hex")}.cdp
`;function Mc(t){return sie(""+t)}function sie(t){let e=(0,IO.parseExpressionAt)(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(s=>{if(s.type!=="Identifier")throw new Error("Parameter must be identifier");return s.name}),{start:n,end:i}=e.body,o=s=>`
    ${s.map((a,c)=>`let ${r[c]} = ${a}`).join("; ")};
    ${t.slice(n+1,i-1)}
  `;return{expr:(...s)=>`(()=>{${o(s)}})();
${yt()}`,decl:(...s)=>`function(...runtimeArgs){${o(s)};
${yt()}}`}}var Rc=class extends Error{constructor(r){super(r.text);this.details=r}},gh=class{constructor(e){this.objectId=e}};function ar(t){let e=(""+t).replace("}",yt()+"}"),r=async({cdp:n,args:i,...o})=>{let s=await n.Runtime.callFunctionOn({functionDeclaration:e,arguments:i.map(a=>a instanceof gh?{objectId:a.objectId}:{value:a}),...o});if(!s)throw new Rc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(s.exceptionDetails)throw new Rc(s.exceptionDetails);return s.result};return r.source=e,r}var EO=()=>"globalThis.__jsDebugIsReady = true; "+yt();var Hh=new Set(["page","iframe","worker","service_worker"]),Gy=new Set(["page","iframe"]),LI=new Set(["page","iframe"]),aie=LI,zy=class t{constructor(e,r,n,i,o,s,a,c,u){this._manager=e;this._targetInfo=r;this.launchConfig=s;this.sessionId=a;this.logger=c;this._attached=!1;this._onNameChangedEmitter=new Y;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=n,n.pause(),this.parentTarget=i,this._waitingForDebugger=o,this._updateFromInfo(r),this._ondispose=u}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return LI.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:EO()})])}parent(){return this.parentTarget&&!Hh.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())Hh.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return aie.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return LI.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,n=e.name;if(!r)return n;let i=r.frameId,o=i?this._manager.frameModel.frameForId(i):void 0;return o&&r.isDefault&&!o.parentFrame()?"top":o&&r.isDefault?o.displayName():o?`${n}`:n}supportsCustomBreakpoints(){return Gy.has(this.type())}supportsXHRBreakpoints(){return Gy.has(this.type())}scriptUrlToUrl(e){return ia(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){let e=this._customNameComputeFn?.(this);if(e)return e;if(this.type()==="service_worker"){let i=this._manager.serviceWorkerModel.version(this.id());if(i)return i.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(i=>i instanceof t&&i!==this&&i._targetInfo.title===this._targetInfo.title)))return r;try{let i=new DO.URL(this._targetInfo.url);i.protocol==="data:"?r=" <data>":i?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function yh(t){return t instanceof Array?t:[t]}function CO(t,e,r){let n=0,i=t.length-1;for(;n<=i;){let o=(n+i)/2|0,s=r(t[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return n}function PO(t,e){let r=new Map;for(let n of t){let i=e(n),o=r.get(i);o?o.push(n):r.set(i,[n])}return r}function oa(t){return t.next().value}function mo(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Dl(t,e){if(t.length<=e)return t;let r=e>>1,n=e-r-1,i=t.codePointAt(t.length-n-1);i&&i>=65536&&(--n,++r);let o=t.codePointAt(r-1);return r>0&&o&&o>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-n,n)}var TO="/\\.?*()^${}|[]+",LO=t=>TO.includes(t);function Xr(t,e){let r=TO.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}var sa=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let n=this.lines[r.lineNumber],i=this.lines[r.lineNumber+1]??this.source.length+1;return n+Math.min(i-n-1,r.columnNumber)}};var Xy=process.platform!=="win32";function RI(){return Xy}function Jy(t){return Xy?t:t.toLowerCase()}function Yy(t,e){return Xy?t===e:t.toLowerCase()===e.toLowerCase()}function Oc(){return RI()?new Map:new fo(Jy)}var $O=process.platform==="win32"?process.env.PATHEXT?.toLowerCase().split(";"):void 0,Qy=t=>{let e=Jy(An.basename(t));if($O){for(let r of $O)if(e.endsWith(r))return e.slice(0,-r.length)}return e},MI=async(t,e)=>{for(;;){if(await e(t))return t;let r=An.dirname(t);if(r===t)return;t=r}},Cl=(t,e,r)=>MI(e,n=>t.exists(An.join(n,r))),uie=new Set(["localhost","127.0.0.1","::1"]),lie=new Set(["0.0.0.0","::","0000:0000:0000:0000:0000:0000:0000:0000"]),Ky=t=>uie.has(t.toLowerCase()),RO=t=>{try{return new os.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}},MO=t=>lie.has(RO(t)),Pl=Jo(async t=>{let e=RO(t);if(Ky(e))return!0;try{let r=await kO.promises.lookup(e);return Ky(r.address)}catch{return!1}});function ia(t,e){try{return new os.URL(e,t).href}catch{}}function jy(t,e){try{return new os.URL(e),e}catch{}let r;try{r=new os.URL(t||"")}catch{return e}let n=r.protocol+"//";return r.username&&(n+=r.username+":"+r.password+"@"),n+=r.host,n+=An.dirname(r.pathname),n[n.length-1]!=="/"&&(n+="/"),n+=e,n}function Zy(t){try{return new os.URL(t),!0}catch{return!1}}function OO(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var pie=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function _t(t){let e=pie.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new os.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(n,i,o)=>o.length===1?`${i}:///`:`${i}://`);else if(!sn(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),$t(t)}function FO(t){return sn(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function Be(t){return OI==="win32"?"file:///"+aa(t):"file://"+aa(t)}function Tl(t){return t.startsWith("/")?"file://"+aa(t):"file:///"+aa(t)}function Br(t){return An.posix.isAbsolute(t)||An.win32.isAbsolute(t)}function br(t){return!!t&&t.startsWith("data:")}var $I=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}LO(t)?e.add(`\\${t}`):e.add(t);let n=encodeURIComponent(t);t!=="\\"&&n!==t&&e.add(n)},die=t=>{switch(t.size){case 0:return"";case 1:return oa(t.values());default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},vh=new Set,kI=(t,e,r,n)=>{let i="";for(let o of t.slice(e,r))Xy?$I(o,vh,n):($I(o.toLowerCase(),vh,n),$I(o.toUpperCase(),vh,n)),i+=die(vh),vh.clear();return i};function Wn(t,[e,r]=[0,t.length]){if(r<=e)return t;let n=[],i=kI(t,0,e,!1),o=kI(t,r,t.length,!1),s=t.slice(e,r);for(let a of[decodeURIComponent(s),_t(s)]){if(!a)continue;let c=kI(a,0,a.length,!0);n.push(fie(`${i}${c}${o}`).concat("($|\\?)"))}return n.join("|")}var fie=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",n)=>`${r}[${n.toUpperCase()}${n.toLowerCase()}]:`);function sn(t){return t.startsWith("file:///")}var OI=process.platform;function aa(t){return t=Ii(t),OI==="win32"?(oI(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function Ii(t){return t&&OI==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var ca=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,n=r?mie(r,...e):void 0;return i=>!i.url.startsWith("devtools://")&&n?.(i.url)!==!1},Ll=t=>e=>e.type==="page"&&t(e);function hie(t){return!!t&&!An.isAbsolute(t)&&!!(0,os.parse)(t).protocol}var mie=(...t)=>{let e=i=>{i=i.toLowerCase();let o=_t(i);o?i=o:hie(i)&&i.includes("://")&&(i=i.substr(i.indexOf("://")+3)),i.endsWith("/")&&(i=i.substr(0,i.length-1));let s=i.indexOf("#");return s!==-1&&(i=i.slice(0,i[s-1]==="/"?s-1:s)),i},r=t.map(i=>Xr(e(i),"/*").replace(/(\/\*$)|\*/g,".*")),n=new RegExp("^("+r.join("|")+")$","g");return i=>(n.lastIndex=0,n.test(e(i)))};var Ho=Symbol("ISourceMapFactory"),FI=Symbol("IRootSourceMapFactory"),Fc=class{constructor(e,r){this.root=e;this.resourceProvider=r}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,r,n){return this.root.guardSourceMapFn(e,r,n)}};Fc=D([(0,go.injectable)(),b(0,(0,go.inject)(FI)),b(1,(0,go.inject)(kc))],Fc);var wh=class{constructor(e,r,n){this.pathResolve=e;this.dap=r;this.logger=n;this.hasWarnedAboutMaps=new WeakSet}async load(e,r){let n=await this.parseSourceMap(e,r.sourceMapUrl),i;"sourceRoot"in n&&(i=n.sourceRoot,n.sourceRoot=void 0);let o=!1,s=[];if("sections"in n){s=[];let a=0;for(let c of n.sections){let u=c.map;s.push(...u.sources),u.sources=u.sources.map(()=>`source${a++}.js`),o||=!!u.names?.length}}else"sources"in n&&Array.isArray(n.sources)&&(s=n.sources,n.sources=n.sources.map((a,c)=>`source${c}.js`),o=!!n.names?.length);return new Sl(new Sy(n),r,i??"",s,o)}async parseSourceMap(e,r){let n;try{n=await this.parseSourceMapDirect(e,r)}catch(i){if(n=await this.parsePathMappedSourceMap(e,r),!n)throw i}if("sections"in n){let i=await Promise.all(n.sections.map((o,s)=>"url"in o?this.parseSourceMap(e,o.url).then(a=>({offset:o.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${s}: ${a}`)}):o));n.sections=i.filter(Ct)}return n}async parsePathMappedSourceMap(e,r){if(br(r))return;let n=await this.pathResolve.urlToAbsolutePath({url:r});if(n)try{return this.parseSourceMapDirect(e,n)}catch(i){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",i)}}guardSourceMapFn(e,r,n){try{return r()}catch(i){if(!/error parsing/i.test(String(i.message)))throw i;if(!this.hasWarnedAboutMaps.has(e)){let o=Py(e.metadata.compiledPath,i.message).error;this.dap.output({output:o.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return n()}}dispose(){}async parseSourceMapDirect(e,r){let n=_t(r);n&&(n=this.pathResolve.rebaseRemoteToLocal(n));let i=await e.fetch(n||r);if(!i.ok)throw i.error;let o=i.body;return o.slice(0,3)===")]}"&&(o=o.substring(o.indexOf(`
`))),JSON.parse(o)}};wh=D([(0,go.injectable)(),b(0,(0,go.inject)(nt)),b(1,(0,go.inject)(_l)),b(2,(0,go.inject)(ce))],wh);var ua=class extends wh{constructor(){super(...arguments);this.knownMaps=new fo(r=>r.toLowerCase())}load(r,n){let i=this.knownMaps.get(n.sourceMapUrl);if(!i)return this.loadNewSourceMap(r,n);let o=n.cacheKey,s=i.metadata.cacheKey;return i.reloadIfNoMtime?o&&s&&o===s?(i.reloadIfNoMtime=!1,i.prom):this.loadNewSourceMap(r,n):s&&o&&o!==s?this.loadNewSourceMap(r,n):i.prom}loadNewSourceMap(r,n){let i=super.load(r,n);return this.knownMaps.set(n.sourceMapUrl,{metadata:n,reloadIfNoMtime:!1,prom:i}),i}dispose(){this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};ua=D([(0,go.injectable)()],ua);var BO=require("path");var $l=Symbol("ISearchStrategy"),uDe=Symbol("ISearchStrategyFallback"),NO=async(t,e,r)=>{let n,o=`${(0,BO.basename)(t)}.map`;if(e.siblings.includes(o)&&(n=o),n||(typeof r>"u"&&(r=await hy(t)),n=El(r)),!(!n||(br(n)||(n=ia(Be(t),n)),!n))&&!(!n.startsWith("data:")&&!n.startsWith("file://")))return{compiledPath:t,sourceMapUrl:n,cacheKey:e.mtime}};var ev=async(t,e,r,n={})=>{let i=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-i,...n})}};var BI=Symbol("InlineSourceMapUrl"),jO=10*1e3,Bc=class{constructor(e){e.__workspaceCachePath&&(this.path=tv.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await xh.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await xh.promises.mkdir(tv.dirname(this.path),{recursive:!0}),await xh.promises.writeFile(this.path,JSON.stringify(e)))}};Bc=D([(0,cr.injectable)(),b(0,(0,cr.inject)(Re))],Bc);var yo=class{constructor(e,r,n,i,o,s){this.outFiles=e;this.repo=r;this.logger=n;this.sourceMapFactory=i;this.sourcePathResolver=o;this.state=s}async createMapping(e){if(this.outFiles.empty)return new Map;let r=Oc(),n=await this.state.load();try{let{state:i}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async o=>{let s=[],a=await this.sourceMapFactory.load(o);for(let c of a.sources){if(c===null)continue;let u=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:c,map:a}):_t(c);u&&s.push({...o,sourceMapUrl:br(o.sourceMapUrl)?{[BI]:o.sourceMapUrl}:o.sourceMapUrl,resolvedPath:u,sourceUrl:c})}return{discovered:s,compiledPath:$t(o.compiledPath)}},onProcessedMap:({discovered:o})=>{for(let s of o){let a=r.get(s.resolvedPath);a||(a=new Set,r.set(s.resolvedPath,a)),a.add(s)}},lastState:n,...e});i&&this.state.store(i).catch(o=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:o}))}catch(i){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:i})}return r}};yo=D([(0,cr.injectable)(),b(0,(0,cr.inject)(lo)),b(1,(0,cr.inject)($l)),b(2,(0,cr.inject)(ce)),b(3,(0,cr.inject)(Ho)),b(4,(0,cr.inject)(nt)),b(5,(0,cr.inject)(Bc))],yo);var kl=class extends yo{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let n=await this.sourcePathToCompiled;return r.map(i=>n.get(i))}async createInitialMapping(){return ev(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};kl=D([(0,cr.injectable)()],kl);var Rl=class extends yo{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let n=r.map(s=>this.sourcePathToCompiled.get(s)),i=r.map((s,a)=>a).filter(s=>!n[s]);if(i.length){let s=new Set(i.map(c=>$t(r[c]))),a=this.createMapping({filter:(c,u)=>!u||u.discovered.some(l=>s.has(l.resolvedPath))});for(let c of i)this.sourcePathToCompiled.set(r[c],a),n[c]=a}return await Promise.all(n.map(async(s,a)=>(await s).get(r[a])))}};Rl=D([(0,cr.injectable)()],Rl);var jc=Symbol("IBreakpointsPredictor"),Nc=class{constructor(e,r,n,i){this.bpSearch=e;this.outFiles=r;this.logger=n;this.sourceMapFactory=i;this.predictedLocations=new Map;this.longParseEmitter=new Y;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){if(!e.source.path||!e.breakpoints?.length)return;let r=await this.getMetadataForPaths([e.source.path]).then(i=>i[0]);if(!r)return;let n=async(i,o,s)=>{let a=typeof s.sourceMapUrl=="string"?s.sourceMapUrl:s.sourceMapUrl.hasOwnProperty(BI)?s.sourceMapUrl[BI]:await xh.promises.readFile(s.compiledPath,"utf8").then(El);if(!a)return[];let c=await this.sourceMapFactory.load({...s,sourceMapUrl:a}),u=this.sourceMapFactory.guardSourceMapFn(c,()=>qy(s.sourceUrl,{lineNumber:i,columnNumber:o||1},c),()=>null);if(!u||u.line===null)return[];let l=await this.getMetadataForPaths([s.compiledPath]).then(p=>p[0]);return l?(await Promise.all([...l].map(d=>n(u.line,u.column,d)))).flat():[{absolutePath:s.compiledPath,lineNumber:u.line||1,columnNumber:u.column?u.column+1:1}]};for(let i of e.breakpoints??[]){let o=`${e.source.path}:${i.line}:${i.column||1}`;if(this.predictedLocations.has(o))return;let s=[];this.predictedLocations.set(o,s);for(let a of r)s.push(...await n(i.line,i.column||0,a))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:jO,patterns:[...this.outFiles.explode()].join(", ")})},jO),n=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),n}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};Nc=D([(0,cr.injectable)(),b(0,(0,cr.inject)(yo)),b(1,(0,cr.inject)(lo)),b(2,(0,cr.inject)(ce)),b(3,(0,cr.inject)(Ho))],Nc);var Io=A(Z());var rv=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},nv=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new rv(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let n=new rv;return this._statisticsById.set(e,n),n}}statistics(){let e=0,r=0,n=0;for(let i of this._statisticsById.values())e++,i.hit&&n++,i.verified&&r++;return{set:e,verified:r,hit:n}}};var ql=A(Z());var mF=require("crypto"),Ih=A(Z());var gie=0,vt=Symbol("ICdpApi"),Uc=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,n){return this.cause={code:r,message:n},this.message=`CDP error ${r} calling method ${this.method}: ${n}`,this.stack=this.stack?.replace("<<message>>",this.message),this}},jt=class{constructor(e,r,n){this.logger=r;this.telemetryReporter=n;this._connectionId=gie++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new Y;this.waitWrapper=yie();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([i,o])=>this._onMessage(i,o)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new iv(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},n){let i=++this._lastId,o={id:i,method:e,params:r};n&&(o.sessionId=n);let s=JSON.stringify(o);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:o}),this._transport.send(s),i}_onMessage(e,r){let n=JSON.parse(e),i=n;n.result&&n.result.scriptSource?i={...n,result:{...n.result,scriptSource:"<script source>"}}:n.method==="Debugger.scriptParsed"&&n.params&&br(n.params.sourceMapURL)&&(i={...n,params:{...n.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:i});let o=this._sessions.get(n.sessionId||"");if(!o){let c=this._disposedSessions.get(n.sessionId);if(c){let u=(Date.now()-c.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${u} seconds ago`,{sessionId:n.sessionId,disposeOn:c});return}else throw new Error(`Unknown session id: ${n.sessionId} while processing: ${n.method}`)}let s=n.method,a;try{o._onMessage(n)}catch(c){a=c}s&&this.telemetryReporter.reportOperation("cdpOperation",s,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new iv(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},Hie=+process.version.substring(1).split(".")[0]<11,iv=class{constructor(e,r,n){this.logger=n;this._queue=[];this._prefixListeners=new nh;this._directListeners=new nh;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(n,i)=>{if(i!=="then")return i==="on"?(o,s)=>this.on(`${r}.${o}`,s):o=>this.send(`${r}.${i}`,o)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new Uc(e).setCause(0,"Connection is closed"));let n=this._connection._send(e,r,this._sessionId);return new Promise((i,o)=>{this._callbacks.set(n,{resolve:i,reject:o,from:new Uc(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!Hie&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){this._connection?.waitWrapper(()=>{if(this.paused)return;let e=this._queue.shift();e&&(this._processResponse(e),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let n=e;this._directListeners.emit(n.method,n.params);for(let[i,o]of this._prefixListeners.listeners)n.method.startsWith(i)&&o.fire(n);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function yie(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let n=e.shift();if(!n){t=!1;return}setImmediate(r),n()};return n=>{e.push(n),t||(t=!0,setImmediate(r))}}var Bl=A(Z());var oF=A(we()),sF=require("path"),aF=require("url");var eF=require("path"),tF=require("worker_threads");var qc=A(YO()),qI=require("fs"),WI=require("worker_threads");var Tie=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),Lie=Buffer.from(`
});`),$ie=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),kie=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),Rie=Buffer.from("#!"),Mie=Buffer.from("\r")[0],Oie=Buffer.from(`
`)[0],Fie=(t,e)=>t.slice(0,e.length).equals(e),QO=(t,e,r)=>{let n=e.length===64?qc.shaHash:qc.hash;if(n(t)===e)return!0;if(r){if(Fie(t,Rie)){let i=t.indexOf(Oie);return t[i-1]===Mie&&i--,n(t.slice(i))===e}if(n(Buffer.concat([Tie,t,Lie]))===e)return!0}return n(Buffer.concat([$ie,t,kie]))===e},ZO=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function Bie(t){switch(t.type){case 0:try{let e=await qI.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,qc.hash)(e):(0,qc.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,qc.hash)(ZO(t.data))}}catch{return{id:t.id}}case 2:try{let e=await qI.promises.readFile(t.file);return{id:t.id,matches:QO(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:QO(ZO(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function Nie(t){t.on("message",e=>{Bie(e).then(r=>t.postMessage(r))})}WI.parentPort&&Nie(WI.parentPort);var pv=class{constructor(e=3,r=(0,eF.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=A$(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,n){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:n})).matches}async verifyFile(e,r,n){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:n})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let n=qe();return this.deferredMap.set(e.id,{deferred:n,request:e}),r.postMessage(e),n.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new tF.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let n=r,i=this.deferredMap.get(n.id);i&&(i.deferred.resolve(n),this.deferredMap.delete(n.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:n}of this.deferredMap.values())r.postMessage(n)}else{for(let{deferred:n}of this.deferredMap.values())n.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var nF=require("fs"),rF=new pv;async function iF(t,e,r){return!t||n1(t)?void 0:e?(typeof r=="string"?await rF.verifyBytes(r,e,!0):await rF.verifyFile(t,e,!0))?t:void 0:await new wn(nF.promises).exists(t)?t:void 0}var Wc=class{constructor(e,r,n,i,o,s,a,c){this.url=r;this.inlineScriptOffset=s;this.runtimeScriptOffset=a;this.contentHash=c;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=_e(i),this._container=e,this.absolutePath=n||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(o),this._existingAbsolutePath=this.checkContentHash(c)}checkContentHash(e){return iF(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:Math.max(1,e.lineNumber-this.runtimeScriptOffset.lineOffset),columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={type:0,sourceByUrl:new Map,value:qe(),metadata:e}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(this.url.endsWith(".wat"))return"text/wat";if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){let e=await this._contentGetter();return this.inlineScriptOffset?.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){if(!this._container)return;if(Vc(this)&&this.sourceMap.metadata.sourceMapUrl.endsWith("-pretty.map")){let c=this.sourceMap.value.settledValue;return c&&{map:c,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,n=r+"-pretty.map",o=r.split(/[\/\\]/).pop()+"-pretty.js",s=await xO(o,e,r,n);if(!s)return;this.setSourceMapUrl({compiledPath:this.absolutePath,sourceMapUrl:""}),this.sourceMap.value.resolve(s);let a=this;return await this._container._addSourceMapSources(a,s),{map:s,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?oF.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(Br(this._fqname)){for(let e of this._container.rootPaths)if(Hy(e,this._fqname))return Ye((0,sF.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(Br(this.url))return this.url;let e=_t(this.url);if(e)return e;let r=this.url;try{let n=[],i=new aF.URL(this.url);if(i.protocol==="data:")return"<eval>/VM"+this.sourceReference;i.hostname&&n.push(i.hostname),i.port&&n.push("\uA789"+i.port),i.pathname&&n.push(/^\/[a-z]:/.test(i.pathname)?i.pathname.slice(1):i.pathname);let o=i.searchParams?.toString();o&&n.push("?"+o),r=n.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}};var Ah;(n=>{async function t(i){return i.value.promise}n.waitForValue=t;function e(i,o){return i.type===0&&i.value.settledValue?Promise.resolve(i.value.settledValue):Promise.race([t(i),De(o)])}n.waitForValueWithTimeout=e;async function r(i){return await t(i),i.sourceByUrl}n.waitForSources=r})(Ah||={});var Rt=class extends Wc{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},dv=class extends Wc{constructor(r,n,i){super(r,n.url,i,()=>Promise.resolve("Binary content not shown, see the decompiled WAT file"),void 0,void 0,void 0,void 0);this.event=n;this.sourceMap={type:1,value:qe(),sourceByUrl:new Map}}checkContentHash(){return Promise.resolve(void 0)}offsetScriptToSource(r){return r}offsetSourceToScript(r){return r}},Jr=t=>!!t&&t instanceof Wc&&!!t.sourceMap,Vc=t=>Jr(t)&&t.sourceMap.type===0,Gc=t=>Jr(t)&&t.sourceMap.type===1,VI=t=>!!t&&typeof t.getDisassembly=="function";function cF(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r+=e.lineOffset,r<=1&&(n+=e.columnOffset)),{...t,lineNumber:r,columnNumber:n}}function uF(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(n=Math.max(1,n-e.columnOffset))),{...t,lineNumber:r,columnNumber:n}}var lF=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),ss=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var At=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new Ut(this.lineNumber+1,this.columnNumber+1)}get base01(){return new Ei(this.lineNumber,this.columnNumber+1)}compare(e){let r=e.base0;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Ut=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new At(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new Ei(this.lineNumber-1,this.columnNumber)}compare(e){let r=e.base1;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber||0}},Ei=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new At(this.lineNumber-1,this.columnNumber)}get base1(){return new Ut(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){let r=e.base01;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Di=class t{constructor(e,r){this.begin=e;this.end=r}static{this.ZERO=new t(new At(0,0),new At(0,0))}static{this.INFINITE=new t(new At(0,0),new At(1/0,1/0))}static simplify(e){if(e.length===0)return[];let r=e.slice().sort((o,s)=>o.begin.compare(s.begin)),n=[],i=r[0];for(let o=1;o<r.length;o++){let s=r[o];i.end.compare(s.begin)>=0?i=new t(i.begin,s.end):(n.push(i),i=s)}return n.push(i),n}contains(e){return e.compare(this.begin)>=0&&e.compare(this.end)<=0}toString(){let e=this.begin.base0,r=this.end.base0;return`Range[${e.lineNumber}:${e.columnNumber} -> ${r.lineNumber}:${r.columnNumber}]`}};var pF=require("worker_threads");var Ml=require("worker_threads");function GI(t,e){let r=ho(t),n=(a,{loc:c}=a,{loc:u}=a)=>{if(!c||!u)throw new Error("should include locations");let l=e(c,u);if(o.length>0){let p=o[o.length-1];p.scopeNode.children??=[],p.scopeNode.children.push(l)}o.push({node:a,scopeNode:l})},i=new Set,o=[],s;return ra(r,{enter:a=>{switch(a.type){case"FunctionDeclaration":case"ArrowFunctionExpression":n(a,a.params[0]||a.body,a.body),i.add(a.body);break;case"Program":n(a),s=o[0].scopeNode;break;case"ForStatement":case"ForOfStatement":case"ForInStatement":n(a),i.add(a.body);break;case"BlockStatement":i.has(a)||n(a);break}},leave:a=>{a===o[o.length-1].node&&o.pop()}}),s}Ml.isMainThread||Ml.parentPort?.postMessage(GI(Ml.workerData,(t,e)=>({start:t.start,end:e.end})));var Ol=class t{constructor(e){this.range=e}static hydrate(e){let r=new t(new Di(new At(e.start.line,e.start.column),new At(e.end.line,e.end.column)));return r.children=e.children?.map(t.hydrate),r}search(e){if(this.range.contains(e)){if(!this.children)return this;for(let r of this.children){let n=r.search(e);if(n)return n}return this}}findDeepest(e,r){if(this.range.contains(e)){if(this.children)for(let n of this.children){let i=n.findDeepest(e,r);if(i!==void 0)return i}return r(this)}}filterHoist(e){if(this.children)for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.filterHoist(e),!e(n)){let i=n.children||[];this.children.splice(r,1,...i),r--}}}forEach(e){e(this),this.children?.forEach(r=>r.forEach(e))}toJSON(){return{range:this.range,children:this.children}}},jie=1024*512;function dF(t){return t.length<jie?Uie(t):new Promise((e,r)=>{let n=new pF.Worker(`${__dirname}/renameWorker.js`,{workerData:t});n.on("message",i=>e(Ol.hydrate(i))),n.on("error",r),n.on("exit",()=>r("rename worker exited"))})}function Uie(t){return GI(t,(e,r)=>new Ol(new Di(new Ei(e.start.line,e.start.column).base0,new Ei(r.end.line,r.end.column).base0)))}var fF=/[$a-z_][$0-9A-Z_$]*/iy,la=Symbol("IRenameProvider"),Fl=class{constructor(e,r,n){this.logger=e;this.sourceMapFactory=r;this.launchConfig=n;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return Vn.None;let r=e.uiLocation();return r===void 0?Vn.None:"then"in r?r.then(n=>this.provideForSource(n?.source)):this.provideForSource(r?.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof Rt))return Vn.None;let r=oa(e.compiledToSourceUrl.keys());if(!r)throw new Error("unreachable");if(!Vc(r))return Vn.None;let n=this.renames.get(r.url);if(n)return n;let i=this.sourceMapFactory.load(r.sourceMap.metadata).then(async o=>{if(!o?.hasNames)return Vn.None;let s=await r.content();return s?await this.createFromSourceMap(o,s):Vn.None}).catch(()=>Vn.None);return this.renames.set(r.url,i),i}async createFromSourceMap(e,r){let n=Date.now(),i;try{i=await dF(r)}catch(a){return this.logger.info("runtime",`Error parsing content for source tree: ${a}}`,{url:e.metadata.compiledPath}),Vn.None}let o=new sa(r);e.eachMapping(a=>{if(!a.name)return;let c=new Ei(a.generatedLine,a.generatedColumn).base0,u=o.convert(c);fF.lastIndex=u;let l=fF.exec(r);if(!l)return;let p=l[0];if(p===a.name)return;let d=i.search(c)||i;d.data??=[],d.data.some(m=>m.compiled==p)||d.data.push({compiled:p,original:a.name})}),i.filterHoist(a=>!!a.data);let s=Date.now();return this.logger.info("runtime",`renames calculated in ${s-n}ms`,{url:e.metadata.compiledPath}),new Vn(i)}};Fl=D([(0,Bl.injectable)(),b(0,(0,Bl.inject)(ce)),b(1,(0,Bl.inject)(Ho)),b(2,(0,Bl.inject)(Re))],Fl);var Vn=class t{constructor(e){this.renames=e}static{this.None=new t(new Ol(Di.ZERO))}getOriginalName(e,r){return this.getClosestRename(r,n=>n.compiled===e)?.original}getCompiledName(e,r){return this.getClosestRename(r,n=>n.original===e)?.compiled}getClosestRename(e,r){return this.renames.findDeepest(e,n=>n.data?.find(r))}};var as="$returnValue",qie="__js_debug_hoisted_",hF=()=>qie+(0,mF.randomBytes)(8).toString("hex"),Gn=Symbol("IEvaluator"),Nl=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:n,renames:i}={}){r!==!1&&(e+=yt());let o=new Map;o.set(as,hF());for(let c of n??[])o.set(c,hF());let{transformed:s,hoisted:a}=this.replaceVariableInExpression(e,o,i);return a.size?{canEvaluateDirectly:!1,invoke:(c,u={})=>Promise.all([...o].map(([l,p])=>this.hoistValue(l===as?this.returnValue:u[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s}))}:{canEvaluateDirectly:!0,invoke:c=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let n=r;if(r?.stackFrame){let i=await this.renameProvider.provideOnStackframe(r.stackFrame);n={...n,renames:{mapping:i,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,n).invoke(e)}async hoistValue(e,r){let n=e?.objectId,i=`setTimeout(() => { delete globalThis.${r} }, 0)`;n?await this.cdp.Runtime.callFunctionOn({objectId:n,functionDeclaration:`function() { globalThis.${r} = this; ${i}; ${yt()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e?.value)};${i};`+yt()})}replaceVariableInExpression(e,r,n){let i=new Set,o=!1,s=(p,d)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:d}),a=[],c=ho(e),u=Ny(c,{enter(p,d){let m=p;if(p.type!=="Identifier"||e[m.start-1]===".")return;let f=r.get(p.name);if(f)return i.add(p.name),o=!0,{replace:TI(p,d)?{type:"Identifier",name:f}:s(f,Wie)};let g=n?.mapping.getCompiledName(p.name,n.position);if(g)return o=!0,{replace:TI(p,d)?{type:"Identifier",name:g}:s(g,p)}},leave:()=>{a.pop()}});if(!o)return{hoisted:i,transformed:e};let l=c.body[c.body.length-1].end;return{hoisted:i,transformed:is(u)+e.slice(l)}}};Nl=D([(0,Ih.injectable)(),b(0,(0,Ih.inject)(vt)),b(1,(0,Ih.inject)(la))],Nl);var Wie={type:"Identifier",name:"undefined"};var fv=class t{static parse(e,r,n,i){r=zI(r,n);let o=r&&na(r);if(o)throw new re(ea(e,o.message));let{canEvaluateDirectly:s,invoke:a}=i.prepare(r);return new t(s?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){return this.invoke?(await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0}))?.result.value===!0:Promise.resolve(!0)}},zI=(t,e)=>`(()=>{try{return ${t};}catch(e){console.error(\`Breakpoint condition error: \${e.message||e}\`);return ${!!e}}})()`;var Vie=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,jl=class t{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=Vie.exec(e);if(!r)throw new re(wI(e));let[,n="=",i]=r;return new t(Gie(e,n,Number(i)))}},Gie=(t,e,r)=>{switch(e){case"=":case"==":case"===":return n=>n===r;case">":return n=>n>r;case">=":return n=>n>=r;case"<":return n=>n<r;case"<=":return n=>n<=r;case"%":return n=>n%r===0;default:throw new re(wI(t))}};var gF=require("crypto"),mv=A(Z());var hv=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var zc=class{constructor(e,r){this.breakCondition=r;let n=r&&na(r);if(n)throw new re(ea(e,n.message))}shouldStayPaused(){return Promise.resolve(!0)}};var pa=class{constructor(e){this.evaluator=e}compile(e,r){let n=this.logMessageToExpression(r),i=na(n);if(i)throw new re(ea(e,i.message));let{canEvaluateDirectly:o,invoke:s}=this.evaluator.prepare(n);return o?new zc(e,this.logMessageToExpression(r)):new hv(s)}serializeLogStatements(e){return vO([],e,!1)}logMessageToExpression(e){let r=u=>u.replace(/%/g,"%%"),n=[],i=[],o=0;for(;;){let u=e.indexOf("{",o);if(u===-1){n.push(r(e.slice(o)));break}n.push(r(e.slice(o,u)));let[l]=By(e.slice(u));if(o=u+l.end,o-1===u+1||e[o-1]!=="}"){n.push(r(e.slice(u,o)));continue}if(l.type!=="BlockStatement")break;i.push(is(this.serializeLogStatements(l.body))),n.push("%O")}let a=`console.log(${[JSON.stringify(n.join("")),...i].join(", ")}), false`,c=(0,gF.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${c}.cdp`}};pa=D([(0,mv.injectable)(),b(0,(0,mv.inject)(Gn))],pa);var zie=new zc({line:0},void 0),oPe=new zc({line:0},"false"),gv=Symbol("IBreakpointConditionFactory"),Ul=class{constructor(e,r,n){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=n.__breakOnConditionalError}getConditionFor(e){return e.condition?fv.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?jl.parse(e.hitCondition):zie}};Ul=D([(0,ql.injectable)(),b(0,(0,ql.inject)(pa)),b(1,(0,ql.inject)(Gn)),b(2,(0,ql.inject)(Re))],Ul);var vv=require("path");var Hv=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var yv=t=>!("location"in t),HF=t=>"location"in t,Kie=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),Wl=class{constructor(e,r,n){this._manager=e;this._source=r;this._originalPosition=n;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r,n){this._source=r,this._originalPosition=n;let i=[];for(let o of this.cdpBreakpoints)o.state===1&&i.push(this.updateUiLocations(e,o.cdpId,o.locations));await Promise.all(i)}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],n=this._manager._sourceContainer.source(this.source);if((!n||!(n instanceof Rt))&&r.push(this._setByPath(e,n?.offsetSourceToScript(this.originalPosition)||this.originalPosition)),await Promise.all(r),n&&this.isEnabled){let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n});await Promise.all(i.map(o=>this._setByUiLocation(e,n.offsetSourceToScript(o))))}}async updateUiLocations(e,r,n){this.updateExistingCdpRef(r,a=>({...a,locations:n}));let i=(await Promise.all(n.map(a=>e.rawLocationToUiLocation(e.rawLocation(a))))).find(a=>!!a);if(!i)return;let o=this._manager._sourceContainer.source(this.source);if(!o)return;let s=await this._manager._sourceContainer.currentSiblingUiLocations(i);this.updateExistingCdpRef(r,a=>{let c=s.filter(u=>u.source===o);return{...a,locations:n,uiLocations:c.length?c:s}})}compare(e){let r=this.originalPosition,n=e.originalPosition;return r.lineNumber!==n.lineNumber?r.lineNumber-n.lineNumber:r.columnNumber-n.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForNewLocations(e,r){let n=this._manager._sourceContainer.source(this.source);if(!n)return[];let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n},await r.source);if(!i.length)return[];let o=[];for(let s of i)o.push(this._setForSpecific(e,r,n.offsetSourceToScript(s)));for(let s of this.cdpBreakpoints){if(!yv(s.args)||!Kie(s.args,r.url))continue;let a=s.args;i.some(c=>c.columnNumber-1===a.columnNumber&&c.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:n.url}),o.push(this.removeCdpBreakpoint(s)))}return await Promise.all(o),i}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>yv(r.args)))}hasResolvedAt(e,r){let{lineNumber:n,columnNumber:i}=r.base0;return this.cdpBreakpoints.some(o=>o.state===1&&o.locations.some(s=>s.scriptId===e&&s.lineNumber===n&&(s.columnNumber===void 0||s.columnNumber===i)))}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(n=>n.map(i=>i.state!==1||i.cdpId!==e?i:r(i)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let n=new Set;this.setInCdpScriptIds.clear();for(let i of this.cdpBreakpoints)if(i.state===1){n.add(i.cdpId);for(let o of i.locations)this.setInCdpScriptIds.add(o.scriptId)}this._cdpIds=n}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),n=[];for(let i of r){let o=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(i.absolutePath);o!==void 0&&(typeof o=="string"?n.push(this._setByUrlRegexp(e,o,i)):n.push(o.then(s=>s?this._setByUrlRegexp(e,s,i):void 0)))}await Promise.all(n)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(n=>this._setForSpecific(e,n,r)))}async _setByPath(e,r){let n=this._manager._sourceContainer.source({path:this.source.path});if(!(n instanceof Rt&&[...n.compiledToSourceUrl.keys()].some(o=>o.absolutePath===this.source.path)))if(this.source.path){let i=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!i)return;await this._setByUrlRegexp(e,i,r)}else{let o=this._manager._sourceContainer.source(this.source)?.url;if(!o)return;await this._setByUrl(e,o,r),this.source.path!==o&&this.source.path!==void 0&&await this._setByUrl(e,Be(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(n=>e.scriptId&&HF(n.args)&&n.args.location.scriptId===e.scriptId&&Hv(n.args.location,r)||e.url&&!e.hasSourceURL&&yv(n.args)&&(n.args.urlRegex?new RegExp(n.args.urlRegex).test(e.url):e.url===n.args.url)&&Hv(n.args,r))}hasSetOnLocationByUrl(e,r,n){return this.cdpBreakpoints.find(i=>{if(yv(i.args))return Hv(i.args,n)?e==="url"?i.args.urlRegex?new RegExp(i.args.urlRegex).test(r):i.args.url===r:e==="re"&&i.args.urlRegex===r:!1;let o=this._manager._sourceContainer.getScriptById(i.args.location.scriptId);if(o)return Hv(i.args.location,n)&&e==="re"?new RegExp(r).test(o.url):o.url===r})}async _setForSpecific(e,r,n){return r.url&&!r.hasSourceURL&&(!r.embedderName||r.embedderName===r.url)?this._setByUrl(e,r.url,n):this._setByScriptId(e,r,n)}async _setByUrl(e,r,n){n=ss(n);let i=this.hasSetOnLocationByUrl("url",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{url:r,condition:this.getBreakCondition(),...n})}async _setByUrlRegexp(e,r,n){n=ss(n);let i=this.hasSetOnLocationByUrl("re",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...n})}async _setByScriptId(e,r,n){n=ss(n);let i=this.hasSetOnLocation(r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...n}})}async _setAny(e,r){if(!this.isEnabled)return;let n={state:0,args:r,deadletter:!1};n.done=(async()=>{let i=HF(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!i)return;if(n.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:i.breakpointId});return}let o="actualLocation"in i?[i.actualLocation]:i.locations;this._manager._resolvedBreakpoints.set(i.breakpointId,this);let s={state:1,cdpId:i.breakpointId,args:r,locations:o,uiLocations:[]};return this.updateCdpRefs(a=>a.map(c=>c===n?s:c)),await this.updateUiLocations(e,i.breakpointId,o),s})(),this.updateCdpRefs(i=>[...i,n]),await n.done}async removeCdpBreakpoint(e){this.updateCdpRefs(r=>r.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await this._manager._thread?.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId}),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var bo=class t extends Wl{constructor(r,n,i){super(r,n,{lineNumber:1,columnNumber:1});this.mode=i}static getModeKeyForSource(r,n){return r===1?(0,vv.basename)(n,(0,vv.extname)(n)||void 0):n}_setPredicted(){return Promise.resolve()}_setByPath(r,n){if(!this.source.path)return Promise.resolve();let i=t.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,Xr(i),n):super._setByPath(r,n)}};var vF=A(we());var zn=class extends Wl{constructor(r,n,i,o,s){super(r,i,{lineNumber:o.line,columnNumber:o.column||1});this.dapId=n;this.dapParams=o;this.condition=s;this.completedSet=qe()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:vF.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let n=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==n&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var bv=class extends zn{constructor(e,r,n,i){super(e,r,n,i,new jl(()=>!1))}getResolvedUiLocation(){}};var EB=A(Ph());var Th=class extends bo{constructor(r,n){super(r,{path:n},1);this.pattern=n}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let n=(0,EB.makeRe)(Ye(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:n.source.replace(/([a-z]):/i,(i,o)=>`[${o.toLowerCase()}${o.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Xl=A(Z());var zl={dispose:()=>{}},Ie=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var Kl=Symbol("IExperimentationService");var Yt=Symbol("ITelemetryReporter");var lse=/\/node_modules\/|^node\:/,pse=2,DB=5e3,dse=DB/2,wt=class{constructor(e,r,n){this.telemetry=r;this.experimentation=n;this.disposable=new Ie;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(wt.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),wt.consecutiveQualifyingSessions>=pse&&this.disposable.push(R1(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),wt.didSuggest=!0,e.suggestDiagnosticTool({}))},DB))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(wt.didVerifyEmitter.fire(),wt.didSuggest&&(wt.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",n=>{n.sourceMapURL&&!lse.test(n.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-dse>this.startedAt?wt.consecutiveQualifyingSessions++:wt.consecutiveQualifyingSessions=0,this.disposable.dispose()}};wt.consecutiveQualifyingSessions=0,wt.didVerifyEmitter=new Y,wt.didSuggest=!1,wt=D([(0,Xl.injectable)(),b(0,(0,Xl.inject)(_l)),b(1,(0,Xl.inject)(Yt)),b(2,(0,Xl.inject)(Kl))],wt);var Jn=A(Z()),WB=A(kB());var Ql=Symbol("IContainer"),_o=Symbol("StoragePath"),cn=Symbol("IInitializeParams"),Xn=Symbol("VSCodeApi"),Zl=Symbol("IsVSCode"),st=Symbol("ExtensionContext"),dS=Symbol("ProcessEnv"),Lh=Symbol("execa"),xe=Symbol("FS"),us="ExtensionLocation",Jc=Symbol("IBrowserFinder"),lTe=Symbol("DwarfDebugging"),ep=Symbol("SessionSubStates"),pS=new WeakMap,lt=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,n=pS.get(t.container);return n?n.push(r):pS.set(t.container,[r]),e},Cv=t=>{pS.get(t)?.forEach(e=>e.dispose())},un=Symbol("IExtensionContribution");var Tv=A(Z());var RB=A(require("fs")),Pv=A(require("path")),MB=t=>{let e={};d(e);function r(f,g){return t({category:"telemetry",output:f,data:g})}let n=f=>r("js-debug/dap/operation",{...e,...f}),i=f=>r("js-debug/cdp/operation",{...e,...f}),o=f=>r("js-debug/error",{...e,...f}),s=f=>{e.browser=(f.targetProject||f.targetProject)+"/"+f.targetVersion,r("js-debug/browserVersion",{...e,...f})},a=f=>r("js-debug/breakpointStats",{...e,...f}),c=f=>r("js-debug/statistics",{...e,...f}),u=f=>{e.nodeVersion=f.version,r("js-debug/nodeRuntime",{...e,...f})},l=f=>{r("js-debug/launch",{...e,...f,parameters:JSON.stringify(f.parameters)})},p=f=>{r("js-debug/diagnosticPrompt",{...e,...f})};function d(f){try{let g=Pv.resolve(Pv.dirname(__filename),"..","..",".gitcommit");f.jsDebugCommitId=RB.readFileSync(g,"utf8")}catch{}}return{breakpointStats:a,statistics:c,browserVersion:s,cdpOperation:i,dapOperation:n,error:o,launch:l,nodeRuntime:u,diagnosticPrompt:p,setGlobalMetric:(f,g)=>{e[f]=g}}};var $h=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,n){let i=this.measurements[e];i||(i=this.measurements[e]={times:[],errors:[]}),i.times.push(r),n&&i.errors.push(n)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:n,errors:i}=this.measurements[r],o={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:n.length,failed:i.length};for(let s of n)o.totalTime+=s,o.max=Math.max(o.max,s);o.avg=o.totalTime/o.count;for(let s of n)o.stddev+=(s-o.avg)**2;o.stddev=Math.sqrt(o.stddev/(n.length-1)),e[o.operation]=o,e[`!${o.operation}.errors`]=i,this.isVSCode||(e[`${o.operation}.errors`]=i)}return this.measurements=Object.create(null),e}};var ln=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new Y;this.loggers=MB(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new $h(this.isVsCode),cdpOperation:new $h(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let n=this.loggers[e];n(...r)}reportOperation(e,r,n,i){this.batchers[e].add(r,n,i),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},ln.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,n]of e){let i=this.batchers[r].flush();i.length&&this.report(r,i),this.batchFlushTimeout[r]=void 0,clearTimeout(n)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=fS(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};ln.batchFlushInterval=5e3,ln=D([(0,Tv.injectable)(),b(0,(0,Tv.inject)(Zl))],ln);var fS=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?hS(t):t instanceof Array?t.map(fS):Xo(t,fS),OB=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function hS(t){let e=String(t.message),r=String(t.name);OB.lastIndex=0;let n=typeof t.stack=="string"?t.stack.replace(OB,"$1"):void 0;return{error:{message:e,name:r,stack:n}}}var BB=require("crypto"),Ao=A(Z());var Yc=Symbol("IDwarfModuleProvider");var $v=Symbol("IWasmSymbolProvider"),HS=Symbol("IWasmWorkerFactory"),tp=class{constructor(e,r){this.dwarf=e;this.launchConfig=r;this.cdpCounter=0;this.cdp=new Map;this.prompt=_e(()=>this.dwarf.prompt())}async spawn(e){if(!this.launchConfig.enableDWARF)return null;this.worker??=this.dwarf.load().then(i=>{if(!i)return null;let o=i.spawn({getWasmGlobal:(s,a)=>this.loadWasmValue(`globals[${s}]`,a),getWasmLocal:(s,a)=>this.loadWasmValue(`locals[${s}]`,a),getWasmOp:(s,a)=>this.loadWasmValue(`stack[${s}]`,a),getWasmLinearMemory:(s,a,c)=>this.loadWasmValue(`[].slice.call(new Uint8Array(memories[0].buffer, ${+s}, ${+a}))`,c).then(u=>new Uint8Array(u).buffer)});return o.rpc.sendMessage("hello",[],!1),o});let r=await this.worker;if(!r)return null;let n=this.cdpCounter++;return this.cdp.set(n,e),{rpc:r.rpc,getStopId:i=>`${n}:${i}`,dispose:()=>(this.cdp.delete(n),r.dispose())}}async dispose(){await this.worker?.then(e=>e?.dispose()),this.worker=Promise.resolve(null)}async loadWasmValue(e,r){let n=r,i=n.indexOf(":"),o=n.substring(0,i),s=n.substring(i+1),a=await this.cdp.get(+o)?.Debugger.evaluateOnCallFrame({callFrameId:s,expression:e+yt(),silent:!0,returnByValue:!0,throwOnSideEffect:!0});if(!a||a.exceptionDetails)throw new Error(`evaluate failed: ${a?.exceptionDetails?.text||"unknown"}`);return a.result.value}};tp=D([(0,Ao.injectable)(),b(0,(0,Ao.inject)(Yc)),b(1,(0,Ao.inject)(Re))],tp);var rp=class{constructor(e,r,n,i){this.dwarf=e;this.cdp=r;this.logger=n;this.launchConfig=i;this.worker=_e(()=>this.dwarf.spawn(this.cdp))}async loadWasmSymbols(e){if(!this.launchConfig.enableDWARF)return this.defaultSymbols(e);let r=await this.worker();if(!r){let a=this.defaultSymbols(e);return a.onDidDisassemble=this.dwarf.prompt,a}let{rpc:n}=r,i=(0,BB.randomUUID)(),o=e.debugSymbols?.externalURL,s;try{s=await n.sendMessage("addRawModule",i,o,{url:e.url,code:!o&&e.url.startsWith("wasm://")?await this.getBytecode(e.scriptId):void 0})}catch{return this.defaultSymbols(e)}return!(s instanceof Array)||s.length===0?(n.sendMessage("removeRawModule",i),this.defaultSymbols(e)):(this.logger.info("sourcemap.parsing","parsed files from wasm",{files:s}),new mS(e,this.cdp,i,r,s))}async dispose(){await this.worker.value?.then(e=>e?.dispose())}defaultSymbols(e){return new Lv(e,this.cdp,[])}async getBytecode(e){let n=(await this.cdp.Debugger.getScriptSource({scriptId:e}))?.bytecode;return n?Buffer.from(n,"base64").buffer:void 0}};rp=D([(0,Ao.injectable)(),b(0,(0,Ao.inject)(HS)),b(1,(0,Ao.inject)(vt)),b(2,(0,Ao.inject)(ce)),b(3,(0,Ao.inject)(Re))],rp);var Lv=class{constructor(e,r,n){this.event=e;this.cdp=r;this.doDisassemble=_e(async()=>{let e=[],r;for await(let n of this.getDisassembledStream()){e=e.concat(n.lines);let i;if(r){let o=new Uint32Array(r.length+n.lines.length);i=r.length,o.set(r),r=o}else r=new Uint32Array(n.lines.length),i=0;for(let o=0;o<n.lines.length;o++)r[i+o]=n.bytecodeOffsets[o]}return r??=new Uint32Array(0),{lines:e,byteOffsetsOfLines:r}});n.push(this.decompiledUrl=e.url.replace(".wasm",".wat")),this.files=n}async getDisassembly(){let{lines:e}=await this.doDisassemble();return this.onDidDisassemble?.(),e.join(`
`)}originalPositionFor(e){return this.disassembledPositionFor(e)}async disassembledPositionFor(e){let{byteOffsetsOfLines:r}=await this.doDisassemble(),n=CO(r,e.base0.columnNumber,(i,o)=>i-o);if(n!==r.length)return{url:this.decompiledUrl,position:new At(n,0)}}async compiledPositionFor(e,r){if(e!==this.decompiledUrl)return[];let{byteOffsetsOfLines:n}=await this.doDisassemble(),{lineNumber:i}=r.base0;if(i>=n.length)return[];let o=n[r.base0.lineNumber];return[new At(0,o)]}dispose(){}async*getDisassembledStream(){let{scriptId:e}=this.event,r=await this.cdp.Debugger.disassembleWasmModule({scriptId:e});if(r)for(yield r.chunk;r.streamId;){let n=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:r.streamId});if(!n)return;yield n.chunk}}},mS=class extends Lv{constructor(r,n,i,o,s){super(r,n,s);this.moduleId=i;this.worker=o;this.mappedLines=new Map}get codeOffset(){return this.event.codeOffset||0}async originalPositionFor(r){let n=await this.worker.rpc.sendMessage("rawLocationToSourceLocation",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return n.length?{position:new At(n[0].lineNumber,n[0].columnNumber),url:n[0].sourceFileURL}:super.originalPositionFor(r)}async compiledPositionFor(r,n){if(r===this.decompiledUrl)return super.compiledPositionFor(r,n);let{lineNumber:i,columnNumber:o}=n.base0,s=await this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:i,columnNumber:o===0?-1:o,rawModuleId:this.moduleId,sourceFileURL:r});if(o===0&&s.length===0){let a=await this.getMappedLines(r),c=a.find(u=>u>i);if(!a.includes(i)&&c)return this.compiledPositionFor(r,new At(c,0))}return s.filter(a=>a.rawModuleId===this.moduleId).map(a=>new At(0,this.codeOffset+a.startOffset))}dispose(){return this.worker.rpc.sendMessage("removeRawModule",this.moduleId)}async getVariablesInScope(r,n){let i={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId};return(await this.worker.rpc.sendMessage("listVariablesInScope",i)).map(s=>({name:s.name,scope:s.scope,type:s.type,evaluate:async()=>{let a=await this.worker.rpc.sendMessage("evaluate",s.name,i,this.worker.getStopId(r));return a?new gS(a,this.worker.rpc):yse}}))}async getFunctionStack(r){let n=await this.worker.rpc.sendMessage("getFunctionInfo",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return"frames"in n?n.frames:[]}async getStepSkipList(r,n,i,o){if(i===this.decompiledUrl)return[];let s={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},a=()=>o&&i?this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:o.base0.lineNumber,columnNumber:-1,rawModuleId:this.moduleId,sourceFileURL:i}):[],c;switch(r){case 2:{c=await this.worker.rpc.sendMessage("getInlinedFunctionRanges",s);break}case 1:{let u=await Promise.all([this.worker.rpc.sendMessage("getInlinedCalleesRanges",s),a()]);c=Yo(u);break}case 0:c=await a();break;default:c=[];break}return c.map(u=>new Di(new At(0,u.startOffset+this.codeOffset),new At(0,u.endOffset+this.codeOffset)))}async evaluate(r,n,i){try{return await this.worker.rpc.sendMessage("evaluate",i,{codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},this.worker.getStopId(r))??void 0}catch(o){throw new re(Qe(o.message))}}getMappedLines(r){let n=this.mappedLines.get(r);if(n)return n;let i=(async()=>{try{let o=await this.worker.rpc.sendMessage("getMappedLines",this.moduleId,r);return new Uint32Array(o?.sort((s,a)=>s-a)||[])}catch{return new Uint32Array}})();return this.mappedLines.set(r,i),i}},yse={type:"null",description:"no properties"},gS=class t{constructor(e,r){if(this.type=e.type,this.description=e.description,this.linearMemoryAddress=e.linearMemoryAddress,this.linearMemorySize=e.linearMemoryAddress,e.objectId&&e.hasChildren){let n=e.objectId;this.getChildren=_e(()=>this._getChildren(r,n))}}async _getChildren(e,r){return(await e.sendMessage("getProperties",r)).map(i=>({name:i.name,value:new t(i.value,e)}))}};var fa=Symbol("IScriptSkipper");function NB(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var jB=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),vse=/\?t=[0-9]+$/,bse=t=>t.endsWith(".hot-update.js")||vse.test(t),wse={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},UB=(t,e)=>e instanceof Rt&&e.compiledToSourceUrl.has(t);var qB=2**31-1,ur=class{constructor(e,r,n,i,o,s,a,c,u){this.sourceMapFactory=r;this.logger=n;this.launchConfig=i;this.initializeConfig=o;this.sourcePathResolver=s;this.scriptSkipper=a;this.resourceProvider=c;this.wasmSymbols=u;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new Y;this.onScriptEmitter=new Y;this._sourceByOriginalUrl=new fo(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=Oc();this._sourceMapTimeouts=wse;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in i?i.webRoot:i.rootPath;l&&(this.rootPaths=[l,_n(l,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...i.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),"source"in e&&this.onScriptEmitter.fire(e)}getSourceScriptById(e){return this.scriptsById.get(e)}getScriptById(e){let r=this.scriptsById.get(e);return r&&"source"in r?r:void 0}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,WB.xxHash32)(e)&qB;for(let n=0;n<65535;n++){if(!this._sourceByReference.has(r))return r;r===qB&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,n=4;for(;;){let i=await this._originalPositionFor(e);if(!NB(i)){n=r?void 0:i;break}e=i,r=!0,n=void 0}return{...e,isMapped:r,unmappedReason:n}}async currentSiblingUiLocations(e,r){let n=await this._uiLocations(e);return r?n.filter(i=>i.source===r):n}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof ua&&this.sourceMapFactory.invalidateCache()}async _uiLocations(e){let[r,n]=await Promise.all([this.getSourceMapUiLocations(e),this.getCompiledLocations(e)]);return[...r,e,...n]}async getSourceMapUiLocations(e){let r=await this._originalPositionFor(e);if(!NB(r))return[];let n=await this.getSourceMapUiLocations(r);return n.push(r),n}async _originalPositionFor(e){if(!Jr(e.source))return 1;let r=await Ah.waitForValueWithTimeout(e.source.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!r)return 2;if(this._doSourceMappedStepping)return this._originalPositionForMap(e,r);if(VI(r)){let n=await r.disassembledPositionFor(new Ut(e.lineNumber,e.columnNumber)),i=n&&e.source.sourceMap.sourceByUrl.get(n.url);if(i)return i?{columnNumber:n.position.base1.lineNumber,lineNumber:n.position.base1.lineNumber,source:i}:3}return 0}async _originalPositionForMap(e,r){let n=e.source;if(!Jr(n))return 1;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return 0;let i=await this.getOptiminalOriginalPosition(r,uF(e,n.inlineScriptOffset));if(!i)return 3;let o=n.sourceMap.sourceByUrl.get(i.url);if(!o)return 3;let s=i.position.base1;return{lineNumber:s.lineNumber,columnNumber:s.columnNumber,source:o}}async getCompiledLocations(e){if(!(e.source instanceof Rt))return[];let r=[];for(let[n,i]of e.source.compiledToSourceUrl){let o=await Ah.waitForValueWithTimeout(n.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!o)continue;let s;if("decompiledUrl"in o){let a=await o.compiledPositionFor(i,new Ut(e.lineNumber,e.columnNumber));if(!a)continue;s=a.map(c=>({lineNumber:c.base1.lineNumber,columnNumber:c.base1.columnNumber,source:n}))}else{let a=this.sourceMapFactory.guardSourceMapFn(o,()=>qy(i,e,o),jB);if(!a)continue;let{lineNumber:c,columnNumber:u}=cF({lineNumber:a.line||1,columnNumber:(a.column||0)+1},n.inlineScriptOffset),l={lineNumber:c,columnNumber:u,source:n};s=[l,...await this.getCompiledLocations(l)]}r=r.concat(s)}return r}async getOptiminalOriginalPosition(e,r){if(VI(e))return await e.originalPositionFor(new Ut(r.lineNumber,r.columnNumber));let n=this.sourceMapFactory.guardSourceMapFn(e,()=>{let i=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:Zs});return i.line!==null?i:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:bl})},jB);if(!(n.column===null||n.line===null||n.source===null))return{position:new Ei(n.line,n.column),url:n.source}}async addSource(e,r,n,i,o,s){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let c;return e.scriptLanguage==="WebAssembly"?c=new dv(this,e,a):c=new Wc(this,e.url,a,r,n&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:n,compiledPath:a||e.url})?{sourceMapUrl:n,compiledPath:a||e.url,cacheKey:e.hash}:void 0,i,o,s),this._addSource(c),c}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!UB(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof Rt&&this._sourceMapSourcesByUrl.set(e.url,e);let n=this._sourceByAbsolutePath.get(e.absolutePath);(n===void 0||n.url.length>=e.url.length||UB(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(i=>this._dap.loadedSource({reason:"new",source:i})),Vc(e)?this._finishAddSourceWithSourceMap(e):Gc(e)&&this._finishAddSourceWithWasm(e)}async _finishAddSourceWithWasm(e){let r=await this.wasmSymbols.loadWasmSymbols(e.event),n=[];for(let i of r.files){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i}),s=o?Be(o):i;this.logger.verbose("runtime.sourcecreate","Creating wasm source from source map",{inputUrl:i,absolutePath:o,resolvedUrl:s});let a=o&&Be(o),c=i===r.decompiledUrl?()=>r.getDisassembly():()=>a?this.resourceProvider.fetch(a).then(l=>l.body):Promise.resolve(`Could not read ${i}`),u=new Rt(this,s,o,c);u.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,u),n.push(this._addSource(u))}await Promise.all(n),e.sourceMap.value.resolve(r)}async _finishAddSourceWithSourceMap(e){let r=e.sourceMap.value,n;try{n=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(i){if(this.initializeConfig.clientID==="visualstudio"){let o=e.sourceMap.metadata.sourceMapUrl;try{let s=await this.sourcePathResolver.urlToAbsolutePath({url:o});s&&(e.sourceMap.metadata.sourceMapUrl=Be(s)),n=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:o,originalSourceMapError:hS(i)})}catch{}}if(n===void 0)return this._dap.output({output:Py(e.url,i.message).error.format+`
`,category:"stderr"}),r.resolve(void 0)}if(this._sourceByReference.get(e.sourceReference)!==e)return r.resolve(void 0);this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:n.id,metadata:n.metadata});try{await this._addSourceMapSources(e,n)}finally{r.resolve(n)}this.scriptSkipper.initializeSkippingValueForSource(e)}removeSource(e,r=!1){let n=this._sourceByReference.get(e.sourceReference);if(n!==void 0){if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof Rt){this._sourceMapSourcesByUrl.delete(e.url);for(let[i,o]of e.compiledToSourceUrl)i.sourceMap.sourceByUrl.delete(o)}this._sourceByAbsolutePath.delete(e.absolutePath),Jr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(i=>this._dap.loadedSource({reason:"removed",source:i})),Gc(e)&&e.sourceMap.value.promise.then(i=>i?.dispose()),Jr(e)&&this._removeSourceMapSources(e,r)}}async _addSourceMapSources(e,r){let n=[];for(let i of r.sources){if(i===null)continue;let o=await this.sourcePathResolver.urlToAbsolutePath({url:i,map:r}),s=o?Be(o):r.computedSourceUrl(i),a=this._sourceMapSourcesByUrl.get(s);if(e===a)continue;if(a)if(bse(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:i,sourceMapId:r.id,absolutePath:o,resolvedUrl:s});let c=o&&Be(o),u=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(i),()=>null),l;if(u){let d=El(u);if(d&&(!br(d)&&o?l=ia(o?Be(o):i,d):l=d),o&&l){let m={sourceMapUrl:l,compiledPath:o};this.sourcePathResolver.shouldResolveSourceMap(m)||(l=void 0)}}let p=new Rt(this,s,o,u!==null?()=>Promise.resolve(u):c?()=>this.resourceProvider.fetch(c).then(d=>d.body):()=>e.content(),l?{compiledPath:o||s,sourceMapUrl:l,cacheKey:r.metadata.cacheKey}:void 0,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,p),n.push(this._addSource(p))}await Promise.all(n)}_removeSourceMapSources(e,r){for(let n of e.sourceMap.sourceByUrl.keys()){let i=e.sourceMap.sourceByUrl.get(n);i&&(e.sourceMap.sourceByUrl.delete(n),i.compiledToSourceUrl.delete(e),!i.compiledToSourceUrl.size&&this.removeSource(i,r))}}async waitForSourceMapSources(e){return Jr(e)?[...(await Ah.waitForSources(e.sourceMap)).values()]:[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};ur=D([(0,Jn.injectable)(),b(0,(0,Jn.inject)(nn)),b(1,(0,Jn.inject)(Ho)),b(2,(0,Jn.inject)(ce)),b(3,(0,Jn.inject)(Re)),b(4,(0,Jn.inject)(cn)),b(5,(0,Jn.inject)(nt)),b(6,(0,Jn.inject)(fa)),b(7,(0,Jn.inject)(kc)),b(8,(0,Jn.inject)($v))],ur);var VB=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,GB=500,zB=Symbol("DontCompare");var Yn=class{constructor(e,r,n,i,o,s,a){this.logger=n;this.launchConfig=i;this.conditionFactory=o;this.suggester=s;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new nv;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=Oc();this._byRef=new Map;this.moduleEntryBreakpoints=Oc();this._dap=e,this._sourceContainer=r,a?.onLongParse(()=>e.longPrediction({})),r.onScript(c=>{c.source.then(u=>{let l=this._thread;l&&this._byRef.get(u.sourceReference)?.forEach(p=>p.updateForNewLocations(l,c))})}),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let c of this._byDapId.values())c.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(c,u)=>{if(!n.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[u];for(let d=0;d<p.length;d++)for(let m of p[d]){let f=m.absolutePath,g=f?this._byPath.get(f):void 0;for(let x of g||[])l.push(x.updateForNewLocations(this._thread,c));let y=this._byRef.get(m.sourceReference);for(let x of y||[])l.push(x.updateForNewLocations(this._thread,c));m.sourceMap&&p.push(m.sourceMap.sourceByUrl.values())}return Yo(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],n=this._byRef.get(e.source.sourceReference)||[];return r.concat(n).some(i=>i.originalPosition.columnNumber===e.columnNumber&&i.originalPosition.lineNumber===e.lineNumber)}async moveBreakpoints(e,r,n,i){let o=l=>S$(l,async p=>{let d=await this._sourceContainer.getOptiminalOriginalPosition(n,p.originalPosition);if(!d)return!1;let m=d.position.base1;return p.updateSourceLocation(e,{path:i.absolutePath,sourceReference:i.sourceReference},{lineNumber:m.lineNumber,columnNumber:m.columnNumber,source:i}),!1}),s=r.absolutePath,a=i.absolutePath,c=s?this._byPath.get(s):void 0;if(c&&a){let[l,p]=await o(c);this._byPath.set(s,l),this._byPath.set(a,p)}let u=this._byRef.get(r.sourceReference);if(u){let[l,p]=await o(u);this._byRef.set(r.sourceReference,l),this._byRef.set(i.sourceReference,p)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let n=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(n.map(i=>this.ensureModuleEntryBreakpoint(e,i.source)))}async applyEnabledFilter(e,r=zB){if(r!==zB&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let n=this._thread;n&&await Promise.all([...this._byDapId.values()].map(i=>this._enabledFilter(i)?i.enable(n):i.disable()))}async getBreakpointLocations(e,r,n,i){let o=n.base1,s=i.base1,[a,c]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:o.lineNumber,columnNumber:o.columnNumber}),this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber})]);if(a.length!==c.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let u=[],l=[];for(let p=0;p<a.length;p++){let d=a[p],m=c[p];if(d.source!==m.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let f=d.source;if(!f.scripts.length)continue;let{scriptId:g}=f.scripts[f.scripts.length-1];u.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:g,...f.offsetSourceToScript(ss(d))},end:{scriptId:g,...f.offsetSourceToScript(ss(m))}}).then(y=>{if(y?.locations)return Promise.all(y.locations.map(async x=>{let{lineNumber:E,columnNumber:$=0}=x,L=await this._sourceContainer.currentSiblingUiLocations({source:f,...f.offsetScriptToSource(lF({lineNumber:E,columnNumber:$}))});l.push({breakLocation:x,uiLocations:L})}))}))}return await Promise.all(u),l}setThread(e){this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",r=>{let n=this._resolvedBreakpoints.get(r.breakpointId);n&&n.updateUiLocations(e,r.breakpointId,[r.location])}),this._thread.setSourceMapDisabler(r=>{let n=[];for(let i of r){let o=this._resolvedBreakpoints.get(i);if(o){let s=this._sourceContainer.source(o.source);Jr(s)&&n.push(s)}}return n});for(let r of this._byPath.values())r.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,r[0]?.source);for(let r of this._byRef.values())r.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){ev(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(n=>this._setBreakpoint(new Th(this,n),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){let r=this.launchConfig.perScriptSourcemaps==="yes",n;r?n=Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?n=e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):n=e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler),this._sourceMapHandlerInstalled={entryBpSet:n}}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([De(GB),e.enable(r)]))}async setBreakpoints(e,r){!this._sourceMapHandlerInstalled&&this._thread&&e.breakpoints?.length&&this._installSourceMapHandler(this._thread);let n=await this._sourceMapHandlerInstalled?.entryBpSet;e.source.path=Ii(e.source.path);let i=this._sourceContainer.source(e.source);if(!n&&this._breakpointsPredictor&&!i){let l=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(l),await l}let o=this._thread;if(o?.debuggerReady.hasSettled()===!1){let l=o.debuggerReady.promise;this.addLaunchBlocker(l),await l}let s=l=>{let p={unbound:l.slice(),new:[],list:[]};if(!e.breakpoints)return p;for(let d=0;d<e.breakpoints.length;d++){let m=e.breakpoints[d],f;try{f=new zn(this,r[d],e.source,m,this.conditionFactory.getConditionFor(m))}catch(x){if(!(x instanceof re))throw x;this._dap.output({category:"stderr",output:x.message}),f=new bv(this,r[d],e.source,m)}let g=p.unbound.findIndex(x=>x.equivalentTo(f)),y=p.unbound[g];y?.equivalentTo?.(f)?(p.list.push(y),p.unbound.splice(g,1)):(p.new.push(f),p.list.push(f),this._byDapId.set(f.dapId,f))}return p},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,c=s(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,c.list);else if(e.source.path)this._byPath.set(e.source.path,c.list);else return{breakpoints:[]};if(c.unbound.length===0&&c.new.length===0)return{breakpoints:[]};if(this._totalBreakpointsCount-=c.unbound.length,await Promise.all(c.unbound.map(l=>(this._byDapId.delete(l.dapId),l.disable()))),this._totalBreakpointsCount+=c.new.length,this._thread&&(this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled?this._uninstallSourceMapHandler(this._thread):this._totalBreakpointsCount>0&&!this._sourceMapHandlerInstalled&&this._installSourceMapHandler(this._thread)),o&&c.new.length){this.ensureModuleEntryBreakpoint(o,e.source);let l=a(),p=Promise.all(c.new.filter(this._enabledFilter).filter(d=>l?.includes(d)).map(d=>d.enable(o)));this.addLaunchBlocker(Promise.race([De(GB),p])),await p}let u=await Promise.all(c.list.map(l=>l.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(u),De(0).then(()=>c.new.forEach(l=>l.markSetCompleted())),{breakpoints:u}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let n=await e.toDap();n.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:n})}isEntrypointBreak(e,r){return[...this.moduleEntryBreakpoints.values()].some(i=>i.enabled&&i.cdpScriptIds.has(r))?!0:e.some(i=>{let o=this._resolvedBreakpoints.get(i);return o&&(o instanceof bo||VB(o))})}isEntrypointCdpBreak(e){return this._resolvedBreakpoints.get(e)instanceof bo}async shouldPauseAt(e,r,n,i=!1){if(!r.length)return e.reason!=="instrumentation";let o=0,s=i?1:0;return await Promise.all(r.map(async a=>{if(n?.cdpId===a){o++;return}let c=this._resolvedBreakpoints.get(a);if(c instanceof bo){this.entryBreakpointMode===0&&!(c instanceof Th)&&c.disable(),s++;return}c instanceof zn&&(await c.testHitCondition(e)?o++:s++)})),o>0||s===0}registerBreakpointsHit(e){for(let r of e){let n=this._resolvedBreakpoints.get(r);n instanceof zn&&this._breakpointsStatisticsCalculator.registerBreakpointHit(n.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(VB))return;let i=bo.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(i))return;let o=new bo(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,o),this._setBreakpoint(o,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(n=>n.enable(r)))}}};Yn=D([(0,Io.injectable)(),b(0,(0,Io.inject)(nn)),b(1,(0,Io.inject)(ur)),b(2,(0,Io.inject)(ce)),b(3,(0,Io.inject)(Re)),b(4,(0,Io.inject)(gv)),b(5,(0,Io.inject)(wt)),b(6,(0,Io.inject)(jc))],Yn);var u3=require("crypto"),lp=A(Z());var at=class t{static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},kh=class{constructor(){this._first=at.Undefined;this._last=at.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===at.Undefined}clear(){let e=this._first;for(;e!==at.Undefined;){let r=e.next;e.prev=at.Undefined,e.next=at.Undefined,e=r}this._first=at.Undefined,this._last=at.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new at(e);if(this._first===at.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==at.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==at.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==at.Undefined;){let n=r.next;e(r.element)||this._remove(r),r=n}}_remove(e){if(e.prev!==at.Undefined&&e.next!==at.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===at.Undefined&&e.next===at.Undefined?(this._first=at.Undefined,this._last=at.Undefined):e.next===at.Undefined?(this._last=this._last.prev,this._last.next=at.Undefined):e.prev===at.Undefined&&(this._first=this._first.next,this._first.prev=at.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==at.Undefined;)yield e.element,e=e.next}};var Gv=A(Z()),o3=A(require("net"));var So=class extends re{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Eo(t,e,r){if(e.isCancellationRequested)return Promise.reject(new So(r||"Task cancelled"));let n=qe(),i=e.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new So(r||"Task cancelled")}),t.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}function KB(t,e){let r=new Qt(e),n=t.map(async i=>{try{return await i(r.token)}finally{r.cancel()}});return Promise.race(n)}var XB=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),lr=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),xse=Object.freeze({isCancellationRequested:!0,onCancellationRequested:XB}),Qt=class t{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let n=new t(r),i=n._token=new np,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),n}get token(){return this._token||(this._token=new np),this._token}cancel(){this._token?this._token instanceof np&&this._token.cancel():this._token=xse}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof np&&this._token.dispose():this._token=lr}},np=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?XB:(this._emitter||(this._emitter=new Y),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var jS=A(require("net"));var Oae=A(ZB(),1),Fae=A(CS(),1),Bae=A(TS(),1),QN=A(FS(),1),NS=A(YN(),1);var ZN=QN.default;var e3=(t,e)=>t+Math.floor(Math.random()*(e-t));async function Ha({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:n=r3}={},i=lr){let o=e3(t,e);for(let s=Math.min(r,e-t);;s--)try{return await n(o,i)}catch(a){if(s===0||a instanceof So)throw a;o=o===e-1?t:o+1}}async function t3(t,e){try{return await r3(t,e),!0}catch{return!1}}function r3(t,e=lr){let r;return new Promise((n,i)=>{let o=jS.createServer();o.listen(t,"127.0.0.1",()=>{let s=o.address();o.close(()=>n(s.port))}),o.on("error",i),r=e.onCancellationRequested(()=>{o.close(),i(new So("Port open lookup cancelled"))})}).finally(()=>r?.dispose())}var n3=(t,e)=>(r,n)=>{let i=jS.createServer(t);return i.listen(r,e),Vv(i,n)},i3=t=>(e,r)=>Vv(new NS.default({host:"127.0.0.1",...t,port:e}),r),Vv=(t,e)=>{let r;return new Promise((n,i)=>{t.on("error",i),t.on("listening",()=>n(t)),r=e.onCancellationRequested(()=>{t.close(),i(new So("Port open lookup cancelled"))})}).finally(()=>r?.dispose())};var s3=async(t,e,r,n,i=lr)=>{let o=r?await Vv(o3.createServer(e).listen(r,n),i):await Ha({tester:n3(e,n)},i),s=t.register(o.address().port);return o.on("close",()=>s.dispose()),o.on("error",()=>s.dispose()),o},zv=async(t,e,r)=>{let n=await Ha({tester:i3(e)},r),i=t.register(n.address().port);return n.on("close",()=>i.dispose()),n.on("error",()=>i.dispose()),n},pt=Symbol("IPortLeaseTracker"),cp=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new Y;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):KB([()=>De(r).then(()=>!1),n=>new Promise(i=>{let o=this.onRegistered.event(s=>{s===e&&i(!0)});n.onCancellationRequested(()=>o.dispose())})])}};cp=D([(0,Gv.injectable)(),b(0,(0,Gv.inject)(us))],cp);var a3="JsDebug",c3="*";var US=class{constructor(){this.replays=new Map}addReplay(e,r,n){let i=this.replays.get(e);return i||(i=new kh,this.replays.set(e,i)),i.push({event:`${e}.${r}`,params:n})}capture(e,r,n,i){let o=e[r];if(i===0)o.on(n,s=>this.addReplay(r,n,s));else if(i===2){let s;o.on(n,a=>{s?.(),s=this.addReplay(r,n,a)})}else{let s=new kh;o.on(n,a=>{s.size===i.cap&&s.shift()?.(),s.push(this.addReplay(r,n,a))})}}filter(e,r){let n=this.replays.get(e);n&&n.applyFilter(r)}clearEvent(e,r){let n=`${e}.${r}`;this.filter(e,i=>i.event!==n)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},Kv=Symbol("ICdpProxyProvider"),up=class{constructor(e,r,n){this.cdp=e;this.portTracker=r;this.logger=n;this.disposables=new Ie;this.replay=new US;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let n of r)n.endsWith(c3)?e.pushDisposable(this.cdp.session.onPrefix(n.slice(0,-c3.length),i=>e.send({method:i.method,params:i.params}))):e.pushDisposable(this.cdp.session.on(n,i=>e.send({method:n,params:i})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",i=>{i.font&&this.replay.addReplay("CSS","fontsUpdated",i)}),e.CSS.on("styleSheetRemoved",i=>this.replay.filter("CSS",o=>o.params.styleSheetId!==i.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,n=e.address();return{host:n.address,port:n.port,path:r}}async createServer(){let e=`/${(0,u3.randomBytes)(20).toString("hex")}`,r=await zv(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",n=>{let i=new qS(n,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:i.id}),n.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:i.id}),this.disposables.disposeObject(i)}),n.on("message",async o=>{let s;try{s=JSON.parse(o.toString())}catch(d){return i.send({id:0,error:{code:-32700,message:d.message}})}this.logger.verbose("proxyActivity","received proxy message",s);let{method:a,params:c,id:u=0}=s,[l,p]=a.split(".");try{let d=l===a3?await this.invokeJsDebugDomainMethod(i,p,c):await this.invokeCdpMethod(i,l,p,c);i.send({id:u,result:d})}catch(d){let m=d instanceof Uc&&d.cause?d.cause:{code:0,message:d.message};i.send({id:u,error:m})}})}),{server:r,path:e}}dispose(){this.disposables.dispose(),this.server?.then(e=>e.server.close()),this.server=void 0}invokeCdpMethod(e,r,n,i){let o=this.cdp.session.sendOrDie(`${r}.${n}`,i);switch(n){case"enable":for(let s of this.replay.read(r))e.send({method:s.event,params:s.params});break;case"disable":this.replay.clearDomain(r);break;default:}return o}invokeJsDebugDomainMethod(e,r,n){if(!this.jsDebugApi.hasOwnProperty(r))throw new Uc(r).setCause(-32601,`${a3}.${r} not found`);return this.jsDebugApi[r](e,n)}};up=D([(0,lp.injectable)(),b(0,(0,lp.inject)(vt)),b(1,(0,lp.inject)(pt)),b(2,(0,lp.inject)(ce))],up);var Uae=0,qS=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new Ie;this.id=Uae++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var p3=require("./vendor/acorn-loose.js"),Vh=A(Z());var WS=ar(function(t,e,r){let n=r?"variable":"property",i=(l,p,d)=>{if(p!=="function")return n;if(l==="constructor")return"class";let m=String(d);return m.startsWith("class ")||m.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},o=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},s=[],a=new Set,c="~",u=t===void 0?this:t;for(;u!=null;u=u.__proto__){c+="~";let l=Object.getOwnPropertyNames(u).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let d=Object.getOwnPropertyDescriptor(u,p),m=n,f;try{let g=u[p];m=i(p,typeof d?.value,g),f=o(g)}catch{}s.push({label:p,sortText:c+p.replace(/^_+/,g=>"{".repeat(g.length)),type:m,detail:f})}r=!1}return{result:s,isArray:this instanceof Array}}),l3=Mc(WS.source);var qae=t=>{switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:t.key?.type==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:t.init?.type==="FunctionExpression"||t.init?.type==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function Wae(t){let e=!1;return ra(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,0}}),e}var Xv=Symbol("ICompletions"),pp=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=ho(e.expression),n=new sa(e.expression).convert(e.position),i=()=>Promise.resolve([]);return ra(r,{enter:(o,s)=>{let a=o;if(a.start<n&&n<=a.end){if(o.type==="MemberExpression"||o.type==="Identifier"&&s?.type==="MemberExpression"&&!s.computed&&s.object!==o){let c=o.type==="MemberExpression"?o:s;i=c.computed?()=>this.elementAccessCompleter(e,c,n):()=>this.propertyAccessCompleter(e,c,n)}else o.type==="Identifier"&&(i=()=>this.identifierCompleter(e,r,o,n));s=o}}}),i().then(o=>o.sort((s,a)=>s.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,n){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let i=e.expression.slice(ta(r.property)+1,n);return(await this.defaultCompletions(e,i)).filter(s=>s.sortText!=="~~[").map(s=>({...s,text:JSON.stringify(s.text??s.label)+"]",start:ta(r.property),length:PI(r.property)-ta(r.property)}))}async identifierCompleter(e,r,n,i){let o=[];ra(r,{enter(c){let u=qae(c);u?.id?.type==="Identifier"&&o.push({label:u.id.name,type:u.type,sortText:u.id.name})}});let s=e.expression.slice(ta(n),i),a=[...o,...await this.defaultCompletions(e,s)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&as.startsWith(s)&&a.push({sortText:`~${as}`,label:as,type:"variable"}),a}async propertyAccessCompleter(e,r,n){let{result:i,isArray:o}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:gO(e.expression,r.object),prefix:(0,p3.isDummy)(r.property)?"":e.expression.slice(ta(r.property),n),throwOnSideEffect:Wae(r)}),s=ta(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let c of i)a.test(c.label)||(c.text=`[${JSON.stringify(c.label)}]`,c.start=s,c.length=1);if(o){let c="index";i.unshift({label:`[${c}]`,text:`[${c}]`,type:"property",sortText:"~~[",start:s,selectionStart:1,selectionLength:c.length,length:1})}return i}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:n,prefix:i,isInGlobalScope:o=!1,throwOnSideEffect:s=!1}){let a={expression:`(${n})`,objectGroup:"console",silent:!0,throwOnSideEffect:s},c=r&&r.callFrameId(),u=await this.evaluator.evaluate(c?{...a,callFrameId:c}:{...a,contextId:e},{stackFrame:r});if(!u||u.exceptionDetails)return{result:[],isArray:!1};if(!u.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:l3.expr(`(${n})`,JSON.stringify(i),JSON.stringify(o))},p=await this.evaluator.evaluate(c?{...l,callFrameId:c}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await WS({cdp:this.cdp,args:[void 0,i,o],objectId:u.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:u.result.objectId})}}async defaultCompletions(e,r=""){for(let n of["self","global","this"]){let{result:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:n,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let o=r.toLowerCase(),s=new Set(i.map(a=>a.label));for(let a of await e.stackFrame.completions())s.has(a.label)||!a.label.toLowerCase().includes(o)||(s.add(a.label),i.push(a))}return i.push(...this.syntheticCompletions(e,r)),i}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&as.startsWith(r)?[{sortText:`~${as}`,label:as,type:"variable"}]:[]}};pp=D([(0,Vh.injectable)(),b(0,(0,Vh.inject)(Gn)),b(1,(0,Vh.inject)(vt))],pp);var nb=A(we());var Co=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var R3=A($3());var sce=1e4;function ace(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function n(c){if(!c)return;let u=r[r.length-1];u?.type==="string"?u.value+=c:r.push({type:"string",value:c})}function i(c,u,l){r.push({type:"specifier",specifier:c,precision:u,substitutionIndex:l})}let o=0,s=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let c=a.exec(t);c;c=a.exec(t)){let u=c.index;if(u>o&&n(t.substring(o,u)),c[0]==="%%")n("%");else{let[,l,p,d]=c;l&&Number(l)>0&&(s=Number(l)-1);let m=p?Number(p):void 0;i(d,m,s),++s}o=u+c[0].length}return n(t.substring(o)),r}function XS(t,e,r){let n=ace(t,Array.from(r.keys())),i=new Set,o=r.get("");if(!o)throw new Error("Expected to hav a default formatter");let s=new Co(sce),a=!1;for(let c=0;s.checkBudget()&&c<n.length;++c){let u=n[c];if(u.type==="string"){s.append(u.value);continue}let l=u.substitutionIndex;if(l>=e.length){s.append("%"+(u.precision||"")+u.specifier);continue}i.add(l),u.specifier==="c"&&(a=!0);let p=r.get(u.specifier)||o;s.append(p(e[l],{budget:s.budget(),quoted:!1}))}a&&s.append("\x1B[0m");for(let c=0;s.checkBudget()&&c<e.length;++c)i.has(c)||(i.add(c),(t||c)&&s.append(" "),s.append(o(e[c],{budget:s.budget(),quoted:!1})));return{result:s.build(),usedAllSubs:i.size===e.length}}function k3(t){try{return new R3.default(t).ansi256().object().ansi256}catch{}}function M3(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",n=e.exec(t);for(;n!==null;){if(n.length===3)switch(n[1]){case"color":let i=k3(n[2]);i&&(r+=`\x1B[38;5;${i}m`);break;case"background":case"background-color":let o=k3(n[2]);o&&(r+=`\x1B[48;5;${o}m`);break;case"font-weight":n[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":n[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":n[2]==="underline"&&(r+="\x1B[4m");break;default:}n=e.exec(t)}return r}var F3=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),uce={budget:1e5,quoted:!0},O3={budget:1e3,quoted:!0,postProcess:F3},lce={budget:1/0,quoted:!1},pce={budget:1e3,quoted:!0,postProcess:F3},dce={budget:1e5,quoted:!0},eb=t=>{switch(t){case"repl":return uce;case"hover":return O3;case"propertyValue":return O3;case"watch":return pce;case"copy":case"clipboard":return lce;default:return dce}};var fce=30,hce=100,JS=20,mce=1e4,gce=3,B3=120,YS=new Set(["null","regexp","date"]);function tu(t){return t.type==="function"||t.type==="object"&&!YS.has(t.subtype)}function QS(t){return t.subtype==="array"||t.subtype==="typedarray"}function ru(t,e,r){let n=eb(e),i=tb(t,n,r);return t.preview?.subtype==="regexp"?i:n.postProcess?.(i)??i}function tb(t,e,r){return t.type==="function"?t.description?q3(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?rb(t.preview,e.budget,r):U3(t,e.budget,e.quoted,r)}function rb(t,e,r){return QS(t)?Hce(t,e):t.subtype==="internal#entry"?mo(t.description||"",e):t.type==="function"?q3(t.description,e):tu(t)?yce(t,e,r):bce(t,e,r)}function Hce(t,e){let r=new Co(e),n=t.description,i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;let o=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring(5)),r.append(mo(n,r.budget())),r.append(" ");let s=new Co(r.budget()-2,", "),a=-1;for(let c of t.properties){if(!s.checkBudget())break;if(isNaN(c.name))continue;let u=parseInt(c.name,10);u>a+1&&s.appendEllipsis(),a=u,s.append(Xh(c,s.budget()))}o>a+1&&s.appendEllipsis();for(let c of t.properties){if(!s.checkBudget())break;isNaN(c.name)&&s.append(Xh(c,s.budget(),c.name))}return t.overflow&&s.appendEllipsis(),r.append("["+s.build()+"]"),r.build()}function yce(t,e,r){let n=new Co(e," ");t.description!=="Object"&&n.append(mo(t.description,n.budget()));let i=new Map,o=t.properties||[];for(let d of o)i.set(d.name,d);let s=i.get("[[PrimitiveValue]]");if(s)return n.append(`(${Xh(s,n.budget()-2)})`),n.build();let a=i.get("[[PromiseStatus]]"),c=i.get("[[PromiseValue]]");if(a&&c)return a.value==="pending"?n.append(`{<${a.value}>}`):n.append(`{${Xh(c,n.budget()-2,`<${a.value}>`)}}`),n.build();let u=i.get("[[GeneratorStatus]]");if(u)return n.append(`{<${u.value}>}`),n.build();let l=new Co(n.budget()-2,", ");for(let d of o){if(!l.checkBudget())break;l.append(Xh(d,l.budget(),d.name))}for(let d of t.entries||[]){if(!l.checkBudget())break;if(d.key){let m=rb(d.key,Math.min(JS,l.budget()),r),f=rb(d.value,Math.min(JS,l.budget()-m.length-4),r);l.append(hp(m," => ",f,l.budget()))}else l.append(rb(d.value,Math.min(JS,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?n.append("{"+p+"}"):n.isEmpty()&&n.append("{}"),n.build()}function N3(t,e){return t.length<=e?t:"\u2026"}function vce(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function bce(t,e,r){if(t.type==="object"&&t.subtype==="null")return N3("null",e);if(t.type==="undefined")return N3("undefined",e);if(t.type==="string"){let n=t.description??t.value;return r?.hex&&(n=Buffer.from(n,"utf8").toString("hex")),Dl(n,e)}return t.type==="number"||t.type==="bigint"?Jh(t,!1,e,r):vce(t.description||"",e)}function hp(t,e,r,n){return t===void 0?Dl(r,n):t.length+e.length>n?mo(t,n):`${t}${e}${Dl(r,n-t.length-e.length)}`}function Xh(t,e,r){return e=Math.min(e,hce),t.type==="function"?hp(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?hp(r,": ","{\u2026}",e):typeof t.value>"u"?hp(r,": ",`<${t.type}>`,e):t.type==="string"?hp(r,": ",`'${t.value}'`,e):hp(r,": ",t.value??"unknown",e)}function U3(t,e,r,n){if(t.type==="string"){let i=t.value||(t.description?t.description:"");n?.hex&&(i=Buffer.from(i,"utf8").toString("hex"),r=!1);let o=Dl(i,r?e-2:e);return r?`'${o}'`:o}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?Jh(t,!1,e,n):t.description?mo(t.description,Math.max(e,1e5)):mo(String("value"in t?t.value:t.description),e)}function q3(t,e){let r=new Co(e),n=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),o=n.startsWith("function*"),s=n.startsWith("*"),a=!o&&n.startsWith("function"),c=n.startsWith("class ")||n.startsWith("class{"),u=n.indexOf("=>"),l=!i&&!o&&!a&&!c&&u>0,p;if(c){p=n.substring(5);let f=/^[^{\s]+/.exec(p.trim()),g="";f&&(g=f[0].trim()||""),m("class",p,g)}else if(i)p=n.substring(i[1].length),m("async \u0192",p,d(p));else if(o)p=n.substring(9),m("\u0192*",p,d(p));else if(s)p=n.substring(1),m("\u0192*",p,d(p));else if(a)p=n.substring(8),m("\u0192",p,d(p));else if(l){let f=n;n.length>fce&&(f=n.substring(0,u+2)+" {\u2026}"),m("",n,f)}else m("\u0192",n,d(n));return r.build();function d(f){let g=f.indexOf("("),y=f.match(/\)\s*{/),x=y&&y.index||0;if(g!==-1&&y&&x>g){let E=f.substring(0,g).trim()||"",$=f.substring(g,x+1);return E+$}return"()"}function m(f,g,y){r.checkBudget()&&(f.length&&r.append(f+" "),g=g.trim(),g.endsWith(" { [native code] }")&&(g=g.substring(0,g.length-18)),r.budget()>=g.length?r.append(g):r.append(y.replace(/\n/g," ")))}}function nu(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:U3(e,mce,!1,void 0)};let r=e.description??e.className??"Error",n=/^\s+at\s/m.exec(r);if(!n){let i=r.lastIndexOf(`
`);return i===-1?{title:r}:{title:r.substring(0,i)}}return{title:r.substring(0,n.index-1),stackTrace:r.substring(n.index+2)}}function Jh(t,e,r,n){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let s=t.value||+t.description;return n?.hex?s.toString(16):String(s)}if(t.type==="bigint"){let s=t.unserializableValue||t.description;return n?.hex?BigInt(s.slice(0,-1)).toString(16):s}let i=t,o=typeof i.value=="number"?i.value:+String(i.description);return mo(String(e?Math.floor(o):o),r)}function wce(t,e){return Dl(String(typeof t.value<"u"?t.value:t.description),e)}function W3(t){let e=[],r=new Set([void 0]),n=new Map;for(let l of t.properties.filter(p=>p.valuePreview)){let p=new Map;p.set(void 0,l.name),n.set(void 0,Math.max(n.get(void 0)||0,l.name.length)),e.push(p),l.valuePreview?.properties.map(d=>{d.value&&(r.add(d.name),p.set(d.name,d.value),n.set(d.name,Math.max(n.get(d.name)||0,d.value.length)))})}for(let l of r.values())l&&n.set(l,Math.max(n.get(l)||0,l.length));let i=Array.from(n.values()).reduce((l,p)=>l+p,0),o=B3-4-(r.size-1)*3;if(i>o){let l=o/i;for(let p of n.keys()){let d=Math.max(gce,n.get(p)*l|0);n.set(p,d)}}let s=[];for(let l of r.values())s.push("-".repeat(n.get(l)));let a="[-"+s.join("-|-")+"-]",c=[];c.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let u=[];for(let l of r.values())u.push(j3(l||"",n.get(l)));c.push("\u250A "+u.join(" \u250A ")+" \u250A"),c.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let l of e){let p=[];for(let d of r.values())p.push(j3(l.get(d)||"",n.get(d)));c.push("\u250A "+p.join(" \u250A ")+" \u250A")}return c.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),c.map(l=>mo(l,B3)).join(`
`)}var ZS=new Map([["",(t,e)=>tb(t,e)],["s",(t,e)=>wce(t,e.budget)],["i",(t,e)=>Jh(t,!0,e.budget,void 0)],["d",(t,e)=>Jh(t,!0,e.budget,void 0)],["f",(t,e)=>Jh(t,!1,e.budget,void 0)],["c",t=>M3(t.value)],["o",(t,e)=>tb(t,e)],["O",(t,e)=>tb(t,e)]]);function j3(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):mo(t,e)}var G3=ar(function(){return this});var ib=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:nb.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:nb.t("Could not query the provided object")};let n;try{n=await G3({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(s){return{category:"stderr",output:nb.t(s.message)}}let i="\x1B[32mobjects: "+ru(n,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(i,[n]).id}}};var z3=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,K3=/^(\W*at )(.*):(\d+):(\d+)$/,va=class{constructor(e){this.stack=e}static isStackLike(e){return z3.test(e)||K3.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=z3.exec(e)||K3.exec(e);if(!r){yield e+`
`;continue}let[,n,i,o,s,a]=r;n&&(yield n),yield new eE(i,new Ut(Number(o),Number(s))),a&&(yield a),yield`
`}}},eE=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var pn=A(we());var Yh=A(Z());async function tE(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:Jr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var xce=new Set(["breakpoint","exception","entry"]),_ce=256,ba=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||xce.has(e.reason))return;let n=(await e.stackTrace.loadFrames(1)).find(Ic(jr));if((n&&await tE(n))===0){this.resetSmartStepCount();return}return this._smartStepCount++>_ce?2:r?.reason==="step"?r.direction:0}};ba=D([(0,Yh.injectable)(),b(0,(0,Yh.inject)(Re)),b(1,(0,Yh.inject)(ce))],ba);var X3=ar(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),J3=Mc(function(t,e){let r={},n="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[i,o]of Object.entries(this)){if(e)try{let s=e.call(o,n);if(s!==n){r[i]=String(s);continue}}catch(s){r[i]=`<<indescribable>>${JSON.stringify([String(s),i])}`;continue}if(typeof o=="object"&&o){let s;for(let a of runtimeArgs[0])if(typeof o[a]=="function")try{s=o[a]();break}catch{}!s&&!String(o.toString).includes("[native code]")&&(s=String(o)),s&&!s.startsWith("[object ")&&(r[i]=s.length>=t?s.slice(0,t)+"\u2026":s)}}return r}),ob=Mc(function(t,e){if(e)try{let r="<<default preview>>",n=e.call(this,r);if(n!==r)return String(n)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this){let r;for(let n of[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")])if(typeof this[n]=="function")try{r=this[n]();break}catch{}if(!r&&!String(this.toString).includes("[native code]")&&(r=String(this)),r&&!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var Ne=A(we()),lj=require("crypto");var Qn=class t{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new t().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],n=this.value[0]-e.value[0];return r<0&&(r+=1e9,n--),new t([n,r])}};var mp=class{constructor(e,r,n,i,o,s){this.launchConfig=e;this.targetInfo=r;this.parentTarget=n;this.targetOriginValue=i;this.cdp=o;this.logger=s;this.onNameChanged=new Y().event;this.attached=!1;this.isWaitingForDebugger=!0;o.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Be(e):e}executionContextName(){return this.targetInfo.title}};var dt=A(we()),sb=new Map;function gp(){if(sb.size)return sb;function t(o,s){for(let a of s)a.group=o,sb.set(a.id,a)}function e(o,s){let a=s||o;return{id:"instrumentation:"+o,title:a,group:"",details:c=>{if(o==="webglErrorFired"){let u=c.webglErrorName;return u=u.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:u,long:dt.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',u)}}return o==="scriptBlockedByCSP"&&c.directiveText?{short:dt.t('CSP violation "{0}"',c.directiveText),long:dt.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',c.directiveText)}:{short:a,long:dt.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(c,u)=>(u?await c.EventBreakpoints.setInstrumentationBreakpoint({eventName:o}):await c.EventBreakpoints.removeInstrumentationBreakpoint({eventName:o}))?!0:!!(u?await c.DOMDebugger.setInstrumentationBreakpoint({eventName:o}):await c.DOMDebugger.removeInstrumentationBreakpoint({eventName:o}))}}function r(o,s,a){let c=s===void 0?"*":typeof s=="string"?[s]:s;return{id:"listener:"+o,title:a||o,group:"",details:u=>{let l=(u.targetName||"*").toLowerCase();return{short:l+"."+o,long:dt.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',o,l)}},apply:async(u,l)=>{let p=!0;for(let d of c)l?p=p&&!!await u.DOMDebugger.setEventListenerBreakpoint({eventName:o,targetName:d}):p=p&&!!await u.DOMDebugger.removeEventListenerBreakpoint({eventName:o,targetName:d});return p}}}t("Ad Auction Worklet",[e("beforeBidderWorkletBiddingStart",dt.t("Bidder Bidding Phase Start")),e("beforeBidderWorkletReportingStart",dt.t("Bidder Reporting Phase Start")),e("beforeSellerWorkletScoringStart",dt.t("Seller Scoring Phase Start")),e("beforeSellerWorkletReportingStart",dt.t("Seller Reporting Phase Start"))]),t("Animation",[e("requestAnimationFrame",dt.t("Request Animation Frame")),e("cancelAnimationFrame",dt.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",dt.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",dt.t("Create canvas context")),e("webglErrorFired",dt.t("WebGL Error Fired")),e("webglWarningFired",dt.t("WebGL Warning Fired"))]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("scrollend"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / Drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate"),r("navigate"),r("navigatesuccess"),r("navigateerror"),r("currentchange"),r("nagivateto"),r("navigatefrom"),r("finish"),r("dispose")]);let n=["audio","video"];t("Media",[r("play",n),r("pause",n),r("playing",n),r("canplay",n),r("canplaythrough",n),r("seeking",n),r("seeked",n),r("timeupdate",n),r("ended",n),r("ratechange",n),r("durationchange",n),r("volumechange",n),r("loadstart",n),r("progress",n),r("suspend",n),r("abort",n),r("error",n),r("emptied",n),r("stalled",n),r("loadedmetadata",n),r("loadeddata",n),r("waiting",n)]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",dt.t("Set innerHTML")),e("Document.write","document.write")]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow"),r("enter","documentPictureInPicture")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture"),r("pointerrawupdate")]),t("Script",[e("scriptFirstStatement",dt.t("Script First Statement")),e("scriptBlockedByCSP",dt.t("Script Blocked by Content Security Policy"))]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",dt.t("setTimeout fired")),e("setInterval.callback",dt.t("setInterval fired"))]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("WebAudio",[e("audioContextCreated",dt.t("Create AudioContext")),e("audioContextClosed",dt.t("Close AudioContext")),e("audioContextResumed",dt.t("Resume AudioContext")),e("audioContextSuspended",dt.t("Suspend AudioContext"))]),t("Window",[e("DOMWindow.close","window.close")]),t("Worker",[r("message"),r("messageerror")]);let i=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",i),r("load",i),r("loadstart",i),r("loadend",i),r("abort",i),r("error",i),r("progress",i),r("timeout",i)]),sb}var rE=Mc(function(t,e){let r=" ".repeat(e),n=`
`;function i(s){if(s instanceof Uint8Array)return Uint8Array;if(s instanceof Uint8ClampedArray)return Uint8ClampedArray;if(s instanceof Uint16Array)return Uint16Array;if(s instanceof Uint32Array)return Uint32Array;if(s instanceof BigUint64Array)return BigUint64Array;if(s instanceof Int8Array)return Int8Array;if(s instanceof Int32Array)return Int32Array;if(s instanceof BigInt64Array)return BigInt64Array;if(s instanceof Float32Array)return Float32Array;if(s instanceof Float64Array)return Float64Array}function o(s,a=0,c=[]){switch(typeof s){case"bigint":return`${s}n`;case"boolean":return s.toString();case"function":{let p=s.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),d=/^$/;for(let m of p){let f=/^[ \t]+/.exec(m);if(f){d=new RegExp(`^[ \\t]{0,${f[0].length}}`);break}}return p.map((m,f)=>f===0?m:(m=m.replace(d,""),f===p.length-1?r.repeat(a)+m:r.repeat(a+1)+m)).join(n)}case"number":return`${s}`;case"object":if(s===null)return"null";if(c.includes(s))return"[Circular]";if(s instanceof Date)return`"${s.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let u=i(s);if(u)return`new ${u.name}([${s.join(", ")}])`;if(s instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(s).join(", ")}]).buffer`;if(s instanceof Array)return["[",...s.map(p=>r.repeat(a+1)+o(p,a+1,[...c,s])+","),r.repeat(a)+"]"].join(n);let l=s;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+o(l[p],a+1,[...c,s])+","),r.repeat(a)+"}"].join(n);case"string":return JSON.stringify(s);case"symbol":return s.toString();case"undefined":return"undefined";default:return String(s)}}try{return o(t)}catch{return""+t}}),Y3=ar(`
  function(spaces2) {
    const result = ${rE.expr("this","spaces2")};
    return result;
  }
`);var Pi=A(we());var iu=A(Z());var Q3=ar(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let n=e[r],i=n>>>0;if(String(i>>>0)===n&&i>>>0!==4294967295)continue;let o=Object.getOwnPropertyDescriptor(this,n);o&&Object.defineProperty(t,n,o)}return t});var Z3=ar(function(t,e){let r={},n=t===-1?0:t,i=e===-1?this.length:t+e;for(let o=n;o<i&&o<this.length;++o){let s=Object.getOwnPropertyDescriptor(this,o);s&&Object.defineProperty(r,o,s)}return r});var ej=ar(function(t){return t.call(this)});var nE=ar(function(t,e){let{buffer:r,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=i+Math.min(t,n),s=Math.max(0,Math.min(e,n-t));return a(new Uint8Array(r,o,s));function a(c){let u="0123456789abcdef",l="";for(let p=0;p<c.length;p++){let d=c[p];l+=u[d>>>4]+u[d&15]}return l}});var iE=ar(function(t,e){let r=c(e),{buffer:n,byteLength:i,byteOffset:o}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=o+Math.min(t,i),a=Math.max(0,Math.min(r.length,i-t));return new Uint8Array(n,s,a).set(r.subarray(0,a)),a;function c(u){let l=new Uint8Array(u.length>>>1);for(let p=0;p<u.length;p+=2)l[p>>>1]=parseInt(u.slice(p,p+2),16);return l}});var tm=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),gE=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},Ice=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var sj=1024,Sce=/^[$a-z_][0-9a-z_$]*$/i,Ece=/^#[0-9a-z_$]+$/i,Dce=t=>t.hasOwnProperty("configurable"),tj=(t,e,r)=>{let n=HO(t,By(e),r);return is(n)},rj="<<indescribable>>",aj=t=>{if(!t.startsWith(rj))return t;let e,r;try{[e,r]=JSON.parse(t.slice(rj.length))}catch{return t}return Pi.t("{0} (couldn't describe: {1})",e,r)},oE=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,nj={PARAMETER:{name:Pi.t("Parameters"),sortOrder:-10},LOCAL:{name:Pi.t("Locals"),sortOrder:-9},GLOBAL:{name:Pi.t("Globals"),sortOrder:-8}},Qh=class t{constructor(e,r,n,i,o,s,a){this.cdp=e;this.parent=r;this.vars=i;this.locationProvider=o;this.currentRef=s;this.settings=a;this.name=n.name,this.presentationHint=n.presentationHint,this.sortOrder=n.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...n){let i=new e(new t(this.cdp,this.currentRef?.(),r,this.vars,this.locationProvider,()=>i,this.settings),...n);return i.id>0&&this.vars.add(i),i}createVariableByType(e,r,n){if(QS(r))return this.createVariable(ub,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(lE,e,r,n);if(!YS.has(r.subtype))return this.createVariable(Zh,e,r,n)}return this.createVariable(Zn,e,r)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=X3({cdp:this.cdp,args:[],objectId:e}).then(r=>({objectId:r.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,r){let n=[];if(this.settings.customPropertiesGenerator){let{result:u,errorDescription:l}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);u&&u.type!=="undefined"?e=u:n.push([this.createVariable(uE,{name:"",sortOrder:-1},u,u?.description||l||Pi.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[i,o,s]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:J3.decl(`${sj}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(u=>u?.result.value||{}).catch(()=>({}))]);if(!i||!o)return[];let a=new Map,c=[];for(let u of i.result){if(u.symbol){c.push(u);continue}u.name==="__proto__"&&o.internalProperties?.some(l=>l.name==="[[Prototype]]")||a.set(u.name,u)}for(let u of o.result)u.get||u.set||(u.symbol?c.push(u):a.set(u.name,u));for(let u of[a.values(),c.values()])for(let l of u)n.push(this.createPropertyVar(l,e,s?.hasOwnProperty(l.name)?aj(s[l.name]):void 0));for(let u of o.privateProperties??[])n.push(this.createPropertyVar(u,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let u of o.internalProperties||[]){if(u.name==="[[StableObjectId]]")continue;let l;u.name==="[[FunctionLocation]]"&&u.value&&u.value.subtype==="internal#location"?l=this.createVariable(cE,{name:u.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},u.value):u.value!==void 0&&(l=this.createVariableByType({name:u.name,presentationHint:{visibility:"internal"},sortOrder:2},u.value)),l&&n.push([l])}return Yo(await Promise.all(n))}async createPropertyVar(e,r,n,i){let o=[],s=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",c={name:e.name,presentationHint:{},sortOrder:0,...i};return i||(Dce(e)?(e.enumerable===!1&&!s&&(c.presentationHint.visibility="internal",c.sortOrder=1),(e.writable===!1||s&&!a)&&(c.presentationHint.attributes=["readOnly"])):(c.presentationHint.visibility="private",c.sortOrder=1)),"value"in e&&e.value&&o.push(this.createVariableByType(c,e.value,n)),s?o.push(this.createVariable(fE,c,e.get,r)):a&&o.push(this.createVariable(dE,c,e.set)),o}async evaluateCodeForObject(e,r,n){try{let i=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:n.map(gE)});if(i){if(i.exceptionDetails===void 0)return{result:i.result};if(i&&i.result.description)return{errorDescription:i.result.description}}return{errorDescription:Pi.t("Unknown error")}}catch(i){return{errorDescription:i.stack||i.message||String(i)}}}},Cce=t=>typeof t=="number"||/^[0-9]+$/.test(t),Zn=class t{constructor(e,r){this.context=e;this.remoteObject=r;this.id=tm()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(e instanceof em)return e.accessor;if(!(e instanceof t))return this.context.name;let n=e.context.parent;if(n instanceof t){if(this.remoteObject.subtype==="internal#entry")return`[...${n.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return Cce(r)?`${e.accessor}[${r}]`:Sce.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&Ece.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let n=this.context.name;return this.context.parent instanceof Hp&&(n=await this.context.parent.getRename(n)),Promise.resolve({name:n,value:ru(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let n=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${yt()} }`,arguments:[gE(e)],silent:!0});if(!n)throw new re(Qe(Pi.t("Unable to set variable value")));if(n.exceptionDetails)throw new re(cj(n.exceptionDetails));return this.context.createVariableByType({name:e},n.result)}async getChildren(e){return Promise.resolve([])}},ab=class{constructor(e){this.child=e;this.id=tm()}getChildren(){return Promise.resolve([this.child])}},sE=class extends Zn{constructor(r,n,i,o){super(r,{type:i[0]?.type??"string"});this.value=n;this.args=i;this.stackTrace=o}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(tu)?this.id:0})}getChildren(r){let n=[],{args:i,stackTrace:o}=this;for(let s=0;s<i.length;++s)tu(i[s])&&n.push(this.context.createVariableByType({name:`arg${s}`,sortOrder:s},i[s]));return o&&n.push(this.context.createVariable(aE,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,o)),Promise.resolve(n)}},aE=class extends Zn{constructor(r,n,i){super(r,n);this.stacktrace=i}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},cE=class extends Zn{constructor(r,n){super(r,n);this.location=n.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},uE=class extends Zn{constructor(r,n,i){super(r,n);this.message=i}get accessor(){if(!(this.context.parent instanceof Zn))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},cb=Symbol("NoStringRepr"),Zh=class extends Zn{constructor(r,n,i){super(r,n);this.customStringRepr=i}async toDap(r,n){let[i,o]=await Promise.all([await super.toDap(r,n),await this.getValueRepresentation(r)]);return{...i,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:Ice.has(this.remoteObject.subtype)?String(this.id):void 0,value:o}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==cb)try{let n=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:ob.decl(`${sj}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(n?.result.value)return this.customStringRepr=aj(n.result.value)}catch{this.customStringRepr=cb}return this.context.name==="__proto__"&&this.remoteObject.description||ru(this.remoteObject,r)}async readMemory(r,n){let i=await nE({cdp:this.context.cdp,args:[r,n],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(i.value,"hex")}async writeMemory(r,n){return(await iE({cdp:this.context.cdp,args:[r,n.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},ij="[[Entries]]",lE=class extends Zh{constructor(r,n){super(r,n,cb);this.baseChildren=_e(()=>super.getChildren({variablesReference:this.id}));this.isMap=n.subtype==="map";let i=n.preview;this.size=Number(i?.properties.find(o=>o.name==="size")?.value)??void 0}async toDap(r){let n=await super.toDap(r);return this.size&&this.size>100&&(n.indexedVariables=this.size),n}async getChildren(r){let n=await this.baseChildren();return[...(await n.find(o=>o.name===ij)?.getChildren(r)||[]).filter(o=>o.sortOrder===0),...n.filter(o=>o.name!==ij)]}},ub=class extends Zh{constructor(r,n){super(r,n,cb);this.length=0;let i=String(n.description).match(/\(([0-9]+)\)/);this.length=i?+i[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r?.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Yo)}}async getArrayProperties(){try{let r=await Q3({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let n=r&&typeof r.start<"u"?r.start:-1,i=r&&typeof r.count<"u"?r.count:-1,o;try{o=await Z3({cdp:this.context.cdp,generatePreview:!1,args:[n,i],objectId:this.remoteObject.objectId})}catch{return[]}let s=await this.context.createObjectPropertyVars(o);return o.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:o.objectId}),s}},pE=class extends ub{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:W3(this.remoteObject.preview)}:super.toDap(e)}},em=class extends Zn{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},dE=class extends em{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},fE=class extends em{constructor(r,n,i){super(r,n);this.parentObject=i}async toDap(r,n){let i=await super.toDap(r,n);return i.variablesReference=this.id,i.presentationHint={...i.presentationHint,lazy:!0},i}async getChildren(r){try{let n=await ej({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new gh(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},n)]}catch(n){if(!(n instanceof Rc))throw n}return super.getChildren(r)}},lb=class t{constructor(e,r,n){this.context=e;this.variable=r;this.scopeRef=n;this.id=tm();this.sortOrder=0}static{this.presentationHint={attributes:["readOnly"]}}toDap(){return Promise.resolve({name:this.context.name,value:this.variable.description||"",variablesReference:this.variable.getChildren?this.id:0,memoryReference:this.variable.linearMemoryAddress?String(this.id):void 0,presentationHint:this.context.presentationHint})}async getChildren(){return(await this.variable.getChildren?.()||[]).map(r=>this.context.createVariable(t,{name:r.name,presentationHint:t.presentationHint},r.value,this.scopeRef))}async readMemory(e,r){let n=this.variable.linearMemoryAddress;if(n===void 0)return;let i=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${nE.source}).call(memories[0].buffer, ${+n+e}, ${+r}) ${yt()}`,returnByValue:!0});if(!i)throw new Rc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});return Buffer.from(i.result.value,"hex")}async writeMemory(e,r){let n=this.variable.linearMemoryAddress;return n===void 0?0:(await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${iE.source}).call(memories[0].buffer, ${+n+e}, ${JSON.stringify(r.toString("hex"))}) ${yt()}`,returnByValue:!0}))?.result.value||0}},hE=class{constructor(e,r,n,i){this.context=e;this.kind=r;this.variables=n;this.scopeRef=i;this.id=tm();this.sortOrder=nj[this.kind]?.sortOrder||0}toDap(){return Promise.resolve({name:nj[this.kind]?.name||this.kind,value:"",variablesReference:this.id})}getChildren(){return Promise.all(this.variables.map(async e=>{let r=await e.evaluate();return this.context.createVariable(lb,{name:e.name,presentationHint:lb.presentationHint},r,this.scopeRef)}))}},Hp=class{constructor(e,r,n,i,o){this.remoteObject=e;this.context=r;this.ref=n;this.extraProperties=i;this.renameProvider=o;this.id=tm()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),n=new Set(r.map(i=>i.name));for(let i of this.extraProperties)n.has(i.name)||r.push(this.context.createVariableByType({name:i.name},i.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let n=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${yt()}`,callFrameId:this.ref.callFrameId});if(!n)throw new re(et(Pi.t("Invalid expression")));if(n.exceptionDetails)throw new re(cj(n.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:gE(n.result)}),this.context.createVariableByType({name:e},n.result)}},mE=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},wa=class{constructor(e,r,n,i,o){this.renameProvider=e;this.cdp=r;this.dap=n;this.launchConfig=i;this.locationProvider=o;this.vars=new mE;this.contextSettings={customDescriptionGenerator:i.customDescriptionGenerator&&tj(["defaultValue"],i.customDescriptionGenerator,!1),customPropertiesGenerator:i.customPropertiesGenerator&&tj([],i.customPropertiesGenerator,!1)}}createDetached(){return new wa(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,n,i){let o=this.createFloatingContext(),s=r.length===1&&i==="table"?o.createVariable(pE,{name:""},r[0]):r.length===1&&tu(r[0])&&!n?o.createVariableByType({name:""},r[0]):o.createVariable(sE,{name:""},e,r,n),a=new ab(s);return this.vars.add(a),a}createScope(e,r,n){let i=new Hp(e,new Qh(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),r,n,this.renameProvider);return this.vars.add(i),i}createWasmScope(e,r,n){let i=new hE(new Qh(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),e,r,n);return this.vars.add(i),i}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return oE(this.vars.get(Number(e)))}async readMemory(e,r,n){let i=this.vars.get(Number(e));return oE(i)?i.readMemory(r,n):void 0}async writeMemory(e,r,n){let i=this.vars.get(Number(e)),o=oE(i)?await i.writeMemory(r,n):0;return o>0&&this.dap.invalidated({areas:["variables"]}),o}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(Ic(Zn)).map(i=>i.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let n=await r.getChildren(e);return(await Promise.all(n.map(o=>o.toDap(r instanceof Hp||r instanceof ab?"repl":"propertyValue",e.format).then(s=>({v:o,dap:s}))))).sort((o,s)=>o.v.sortOrder-s.v.sortOrder||+o.dap.name-+s.dap.name||o.dap.name.localeCompare(s.dap.name)).map(o=>o.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new re(et(Pi.t("Cannot set an empty value")));if(r instanceof Hp||r instanceof Zn)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new re(Qe(Pi.t("Variable not found")))}createFloatingContext(){return new Qh(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};wa=D([(0,iu.injectable)(),b(0,(0,iu.inject)(la)),b(1,(0,iu.inject)(vt)),b(2,(0,iu.inject)(nn)),b(3,(0,iu.inject)(Re))],wa);function cj(t){let e=t.exception&&nu(t.exception).title||t.text;return et(e)}var pb=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let n=await r.source;n.filterScripts(i=>i.executionContextId!==this.description.id),n.scripts.length||e.removeSource(n)}))}},HE=class{constructor(e){this._obj=e;this._dapDeferred=qe()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},Tce=50,uj=(t,e)=>t.sourceReference===e.sourceReference&&Yy(t.path||"",e.path||""),Lce=()=>`
//# sourceURL=eval-${(0,lj.randomBytes)(4).toString("hex")}.repl
`,yE=class{enqueue(e,r){if(!this.queue||this.queue.operation!==e){let n=this.queue?.result.then(r,r)??r(),i=this.queue={operation:e,result:n.finally(()=>{this.queue===i&&(this.queue=void 0)})}}return this.queue.result}};var yp=class t{constructor(e,r,n,i,o,s,a,c,u,l,p,d,m,f){this.target=i;this.logger=s;this.evaluator=a;this.completer=c;this.launchConfig=u;this._breakpointManager=l;this.console=p;this.exceptionPause=d;this._smartStepper=m;this.shutdown=f;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new yE;this._onPausedEmitter=new Y;this.disposed=!1;this.debuggerReady=qe();this.onPaused=this._onPausedEmitter.event;this._dap=new HE(n),this._sourceContainer=e,this._cdp=r,this.id=t._lastThreadId++,this.replVariables=new wa(o,this._cdp,n,u,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}static{this._lastThreadId=0}static{this._allThreadsByDebuggerId=new Map}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Qe(Ne.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Qe(Ne.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>{this._expectedPauseReason={reason:"step",direction:1};let e=await this.getCurrentSkipList(1);return await this._cdp.Debugger.stepOver({skipList:e})?{}:Qe(Ne.t("Unable to step next"))})}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=this._pausedDetails?.stepInTargets?.[e];if(r){let n=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=n?.breakpointId,await this._cdp.Debugger.resume({}))return{}}else{let n=await this.getCurrentSkipList(0);if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0,skipList:n}))return{}}return Qe(Ne.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Qe(Ne.t("Unable to step out"))))}async getCurrentSkipList(e){if(!this._pausedDetails)return;let[r]=await this._pausedDetails.stackTrace.loadFrames(1);if(!r||!pj(r))return;let n=await r.getStepSkipList(e);if(n)return Di.simplify(n).map(i=>({start:i.begin.base0,end:i.end.base0,scriptId:r.root.scriptId}))}_stackFrameNotFoundError(){return Qe(Ne.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Qe(Ne.t("Unable to evaluate on async stack frame"))}async restartFrame(e){let r=this._pausedDetails?.stackTrace.frame(e.frameId)?.root;if(!r)return this._stackFrameNotFoundError();let n=r.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:Ne.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):et(Ne.t("Frame could not be restarted")):et(Ne.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Qe(Ne.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Qe(Ne.t("Thread is not paused on exception"));let r=nu(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let r;if(e.frameId!==void 0){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId)?.root:void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let n=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new Ut(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...n]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(n=>`cd ${this.target.executionContextName(n.description)}`).filter(n=>n.startsWith(r)).map(n=>({label:n,start:0,length:e.text.length}))}async _evaluteWasm(e,r,n){if(!e)return;let i=e.root,o=i.callFrameId(),s=await i.scriptSource?.source;if(!Gc(s)||!o)return;let a=await s.sourceMap.value.promise;if(!a.evaluate)return;let c=new At(e instanceof nm?e.inlineFrameIndex:0,i.rawPosition.base0.columnNumber),u=await a.evaluate(o,c,r.expression);if(u)return await n.createFloatingVariable(r.expression,u).toDap(r.context,r.format)}async _evaluteJs(e,r,n){let i=e?.root.callFrameId(),o=r.context==="clipboard"?{expression:rE.expr(r.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:r.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:r.context==="hover"?this.getHoverEvalTimeout():void 0};if(r.context==="repl"){if(o.expression=mh(o.expression),o.expression.indexOf("await")!==-1){let c=_O(o.expression);c&&(o.expression=c,o.awaitPromise=!0)}o.expression+=Lce()}r.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:r.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(i?{...o,callFrameId:i}:{...o,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:e?.root});if(r.context==="repl")return await this._evaluateRepl(r,s,r.format);let a=await s;if(!a)throw new re(Qe(Ne.t("Unable to evaluate")));if(a.exceptionDetails){let c=a.exceptionDetails.exception?nu(a.exceptionDetails.exception).title:a.exceptionDetails.text;throw c.startsWith("Uncaught")||(c="Uncaught "+c),new re(Qe(c))}return n.createFloatingVariable(o.expression,a.result).toDap(r.context,r.format)}async evaluate(e){let r,n;if(e.frameId!==void 0){if(n=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!n)throw new re(this._stackFrameNotFoundError());if(r=n.root.callFrameId(),!r)throw new re(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let s=e.expression.substring(3).trim();for(let a of this._executionContexts.values())if(this.target.executionContextName(a.description)===s)return this._selectedContext=a,{result:`[${s}]`,variablesReference:0}}let i=r?this._pausedVariables:this.replVariables;if(!i)throw new re(Qe(Ne.t("Unable to evaluate")));let o=await this._evaluteWasm(n,e,i)??await this._evaluteJs(n,e,i);return{type:o.type,result:o.value,variablesReference:o.variablesReference,namedVariables:o.namedVariables,indexedVariables:o.indexedVariables,memoryReference:o.memoryReference}}getHoverEvalTimeout(){let e=this.launchConfig.timeouts?.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,n){let i=await r;if(!i)return{name:e.expression,value:"",variablesReference:0};if(i.exceptionDetails){let c=await new rm(i.exceptionDetails).toDap(this);throw new re(W1(c.output))}let o=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",s=await this.replVariables.createFloatingVariable(e.expression,i.result).toDap("repl",n),a=eb("repl").budget;return s.variablesReference===0&&s.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:Ne.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...s,value:`${o}${s.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new rm(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new ib(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){let r=this._pausedDetails;if(!r)return[];let n=r.stackTrace.frames.find(l=>l.frameId===e);if(!(n instanceof jr))return[];let i=await n.uiLocation();if(!i)return[];let o=r.event.callFrames[0].location,[s,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,i.source,new Ut(i.lineNumber,1),new Ut(i.lineNumber+1,1)).then(l=>l.filter(p=>p.breakLocation.lineNumber!==o.lineNumber||p.breakLocation.columnNumber!==o.columnNumber)),i.source.content()]),c=r.stepInTargets?.length||0;r.stepInTargets=r.stepInTargets?.concat(s)||s;let u=a&&new sa(a);return s.map((l,p)=>{let d=l.uiLocations.find(f=>f.source===i.source);if(!d)return;if(!u)return{id:c+p,label:`Column ${d}`,line:d.lineNumber,column:d.columnNumber};let m=AO(a.slice(u.getLineOffset(d.lineNumber-1),u.getLineOffset(d.lineNumber)),d.columnNumber-1);if(m)return{id:c+p,label:m.text,line:d.lineNumber,column:m.start+1,endLine:d.lineNumber,endColumn:m.end+1}}).filter(Ct)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=await this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new pb(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&t._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){let r=e.hitBreakpoints??[],n=e.reason==="Break on start"||e.reason==="debugCommand",i=e.callFrames[0]?.location,o=e.data?.scriptId||i?.scriptId,s=o&&(e.reason==="instrumentation"||this._breakpointManager.isEntrypointBreak(r,o)||r.some(l=>this._pauseOnSourceMapBreakpointIds?.includes(l)));if(this.evaluator.setReturnedValue(e.callFrames[0]?.returnValue),s){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!n&&(e.data.__rewriteAs="breakpoint");let l=this._expectedPauseReason;if(!(o&&await this._handleSourceMapPause(o,i))){if(!n){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if(l?.reason==="step"){if(l.direction!==0)return this._cdp.Debugger.resume({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=this._waitingForStepIn?.intoTargetBreakpoint;if(a){e.hitBreakpoints?.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(n&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof mp)){this.resume();return}let c=this._pausedDetails=await this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let u=await this._smartStepper.getSmartStepDirection(c,this._expectedPauseReason);if(this._pausedDetails===c){switch(u){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(c)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],n=r instanceof jr&&await r.uiLocation();if(!n)return!1;let i,o,s=[];for(let{caller:a,target:c}of this._excludedCallers)if(!(c.line!==n.lineNumber||c.column!==n.columnNumber)&&(i??=await n.source.toDapShallow(),!!uj(i,c.source))){o||(o=await e.loadFrames(Tce).then(l=>Promise.all(l.slice(1).filter(Ic(jr)).map(p=>p.uiLocation()))));for(let u=0;u<o.length;u++){let l=o[u];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=s[u]??=await l.source.toDapShallow();if(uj(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of t._allThreadsByDebuggerId)r===this&&t._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...r.resolvedSource.offsetScriptToSource(e),source:r.resolvedSource}):r.source.then(n=>this._sourceContainer.preferredUiLocation({...n.offsetSourceToScript(e),source:n})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let n=await r.source;return this._sourceContainer.preferredUiLocation({...n.offsetScriptToSource(e),source:n})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(n=>{let i=this._sourceContainer.onScript(s=>{s.scriptId===e&&(n(s),i.dispose(),clearTimeout(o))}),o=setTimeout(()=>{n(void 0),i.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),n=await this.rawLocationToUiLocation(r);return n?`@ ${await n.source.prettyName()}:${n.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoints(e,r){if(!this.target.supportsCustomBreakpoints())return;this._enabledCustomBreakpoints??=new Set;let n=new Set;for(let o of e)n.add("x"+o);for(let o of r)n.add("e"+o);let i=[];for(let o of n)if(!this._enabledCustomBreakpoints.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.setXHRBreakpoint({url:s}):gp().get(s)?.apply(this._cdp,!0))}for(let o of this._enabledCustomBreakpoints)if(!n.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.removeXHRBreakpoint({url:s}):gp().get(s)?.apply(this._cdp,!1))}this._enabledCustomBreakpoints=n,await Promise.all(i)}async _createPausedDetails(e){let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous",n=e.hitBreakpoints?.filter(o=>!this._breakpointManager.isEntrypointCdpBreak(o))||[];if((n.length||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let o of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(o);let i=fs.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(e.data?.__rewriteAs==="breakpoint")return{thread:this,event:e,stackTrace:i,reason:"breakpoint",description:Ne.t("Paused on breakpoint")};if(e.data?.__rewriteAs==="step")return{thread:this,event:e,stackTrace:i,reason:"step",description:Ne.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Ne.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:i,reason:"pause",description:Ne.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:Ne.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Ne.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Ne.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:i,reason:"step",description:Ne.t("Paused")}:{thread:this,event:e,stackTrace:i,reason:"function breakpoint",description:Ne.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:Ne.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Ne.t("Paused before Out Of Memory exception")};default:if(n.length){let o=!1,s=this.target.entryBreakpoint;if(s&&n.includes(s.cdpId)){o=!0;let a=this._sourceContainer.source({path:_t(s.path)});a!==void 0&&(o=!(await this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:a}))?.some(u=>this._breakpointManager.hasAtLocation(u)))}return o||this._breakpointManager.registerBreakpointsHit(n),{thread:this,event:e,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:o?"entry":"breakpoint",description:Ne.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:i,description:Ne.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:i,reason:"pause",description:Ne.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let n=r.data,i=n&&n.eventName||"",o=gp().get(i);if(o){let s=o.details(n);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:s.short,text:s.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:Ne.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){let r={url:e.url,hasSourceURL:!!e.hasSourceURL,embedderName:e.embedderName,scriptId:e.scriptId,executionContextId:e.executionContextId};if(Br(e.url)&&(e.url=Be(e.url)),this._sourceContainer.getScriptById(e.scriptId))return;if(e.url.endsWith(".cdp")){this._sourceContainer.addScriptById(r);return}e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let n=this._executionContexts.get(e.executionContextId);n||(this.logger.info("internal","Creating missing execution context id",e),n=new pb({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,n));let o={...r,source:(async()=>{let s=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&s?.contentHash===e.hash)return s.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),s;let a=async()=>{let d=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return d?d.scriptSource:void 0},c=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,l;e.sourceMapURL&&(l=br(e.sourceMapURL)?e.sourceMapURL:e.url&&ia(e.url,e.sourceMapURL)||e.url,l||this._dap.with(d=>M1(d,`Could not load source map from ${e.sourceMapURL}`)));let p=await this._sourceContainer.addSource(e,a,l,c,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return p.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),p})()};o.source.then(s=>o.resolvedSource=s),n.scripts.push(o),this._sourceContainer.addScriptById(o),(e.sourceMapURL||e.scriptLanguage==="WebAssembly")&&this._getOrStartLoadingSourceMaps(o)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let n=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,i=n+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,o=this._sourceContainer.getScriptById(e);if(!o)return this._pausedForSourceMapScriptId=void 0,!1;let s=new Qn,a=await Promise.race([this._getOrStartLoadingSourceMaps(o),De(i)]),c=s.elapsed().ms,u=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(c-n,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:u}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:c,sourceMapCumulativePause:u}),a||this._dap.with(d=>d.output({category:"stderr",output:Ne.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",o.url||o.scriptId,i)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=r?.lineNumber||0,p=r?.columnNumber;return!!a?.map(ss).some(d=>d.lineNumber===l&&(p===void 0||p===d.columnNumber))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let n=r.sourceMapLoads.get(e.scriptId);if(n)return n;let i=e.source.then(o=>this._sourceContainer.waitForSourceMapSources(o)).then(o=>o.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,o):[]);return r.sourceMapLoads.set(e.scriptId,i),i}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let n of r.internalProperties||[]){if(n.name!=="[[FunctionLocation]]"||!n.value||n.value.subtype!=="internal#location")continue;let i=await this.rawLocationToUiLocation(this.rawLocation(n.value.value));i&&this._sourceContainer.revealUiLocation(i);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:ru(e,"copy")}));return}try{let r=await Y3({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(n=>n.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([De(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(n=>this._breakpointManager._resolvedBreakpoints.get(n)).filter(Ic(zn)).map(n=>n.untilSetCompleted().then(()=>n.dapId)))])),await De(0),this._dap.with(n=>n.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=t.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!r._waitingForStepIn?.lastDetails)return!1;let n=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(i=>!i||!i.stackTrace.callFrames.length||!jr.fromRuntime(r,i.stackTrace.callFrames[0],!1).equivalentTo(n.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){this._scriptWithSourceMapHandler=r;let n=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(n&&!this._pauseOnSourceMapBreakpointIds?.length){await this.debuggerReady.promise;let i=await Promise.all([this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"}),this._cdp.Debugger.setBreakpointByUrl({lineNumber:0,columnNumber:0,urlRegex:"\\.[wW][aA][sS][mM]"})]);this._pauseOnSourceMapBreakpointIds=i.map(o=>o?.breakpointId).filter(Ct)}else if(!n&&this._pauseOnSourceMapBreakpointIds?.length){let i=this._pauseOnSourceMapBreakpointIds;this._pauseOnSourceMapBreakpointIds=void 0,await Promise.all(i.map(o=>this._cdp.Debugger.removeBreakpoint({breakpointId:o})))}return!!this._pauseOnSourceMapBreakpointIds?.length}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){return e.data?.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!br(e.data?.sourceMapURL)?!1:e.data.url?.startsWith("webpack")||e.data.url?.startsWith("ng:")}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return t._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let i of new va(e)){if(typeof i=="string"){r.push(i);continue}let o=this._sourceContainer.getSourceByOriginalUrl(Be(i.path))||this._sourceContainer.getSourceByOriginalUrl(i.path);if(!o){r.push(i.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:i.position.base1.columnNumber,lineNumber:i.position.base1.lineNumber,source:o}).then(({source:s,lineNumber:a,columnNumber:c})=>`${s.absolutePath}:${a}:${c}`))}return(await Promise.all(r)).join("")}};var pj=t=>typeof t.uiLocation=="function",fs=class t{constructor(e){this.thread=e;this.frames=[];this._frameById=new Map;this._lastInlineWasmExpanded=Promise.resolve(0);this._lastFrameThread=e}static fromRuntime(e,r){let n=new t(e);for(let i of r.callFrames)i.url.endsWith(".cdp")||n.frames.push(jr.fromRuntime(e,i,!1));return r.parentId?(n._asyncStackTraceId=r.parentId,console.assert(!r.parent)):n._appendStackTrace(e,r.parent),n}static fromDebugger(e,r,n,i){let o=new t(e);for(let s of r)o._appendFrame(jr.fromDebugger(e,s));return i?(o._asyncStackTraceId=i,console.assert(!n)):o._appendStackTrace(e,n),o}async loadFrames(e,r){return await this.expandAsyncStack(e,r),await this.expandWasmFrames(),this.frames}async expandAsyncStack(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=yp.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let n=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,n&&this._appendStackTrace(this._lastFrameThread,n.stackTrace)}}expandWasmFrames(){return this._lastInlineWasmExpanded=this._lastInlineWasmExpanded.then(async e=>{for(;e<this.frames.length;e++){let r=this.frames[e];if(!(r instanceof jr))continue;let n=r.scriptSource?.resolvedSource;if(!Gc(n))continue;let i=await n.sourceMap.value.promise;if(!i.getFunctionStack)continue;let o=await i.getFunctionStack(r.rawPosition);if(o.length===0)continue;let s=[];for(let a=0;a<o.length;a++){let c=new nm({source:n,thread:this.thread,inlineFrameIndex:a,name:o[a].name,root:r});this._frameById.set(c.frameId,c),s.push(c)}this._spliceFrames(e,1,...s),e+=o.length-1}return e})}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new db(r.description||"async"));for(let n of r.callFrames)this._appendFrame(jr.fromRuntime(e,n,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_spliceFrames(e,r,...n){this.frames.splice(e,r,...n);for(let i of n)i instanceof db||this._frameById.set(i.frameId,i)}_appendFrame(e){this._spliceFrames(this.frames.length,0,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let i=r.length-1;i>=0;i--){let o=r[i];if(o instanceof jr&&o.isReplEval){r=r.slice(0,i+1);break}}let n=r.map(e);return(await Promise.all(n)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,n=(e.levels||50)+r,i=await this.loadFrames(n,e.noFuncEval);n=Math.min(i.length,e.levels?n:i.length);let o=[];for(let s=r;s<n;s++)o.push(i[s].toDap(e.format));return{stackFrames:await Promise.all(o),totalFrames:this._asyncStackTraceId?1e6:i.length}}},bE=oH(),db=class{constructor(e="async"){this.label=e;this.frameId=bE()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},dj="<anonymous>",$ce=/^class\s+(.+) {($|\n)/;async function kce(t,e,r){if(!e.functionName)return dj;if(e.functionName.includes("."))return e.functionName;let n;if(e.this.objectId&&r&&(n=(await t.cdp().Runtime.callFunctionOn({functionDeclaration:ob.decl("64","null"),objectId:e.this.objectId,returnByValue:!0}))?.result.value),!n&&e.this.description){n=e.this.description;let s=$ce.exec(n);s&&(n=s[1])}if(!n)return e.functionName;let i=n.indexOf(`
`);i!==-1&&(n=n.slice(0,i).trim());let o=e.functionName;return n===o?`${n}.constructor`:n?`${n}.${o}`:o}function Rce(t){return t.functionName||dj}var jr=class t{constructor(e,r,n,i=!1){this.callFrame=r;this.isAsync=i;this.frameId=bE();this.root=this;this.getLocationInfo=_e(async()=>{let e=this.uiLocation(),r=await tE(this),n=this.overrideName||("this"in this.callFrame?await kce(this._thread,this.callFrame,r===0):Rce(this.callFrame));return{isSmartStepped:r,name:n,uiLocation:await e}});this.completions=_e(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let i=0;i<this._scope.chain.length;i++){let o=this._scopeVariable(i,this._scope);o&&r.push(e.getVariableNames({variablesReference:o.id}).then(s=>s.map(a=>({label:a,type:"property"}))))}let n=await Promise.all(r);return[].concat(...n)});this._rawLocation=n,this.uiLocation=_e(()=>e.rawLocationToUiLocation(n)),this._thread=e;let o=n.scriptId?e.getScriptById(n.scriptId):void 0;this.isReplEval=o?o.url.endsWith(".repl"):!1}get rawPosition(){return new Ut(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,n){return new t(e,r,e.rawLocation(r),n)}static fromDebugger(e,r){let n=new t(e,r,e.rawLocation(r));return n._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},n}get scriptId(){return"scriptId"in this.callFrame?this.callFrame.scriptId:this.callFrame.location.scriptId}get scriptSource(){return this._thread._sourceContainer.getScriptById(this.scriptId)}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof t&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new re(V1());return{scopes:(await Promise.all(e.chain.map(async(n,i)=>{let o="",s;switch(n.type){case"global":o=pn.t("Global");break;case"local":o=pn.t("Local"),s="locals";break;case"with":o=pn.t("With Block"),s="locals";break;case"closure":o=pn.t("Closure"),s="arguments";break;case"catch":o=pn.t("Catch Block"),s="locals";break;case"block":o=pn.t("Block"),s="locals";break;case"script":o=pn.t("Script");break;case"eval":o=pn.t("Eval");break;case"module":o=pn.t("Module");break;default:o=n.type.substr(0,1).toUpperCase()+n.type.substr(1);break}n.name&&n.type==="closure"?o=pn.t("Closure ({0})",n.name):n.name&&(o=`${o}: ${n.name}`);let a=this._scopeVariable(i,e);if(!a)return;let c={name:o,presentationHint:s,expensive:n.type==="global",variablesReference:a.id};if(n.startLocation){let u=this._thread.rawLocation(n.startLocation),l=await this._thread.rawLocationToUiLocation(u);if(c.line=(l||u).lineNumber,c.column=(l||u).columnNumber,l&&(c.source=await l.source.toDap()),n.endLocation){let p=this._thread.rawLocation(n.endLocation),d=await this._thread.rawLocationToUiLocation(p);c.endLine=(d||p).lineNumber,c.endColumn=(d||p).columnNumber}}return c}))).filter(Ct)}}getStepSkipList(e){return Promise.resolve(void 0)}async toDap(e){let{isSmartStepped:r,name:n,uiLocation:i}=await this.getLocationInfo(),o=i?await i.source.toDap():void 0,s=r?"deemphasize":"normal";r&&o&&(o.origin=r===1?pn.t("Skipped by smartStep"):pn.t("Skipped by skipFiles"));let a=(i||this._rawLocation).lineNumber,c=(i||this._rawLocation).columnNumber,u=n;return o&&e&&(e.module&&(u+=` [${o.name}]`),e.line&&(u+=` Line ${a}`)),{id:this.frameId,name:u,line:a,column:c,source:o,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.existingAbsolutePath()||await r?.source.prettyName()||this.callFrame.url,{lineNumber:i,columnNumber:o}=r||this._rawLocation;return`    at ${e} (${n}:${i}:${o})`}async format(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.prettyName()||"<unknown>",i=r||this._rawLocation,o=`${e} @ ${n}:${i.lineNumber}`;return i.columnNumber>1&&(o+=`:${i.columnNumber}`),o}_scopeVariable(e,r){let n=r.variables[e];if(n)return n;let i={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},o=[];e===0&&(r.thisObject&&o.push({name:"this",value:r.thisObject}),r.returnValue&&o.push({name:pn.t("Return value"),value:r.returnValue}));let s=this._thread.pausedVariables();if(!s)return;let a=s.createScope(r.chain[e].object,i,o);return r.variables[e]=a}},vE={scopes:[]},nm=class{constructor(e){this.frameId=bE();this.name=e.name,this.root=e.root,this.thread=e.thread,this.source=e.source,this.inlineFrameIndex=e.inlineFrameIndex,this.wasmPosition=new At(this.inlineFrameIndex,this.root.rawPosition.base0.columnNumber),this.uiLocation=_e(()=>e.thread._sourceContainer.preferredUiLocation({columnNumber:e.root.rawPosition.base1.columnNumber,lineNumber:e.inlineFrameIndex+1,source:e.source}))}async formatAsNative(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return`    at ${this.name} (${n.url}:${r}:${e})`}async format(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation(),i=await n.prettyName()||"<unknown>";return`${this.name} @ ${i}:${r}:${e}`}async toDap(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return Promise.resolve({id:this.frameId,name:this.name,column:e,line:r,source:await n.toDapShallow()})}async getStepSkipList(e){let r=this.source.sourceMap.value.settledValue;if(!r?.getStepSkipList)return;let n=await this.uiLocation();return n?r.getStepSkipList(e,this.wasmPosition,n.source.compiledToSourceUrl.get(this.source),new Ut(n.lineNumber,n.columnNumber)):r.getStepSkipList(e,this.root.rawPosition)}async scopes(){let e=this.source.sourceMap.value.settledValue,r=this.root.callFrameId();if(!e||!r)return vE;let n=await e.getVariablesInScope?.(r,this.wasmPosition);if(!n)return vE;let i=this.thread.pausedVariables();if(!i)return vE;let o={stackFrame:this.root,callFrameId:r,scopeNumber:0};return{scopes:await Promise.all([...PO(n,s=>s.scope)].map(([s,a])=>i.createWasmScope(s,a,o).toDap("propertyValue").then(c=>({name:c.name,variablesReference:c.variablesReference,expensive:s!=="LOCAL"}))))}}};var fj=A(we());var ou=class{constructor(e){this.event=e;this.stackTrace=_e(e=>this.event.stackTrace?fs.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=_e(async e=>{let r=this.stackTrace(e);if(!r)return;let n;for(let i of r.frames){if(!(i instanceof jr))continue;let o=await i.uiLocation();if(o&&(n||(n=o),!o.source.blackboxed()))return{source:await o.source.toDap(),line:o.lineNumber,column:o.columnNumber}}if(n)return{source:await n.source.toDap(),line:n.lineNumber,column:n.columnNumber}})}formatDefaultString(e,r,n=!1){let o=r.length>1&&r[0].type==="string"?XS(r[0].value,r.slice(1),ZS):XS("",r,ZS),s=o.result+`
`;return o.usedAllSubs&&!r.some(tu)?{output:s}:this.formatComplexStringOutput(e,s,r,n)}async formatComplexStringOutput(e,r,n,i){(n.some(s=>s.subtype==="error")||va.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),i=!0);let o=e.replVariables.createVariableForOutput(r,n,i?this.stackTrace(e):void 0);return{output:r,variablesReference:o.id}}},fb=class extends ou{async toDap(e){return this.event.args[0]?.value==="console.assert"&&(this.event.args[0].value=fj.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},su=class extends ou{constructor(r,n,i){super(r);this.includeStack=n;this.category=i}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},xa=class extends su{constructor(e){super(e,!1,"stdout")}},hb=class extends su{constructor(e){super(e,!0,"stdout")}},mb=class extends su{constructor(e){super(e,!0,"stderr")}},gb=class extends su{constructor(e){super(e,!0,"stderr")}},Hb=class extends ou{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},yb=class extends su{constructor(e){super(e,!1,"stdout")}async toDap(e){return this.event.args[0]?.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var rm=class extends ou{constructor(){super(...arguments);this.stackTrace=_e(r=>{if(this.event.stackTrace)return fs.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return fs.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){let n=this.event.exception?nu(this.event.exception):{title:""},i=n.title;i.startsWith("Uncaught")||(i=`Uncaught ${this.event.exception?.className??"Error"} `+i);let o=this.stackTrace(r),s=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return va.isStackLike(i)?i=await r.replacePathsInStackTrace(i):o&&(i+=`
`+await o.formatAsNative()),{category:"stderr",output:i,variablesReference:o||s.length?r.replVariables.createVariableForOutput(i,s,o).id:void 0,...await this.getUiLocation(r)}}};var vb=Symbol("IConsole");var om=A(Z());var hj=A(Z());var _a=Symbol("IShutdownParticipants"),vp=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),zl;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};vp=D([(0,hj.injectable)()],vp);var im=class{toDap(){return{category:"console",output:"\x1B[2J"}}},bb=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var wb=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new Y;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new wE(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===gj);e===0?await this.q[0].wait:e===-1?(this.sink(mj(this.q)),this.q=[]):(this.sink(mj(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},mj=t=>t.map(e=>e.value).filter(e=>e!==Hj),gj=Symbol("unsettled"),Hj=Symbol("unsettled"),wE=class{constructor(e){this.value=gj;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=Hj}):(this.value=e,this.wait=Promise.resolve())}};var Oce=new Set(["group","assert","count"]),bp=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new wb(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(n=>this.onDrained(n)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let n=this.parse(r);n&&this.enqueue(e,n)}enqueue(e,r){if(!(r instanceof im))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){if(e.type==="log"){let r=e.stackTrace?.callFrames[0];if(r&&r.url==="internal/console/constructor.js"&&Oce.has(r.functionName))return}switch(e.type){case"clear":return new im;case"endGroup":return new bb;case"assert":return new fb(e);case"table":return new yb(e);case"startGroup":case"startGroupCollapsed":return new Hb(e);case"debug":case"log":case"info":return new xa(e);case"trace":return new hb(e);case"error":return new gb(e);case"warning":return new mb(e);case"dir":case"dirxml":return new xa(e);case"count":return new xa(e);case"profile":case"profileEnd":return new xa(e);case"timeEnd":return new xa(e);default:try{nH(e.type,"unknown console message type")}catch{}}}};bp=D([(0,om.injectable)(),b(0,(0,om.inject)(nn)),b(1,(0,om.inject)(_a))],bp);var au=A(Z()),bj=require("os"),wj=require("path");var xE=require("path"),yj=(0,xE.join)(__dirname,"diagnosticTool.js"),vj=(0,xE.join)(__dirname,"diagnosticTool.css");var Po=Symbol("ITarget"),wr=Symbol("ILauncher");var Aa=class{constructor(e,r,n,i){this.fs=e;this.sources=r;this.breakpoints=n;this.target=i}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,wj.join)((0,bj.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(vj,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(yj,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let n of r.values())for(let i of n){let o=i.diagnosticDump();e.push({source:o.source,params:o.params,cdp:o.cdp.map(s=>s.state===1?{...s,uiLocations:s.uiLocations.map(a=>this.dumpUiLocation(a))}:{...s,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let n of this.sources.sources)e.push((async()=>({uniqueId:r++,url:n.url,sourceReference:n.sourceReference,absolutePath:n.absolutePath,actualAbsolutePath:await n.existingAbsolutePath(),scriptIds:n.scripts.map(i=>i.scriptId),prettyName:await n.prettyName(),compiledSourceRefToUrl:n instanceof Rt?[...n.compiledToSourceUrl.entries()].map(([i,o])=>[i.sourceReference,o]):void 0,sourceMap:Vc(n)?{url:n.sourceMap.metadata.sourceMapUrl,metadata:n.sourceMap.metadata,sources:Xo(Object.fromEntries(n.sourceMap.sourceByUrl),i=>i.sourceReference)}:void 0}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};Aa=D([(0,au.injectable)(),b(0,(0,au.inject)(xe)),b(1,(0,au.inject)(ur)),b(2,(0,au.inject)(Yn)),b(3,(0,au.inject)(Po))],Aa);var _j=A(we()),xb=A(Z());var xj="@vscode/dwarf-debugging",wp=class{constructor(e){this.dap=e;this.didPrompt=!1}async load(){try{return await import(xj)}catch{return}}prompt(){this.didPrompt||(this.didPrompt=!0,this.dap.output({output:_j.t("You may install the `{}` module via npm for enhanced WebAssembly debugging",xj),category:"console"}))}};wp=D([(0,xb.injectable)(),b(0,(0,xb.inject)(nn))],wp);var Ia=A(Z());var _p=Symbol("IExceptionPauseService");var xp=class{constructor(e,r,n,i,o){this.evaluator=e;this.scriptSkipper=r;this.dap=n;this.sourceContainer=o;this.state={cdp:"none"};this.blocker=qe();this.noDebug=!!i.noDebug,this.breakOnError=i.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof re))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=qe())}}async shouldPauseAt(e){if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||e.callFrames.some(n=>this.sourceContainer.getSourceScriptById(n.location.scriptId)?.url.endsWith(".cdp"))||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if(e.data?.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){return!!(await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data}))?.result.value}shouldScriptSkip(e){if(e.data?.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),n="none",i=[],o=[];for(let{filterId:a,condition:c}of r)a==="all"?(n="all",c&&i.push(a)):a==="uncaught"&&(n==="none"&&(n="uncaught"),c&&o.push(a));let s=a=>{if(a.length===0)return;let c="!!("+r.map(p=>p.condition).filter(Ct).join(") || !!(")+")",u=na(c);if(u)throw new re(ea({line:0,condition:c},u.message));let l=zI(c,this.breakOnError);return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return n==="none"?{cdp:n}:{cdp:n,condition:{caught:s(i),uncaught:s(o)}}}};xp=D([(0,Ia.injectable)(),b(0,(0,Ia.inject)(Gn)),b(1,(0,Ia.inject)(fa)),b(2,(0,Ia.inject)(nn)),b(3,(0,Ia.inject)(Re)),b(4,(0,Ia.inject)(ur))],xp);var Ib=A(Z());var _b=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let n={};for(let i of r.metrics)n[i.name]=i.value;return{metrics:n}}};var Ab=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${yt()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var Sb=Symbol("IPerformanceProvider"),cu=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new Ab:new _b}};cu=D([(0,Ib.injectable)(),b(0,(0,Ib.inject)(Po))],cu);var DE=A(we()),Sj=require("crypto"),Sa=A(Z()),Ej=require("os"),Dj=require("path");var Cb=A(Z());var _E=A(we()),uu=A(Z()),Eb=require("path");var Ap=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),n=this.locationsByRef.get(r);if(n)return n.id;let i=this.locationIdCounter++;return this.locationsByRef.set(r,{id:i,callFrame:e,locations:(async()=>{let o=await this.sources.getScriptById(e.scriptId)?.source;if(!o)return[];let s=await this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:o});return Promise.all(s.map(async a=>({...a,source:await a.source.toDapShallow()})))})()}),i}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var fr=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new re(wl());return new AE(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let n=await Aj(e,this.sources,this.launchConfig.__workspaceFolder);(0,Eb.isAbsolute)(r)||(r=(0,Eb.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(n))}};fr.type="cpu",fr.extension=".cpuprofile",fr.label=_E.t("CPU Profile"),fr.description=_E.t("Generates a .cpuprofile file you can open in VS Code or the Edge/Chrome devtools"),fr.editable=!0,fr=D([(0,uu.injectable)(),b(0,(0,uu.inject)(vt)),b(1,(0,uu.inject)(xe)),b(2,(0,uu.inject)(ur)),b(3,(0,uu.inject)(Re))],fr);var AE=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new Y;this.disposed=!1;this.onUpdate=new Y().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new re(wl());await this.dispose();let r=await Aj(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function Aj(t,e,r){let n=new Ap(e),i=t.nodes.map(o=>({...o,locationId:n.getLocationIdFor(o.callFrame),positionTicks:o.positionTicks?.map(s=>({...s,startLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line-1,columnNumber:0}),endLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line,columnNumber:0})}))}));return{...t,nodes:i,$vscode:{rootPath:r,locations:await n.getLocations()}}}var IE=A(we()),lu=A(Z());var Pn=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new re(wl());return new SE(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};Pn.type="heap",Pn.extension=".heapprofile",Pn.label=IE.t("Heap Profile"),Pn.description=IE.t("Generates a .heapprofile file you can open in VS Code or the Edge/Chrome devtools"),Pn.editable=!0,Pn=D([(0,lu.injectable)(),b(0,(0,lu.inject)(vt)),b(1,(0,lu.inject)(xe)),b(2,(0,lu.inject)(ur)),b(3,(0,lu.inject)(Re))],Pn);var SE=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new Y;this.disposed=!1;this.onUpdate=new Y().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new re(wl());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new Ap(this.sources),n=(o,s)=>{s.locationId=r.getLocationIdFor(o.callFrame);for(let a of o.children){let c={...a,children:[]};s.children.push(c),n(a,c)}},i={...e.head,children:[]};return n(e.head,i),{...e,head:i,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var EE=A(we()),Ij=require("fs"),Db=A(Z());var Tn=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>this.currentWriter?.stream.write(r))}static canApplyTo(){return!0}async start(e,r){return{onStop:new Y().event,onUpdate:new Y().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:n}=this.currentWriter={stream:(0,Ij.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await n,r.end(),this.currentWriter=void 0}};Tn.type="memory",Tn.extension=".heapsnapshot",Tn.label=EE.t("Heap Snapshot"),Tn.description=EE.t("Generates a .heapsnapshot file you can open in VS Code or the Edge/Chrome devtools"),Tn.instant=!0,Tn=D([(0,Db.injectable)(),b(0,(0,Db.inject)(vt))],Tn);var Pb=Symbol("IProfilerFactory"),Tb=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},dn=class{constructor(e){this.container=e}get(e){let r=dn.ctors.find(n=>n.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};dn.ctors=[fr,Pn,Tn],dn=D([(0,Cb.injectable)(),b(0,(0,Cb.inject)(Ql))],dn);var Lb=Symbol("IProfileController"),Ip=class{constructor(e,r,n,i,o){this.cdp=e;this.factory=r;this.basicCpuProfiler=n;this.breakpoints=i;this.shutdown=o;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async n=>(await this.start(e,r,n),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:DE.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async n=>{let i=this.saveConsoleProfile(e,n),o=this.shutdown.register(0,()=>i);await i,o.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,n){if(this.profile)throw new re(q1());this.profile=this.startProfileInner(e,r,n).catch(i=>{throw this.profile=void 0,i}),await this.profile}async saveConsoleProfile(e,r){let n;if(r.title){n=r.title.replace(/[\/\\]/g,"-");let i=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=i+1,i>0&&(n+=`-${i}`)}else n=Tb();n+=fr.extension,await this.basicCpuProfiler.save(r.profile,n),e.output({output:DE.t('CPU profile saved as "{0}" in your workspace folder',n)+`
`,category:"console"})}async startProfileInner(e,r,n){let i=!1,o;if(n.stopAtBreakpoint?.length){let l=new Set(n.stopAtBreakpoint);i=!0,o=p=>!(p instanceof zn)||l.has(p.dapId)}else o=()=>!1;await this.breakpoints.applyEnabledFilter(o);let s=(0,Dj.join)((0,Ej.tmpdir)(),`vscode-js-profile-${(0,Sj.randomBytes)(4).toString("hex")}`),a=await this.factory.get(n.type).start(n,s),c={file:s,profile:a,enableFilter:o,keptDebuggerOn:i};a.onUpdate(l=>e.profilerStateUpdate({label:l,running:!0})),a.onStop(()=>this.disposeProfile(c));let u=!!r.pausedDetails();return i?await r.resume():u&&(await this.cdp.Debugger.disable({}),u&&r.onResumed()),e.profileStarted({file:c.file,type:n.type}),c}async stopProfiling(e){let r=await this.profile?.catch(()=>{});return!r||!this.profile?{}:(this.profile=void 0,await r?.profile.stop(),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:n}){n||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};Ip=D([(0,Sa.injectable)(),b(0,(0,Sa.inject)(vt)),b(1,(0,Sa.inject)(Pb)),b(2,(0,Sa.inject)(fr)),b(3,(0,Sa.inject)(Yn)),b(4,(0,Sa.inject)(_a))],Ip);var ni=A(Z());var QU=A(Cj()),ZU=require("dns"),uw=A(YU()),hu=A(Z());var Op=Symbol("IRequestOptionsProvider");var Ta=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=lr,n){try{let o=(0,QU.dataUriToBuffer)(e);return{ok:!0,url:e,body:new TextDecoder().decode(o.buffer),statusCode:200}}catch{}let i=Br(e)?e:_t(e);if(i)try{return{ok:!0,url:e,body:await this.fs.readFile(i,"utf-8"),statusCode:200}}catch(o){return{ok:!1,url:e,error:o,statusCode:200}}return this.fetchHttp(e,r,n)}async fetchJson(e,r,n){let i=await this.fetch(e,r,{Accept:"application/json",...n});if(!i.ok)return i;try{return{...i,body:JSON.parse(i.body)}}catch(o){return{...i,ok:!1,url:e,error:o}}}async fetchHttp(e,r,n){let i=new URL(e),o=i.protocol!=="http:",s=Number(i.port)??(o?443:80),a={headers:n,followRedirect:!0};o&&await Pl(e)&&(a.rejectUnauthorized=!1),this.options?.provideOptions(a,e);let c=i.hostname==="localhost";if(c&&this.autoLocalhostPortFallbacks[s]){let p=await this.requestHttp(i.toString(),a,r);return p.statusCode!==503?p:(delete this.autoLocalhostPortFallbacks[s],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&c){let p;try{p=await ZU.promises.lookup(i.hostname)}catch{return l}i.hostname=p.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(i.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[s]=i.hostname)}return l}async requestHttp(e,r,n){this.options?.provideOptions(r,e);let i=new Ie;try{let o=(0,uw.default)(e,r);i.push(n.onCancellationRequested(()=>o.cancel()));let s=await o;return{ok:!0,url:e,body:s.body,statusCode:s.statusCode}}catch(o){if(!(o instanceof uw.RequestError))throw o;let s=o.response?String(o.response?.body):o.message,a=o.response?.statusCode??503;return{ok:!1,body:s,statusCode:a,url:e,error:new Ey(a,e,s)}}finally{i.dispose()}}};Ta=D([(0,hu.injectable)(),b(0,(0,hu.inject)(xe)),b(1,(0,hu.optional)()),b(1,(0,hu.inject)(Op))],Ta);var mu=class extends Ta{constructor(r,n,i,o,s){super(r,s);this.logger=n;this.target=i;this.cdp=o;this.disposables=new Ie}dispose(){this.disposables.dispose()}async fetchHttp(r,n,i={}){let o=await super.fetchHttp(r,n,i);return o.ok?o:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:r,res:o}),this.fetchOverBrowserNetwork(r,o))}async fetchOverBrowserNetwork(r,n){if(!this.cdp)return n;let i=await this.cdp.Network.loadNetworkResource({frameId:this.target?.targetInfo.targetId,url:r,options:{includeCredentials:!0,disableCache:!0}});if(!i||!i.resource.success||!i.resource.httpStatusCode||i.resource.httpStatusCode>=400||!i.resource.stream)return n;let o=Number(i.resource.headers?.["Content-Length"]);isNaN(o)&&(o=1/0);let s=[],a=0;for(;;){let c=await this.cdp.IO.read({handle:i.resource.stream,offset:a});if(!c)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:r}),n;let u=c.base64Encoded?Buffer.from(c.data,"base64").toString():c.data;if(a+=Buffer.byteLength(u,"utf-8"),s.push(u),a>=o){this.cdp.IO.close({handle:i.resource.stream});break}if(c.eof)break}return{ok:!0,body:s.join(""),statusCode:i.resource.httpStatusCode,url:r}}};mu=D([(0,ni.injectable)(),b(0,(0,ni.inject)(xe)),b(1,(0,ni.inject)(ce)),b(2,(0,ni.optional)()),b(2,(0,ni.inject)(Po)),b(3,(0,ni.optional)()),b(3,(0,ni.inject)(vt)),b(4,(0,ni.optional)()),b(4,(0,ni.inject)(Op))],mu);var $a=A(Z()),rq=A(Ph());var La="node:";function tq(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(n.startsWith("!")){let i=eq(n.slice(1));for(let o=0;o<e.length;o++)e[o]=`^(?!${i.slice(1)})${e[o].slice(1)}`}else e.push(eq(n))}return e.map(r=>new RegExp(r,"i"))}function eq(t){let e=t.split("/"),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i==="**")n===0?r.push("(.+/)?"):n===e.length-1||r.push(".*/");else{if(i.includes("*")){let o=i.split("*");r.push(o.map(s=>Xr(s)).join("[^\\/]*"))}else r.push(Xr(i));r.push(n<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function qpe(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(n=>{n=n.trim();let i=e.exec(n);return i?i[1]:null}).filter(Ct);return r.length>0?r:void 0}function Wpe(t,e){return e.filter(n=>!n.includes("<node_internals>")).map(n=>Br(n)?Tl(t.rebaseLocalToRemote(n)):Ye(n)).map(Jy)}var To=class{constructor({skipFiles:e},r,n,i,o){this.logger=n;this.cdp=i;this._regexForAuthored=_$(tq);this._scriptsWithSkipping=new Set;this._targetId=o.id(),this._rootTargetId=nq(o).id(),this._isUrlFromSourceMapSkipped=new fo(s=>this._normalizeUrl(s)),this._authoredGlobs=Wpe(r,e),this._nodeInternalsGlobs=qpe(e),this._initNodeInternals(o),this._updateSkippedDebounce=I$(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),To.sharedSkipsEmitter.event(s=>{s.rootTargetId===this._rootTargetId&&s.targetId!==this._targetId&&this._toggleSkippingFile(s.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(La)&&(e=e.slice(La.length)),(0,rq.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(La)?!0:r?.has(e)||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),r=this._allNodeInternals?.settledValue;if(r){e.push(`^(${La})?internal\\/`);for(let n of r)this._testSkipNodeInternal(n)&&e.push(`^(${La})?${Xr(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return Ye(e.toLowerCase())}isScriptSkipped(e){return this._isNodeInternal(e,this._allNodeInternals?.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let n=this.isScriptSkipped(e.url),i=[],o=n;for(let a of e.sourceMap.sourceByUrl.values()){let c=this.isScriptSkipped(a.url);if(typeof c>"u"&&(c=n),c!==o){let u=await this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);u[0]?(i.push({lineNumber:u[0].lineNumber-1,columnNumber:u[0].columnNumber-1}),o=!o):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}}let s=r;i.length||(s=s.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),s.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(s.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:i})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let n=e.url,i=this.isScriptSkipped(n);if(!i&&e.absolutePath&&this._testSkipAuthored(Be(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(n,!0),i=!0,this._updateSkippedDebounce()),Jr(e)){if(i)for(let o of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,!0);for(let o of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(o,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=qe(),n=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+yt(),returnByValue:!0,includeCommandLineAPI:!0});n&&!n.exceptionDetails?r.resolve(new Set(n.result.value.map(i=>i+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&Br(e.resource)&&(r=e.resource);let n={path:r,sourceReference:e.sourceReference},i=this._sourceContainer.source(n);if(!i)return{};let o=!this.isScriptSkipped(i.url);if(i instanceof Rt){this._isUrlFromSourceMapSkipped.set(i.url,o);let s=Array.from(i.compiledToSourceUrl.keys());await Promise.all(s.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Jr(i))for(let s of i.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,o);this.setIsUrlBlackboxSkipped(i.url,o),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let n=e,i=`!${n}`,o=this._authoredGlobs.filter(s=>s!==n&&s!==i);this._regexForAuthored(o).some(s=>s.test(e))!==r&&(o.push(r?n:i),this._regexForAuthored.clear()),this._authoredGlobs=o}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return To.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};To.sharedSkipsEmitter=new Y,To=D([(0,$a.injectable)(),b(0,(0,$a.inject)(Re)),b(1,(0,$a.inject)(nt)),b(2,(0,$a.inject)(ce)),b(3,(0,$a.inject)(vt)),b(4,(0,$a.inject)(Po))],To);function nq(t){let e=t.parent();return e?nq(e):t}var Hm=A(Z());var oq=require("path");var iq=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Vpe=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,Bp=Symbol("IVueFileMapper");var Fp=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=_e(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,oq.basename)(r),r)),e})}async lookup(e){let r=iq.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:iq.test(e)?1:Vpe.test(e)?2:0}};Fp=D([(0,Hm.injectable)(),b(0,(0,Hm.inject)(rs)),b(1,(0,Hm.inject)($l))],Fp);var Lo=class{constructor(){this.changeEmitter=new Y;this.addEmitter=new Y;this.removeEmitter=new Y;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var TW=A(DW()),Hw=A(Z());var CW=require("child_process"),Hu=class t extends Error{constructor(r,n,i,o,s){super(`${r} exited with code ${o||-1}: ${n}`);this.command=r;this.stderr=n;this.stdout=i;this.code=o;this.innerError=s}static fromExeca(r){return new t(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function gw(t,e,r){return new Promise((n,i)=>{let o=(0,CW.spawn)(t,e,{...r,stdio:"pipe"}),s=[],a=[];o.stderr.on("data",u=>s.push(u)),o.stdout.on("data",u=>a.push(u));let c=(u,l)=>i(new Hu(t,Buffer.concat(s).toString(),Buffer.concat(a).toString(),u,l));o.on("error",u=>c(void 0,u)),o.on("close",u=>u?c(u):n({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(s).toString()}))})}var Xde=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),PW=t=>{t=t.toLowerCase();for(let[e,r]of Xde.entries())if(t.includes(e))return r},qp=Symbol("IDefaultBrowserProvider"),Up=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=_e(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,TW.default)();return PW(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw Hu.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return PW(r[1])}};Up=D([(0,Hw.injectable)(),b(0,(0,Hw.inject)(Lh))],Up);var $W=A(Z()),vw=A(require("os"));var yw=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var QD=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},ii=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new QD}static async test(){let e=new ii;return e.setup({sinks:[new yw],showWelcome:!1}),e}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(n=>n.setup())),e.showWelcome!==!1){let n=Jde();for(let i of e.sinks)i.write(n)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(n=>n.dispose()):r.queue.forEach(n=>this.log(n))}};ii.null=(()=>{let e=new ii;return e.setup({sinks:[]}),e})(),ii=D([(0,$W.injectable)()],ii);var Jde=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${pH} v${Sc} started`,metadata:{os:`${vw.platform()} ${vw.arch()}`,nodeVersion:process.version,adapterVersion:Sc}});var Dm=Symbol("MutableLaunchConfig"),kW=t=>{let e=new Y;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,n){switch(n){case"update":return i=>{t=i,e.fire()};case"onChange":return e.event;default:return t[n]}}})};var aG=A(oG()),px=A(Z());var Tu=Symbol("touched"),Ga;(c=>{function t(){return{children:{},[Tu]:1}}c.root=t;function e(u,l){return u[Tu]=1,a(u,s(l),0)}c.getPath=e;function r(u){u[Tu]=1}c.touch=r;function n(u){u[Tu]=2}c.touchAll=n;function i(u,l){let p=u.children[l]??={children:{}};return p[Tu]=1,p}c.getOrMakeChild=i;function o(u){if(u[Tu]){for(let[l,p]of Object.entries(u.children))switch(p[Tu]){case 1:o(p);break;case 2:break;default:delete u.children[l]}return u}}c.prune=o;function s(u){let l=u.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(u,l,p){let d=i(u,l[p]);return p===l.length-1?d:a(d,l,p+1)}})(Ga||={});var XP=require("fs"),JP=A(Ph()),Lu=require("path"),sG=A(zP());var Bve=/\//g,lx=class{constructor(e){this.stat=Jo(e=>XP.promises.lstat(e));this.readdir=Jo(e=>XP.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new Y;this.onFile=this.fileEmitter.event;this.errorEmitter=new Y;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(i=>JP.default.matcher((0,sG.default)(Ye(i),{cwd:e.cwd})));let r=(0,Lu.isAbsolute)(e.pattern)?(0,Lu.relative)(e.cwd,e.pattern):e.pattern,n=JP.default.parse(Ye(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(n.map(i=>{let o=[];for(let u=1;u<i.tokens.length;){let l=u+1;for(;l<i.tokens.length&&i.tokens[l].type!=="slash";)l++;let p=i.tokens[u];p.type==="globstar"?o.push("**"):l===u+1&&p.type==="text"?o.push(p.value):o.push(new RegExp("^"+i.tokens.slice(u,l).map(d=>d.output||d.value).join("")+"$")),u=l+1}let s=o[0]==="**"?[0,1]:[0],a=Ga.getPath(e.cache,e.cwd),c={elements:o,seen:new Set};return Promise.all(s.map(u=>this.readSomething(c,u,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,r,n,i,o){if(this.alreadyProcessedFiles.has(o))return;let s=`${r}:${n}`;if(e.seen.has(s))return;e.seen.add(s);let a;try{a=await this.stat(n)}catch(u){this.errorEmitter.fire({path:n,error:u});return}if(this.alreadyProcessedFiles.has(o))return;let c=o.data;if(c&&a.mtimeMs===c.mtime){if(c.type===0){let u=[],p=Object.entries(o.children).filter(([,d])=>d.data?.type!==0).map(([d])=>d);for(let[d,m]of Object.entries(o.children))u.push(m.data!==void 0?this.handleDirectoryEntry(e,r,n,{name:d,type:m.data.type},p,o):this.stat(n).then(f=>this.handleDirectoryEntry(e,r,n,{name:d,type:f.isFile()?1:0},p,o),()=>{}));await Promise.all(u)}else c.type===1&&(this.alreadyProcessedFiles.add(o),this.fileEmitter.fire(c.extracted));return}a.isDirectory()?await this.handleDir(e,r,a.mtimeMs,n,o):(this.alreadyProcessedFiles.add(o),await this.handleFile(a.mtimeMs,n,i,o))}applyFilterToFile(e,r,n){let i=n.children[e];if(this.alreadyProcessedFiles.has(i))return!1;if(!this.filter)return!0;let o=i.data?.type===1?i.data.extracted:void 0;return Ga.touch(i),this.filter(r,o)}handleDirectoryEntry(e,r,n,i,o,s){let a=n+"/"+i.name,c=this.getDirectoryReadDescends(e,r,n,i);if(c===void 0)return;let u=Ga.getOrMakeChild(s,i.name);if(!(i.type===1&&!this.applyFilterToFile(i.name,a,s)))return typeof c=="number"?this.readSomething(e,r+c,a,o,u):Promise.all(c.map(l=>this.readSomething(e,r+l,a,o,u)))}getDirectoryReadDescends(e,r,n,i){let o=n+"/"+i.name;if(this.ignore.some(c=>c(o)))return;let s=r===e.elements.length-1,a=e.elements[r];if(a==="**")return i.type===1?s?0:this.getDirectoryReadDescends(e,r+1,n,i):s?0:[0,1];if((a instanceof RegExp&&a.test(i.name)||a===i.name)&&(i.type===0?!s:s))return 1}async handleFile(e,r,n,i){let o=Lu.sep==="/"?r:r.replace(Bve,Lu.sep),s;try{s=await this.processor(o,{siblings:n,mtime:e})}catch(a){this.errorEmitter.fire({path:o,error:a});return}i.data={type:1,mtime:e,extracted:s},this.fileEmitter.fire(s)}async handleDir(e,r,n,i,o){let s;try{s=await this.readdir(i)}catch(u){this.errorEmitter.fire({path:i,error:u});return}let a=[],c=s.filter(u=>u.isFile()).map(u=>u.name);for(let u of s){if(u.name.startsWith("."))continue;let l;if(u.isDirectory())l=0;else if(u.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,r,i,{name:u.name,type:l},c,o))}await Promise.all(a),o.data={type:0,mtime:n}}};var sd=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let n=[];return await this.globForFiles(e,o=>n.push(r($t(o.path)))),(await Promise.all(n)).filter(o=>o!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],n=e.lastState||{},i={};return await Promise.all([...e.files.explode()].map(async s=>{let a=JSON.stringify(s),c=n[a]||Ga.root();await this._streamChildrenWithSourcemaps(c,e,r,s);let u=Ga.prune(c);u&&(i[a]=u)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(Ct),state:i}}async _streamChildrenWithSourcemaps(e,r,n,i){let o=new lx({pattern:i.pattern,ignore:i.negations,cwd:i.cwd,cache:e,filter:r.filter,fileProcessor:(s,a)=>NO(s,a).then(c=>c&&r.processMap(c))});o.onError(({path:s,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:s})}),o.onFile(s=>s&&n.push(r.onProcessedMap(s))),await o.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(n=>new Promise((i,o)=>(0,aG.default)([n.pattern,"!**/*.asar/**"],{ignore:n.negations,matchBase:!0,cwd:n.cwd}).on("data",r).on("finish",i).on("error",o))))}};sd=D([(0,px.injectable)(),b(0,(0,px.inject)(ce))],sd);var _x=A(we()),Ja=A(Z());var cG=require("url"),uG=A(require("path"));var dx=class{constructor(){this._onFrameAddedEmitter=new Y;this._onFrameRemovedEmitter=new Y;this._onFrameNavigatedEmitter=new Y;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(n=>{this._processCachedResources(e,n?n.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,n){r&&this._addFramesRecursively(e,r,r.frame.parentId,n),e.Page.on("frameAttached",i=>{this._frameAttached(e,n,i.frameId,i.parentFrameId)}),e.Page.on("frameNavigated",i=>{this._frameNavigated(e,n,i.frame)}),e.Page.on("frameDetached",i=>{this._frameDetached(e,n,i.frameId)})}_addFrame(e,r,n){let i=new QP(this,e,r,n);return this._frames.set(i.id,i),i.isMainFrame()&&(this._mainFrame=i),this._onFrameAddedEmitter.fire(i),i}_frameAttached(e,r,n,i){let o=this._frames.get(n);return o||(o=this._addFrame(e,n,i)),o._ref(r),o}_frameNavigated(e,r,n){let i=this._frames.get(n.id);i||(i=this._frameAttached(e,r,n.id,n.parentId)),i._navigate(n,r),this._onFrameNavigatedEmitter.fire(i)}_frameDetached(e,r,n){let i=this._frames.get(n);i&&i._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,n,i){let o=r.frame,s=this._frames.get(o.id);s?(s._navigate(o,i),this._onFrameNavigatedEmitter.fire(s)):(s=this._addFrame(e,o.id,n),s._navigate(o,i));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],s.id,i)}},QP=class{constructor(e,r,n,i){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=i,this.id=n,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:Nve(this._url)||`<iframe ${this.id}>`}};function YP(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Nve(t){let e;try{e=new cG.URL(t)}catch{return YP(t,20)}if(e.protocol==="data")return YP(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=uG.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=YP(t,20)),r}var lG=require("url"),ZP=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},eT=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new lG.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let n=r||`${e.host}`,i=this._status==="activated"?"":` ${this._status}`,o=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${n} #${this.id}${i}${o}`}},fx=class t{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new Y;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,t._instances.add(this)}static{this._instances=new Set}dispose(){t._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),t._mode!=="normal"&&this.setMode(t._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(n=>n.url());for(let n of this._registrations.values())for(let i of r)if(i.startsWith(n.scopeURL)){e.push(n);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let n=this._registrations.get(r.registrationId);if(!n)continue;let i=n.versions.get(r.versionId);i||(i=new eT(n,r),n.versions.set(r.versionId,i)),r.targetId&&this._versions.set(r.targetId,i),i.addRevision(r),i.status()==="redundant"&&i.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),n.versions.delete(i.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new ZP(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){t._mode=e;for(let r of t._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}};var za=class{constructor(e,r,n,i,o,s,a,c){this.process=r;this.logger=o;this.telemetry=s;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new dx;this.serviceWorkerModel=new fx(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new Y;this._onTargetRemovedEmitter=new Y;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=i,this._browser=n,this._targetOrigin=c,this.serviceWorkerModel.onDidChange(()=>{for(let u of this._targets.values())u.type()==="service_worker"&&u._onNameChangedEmitter.fire()})}static async connect(e,r,n,i,o,s,a){let u=await e.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=e.createSession(u.sessionId);return new this(e,r,l,n,o,s,i,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>Hh.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),this.process?.kill();else for(let e of this._targets.values())await this._browser.Target.closeTarget({targetId:e.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,n=new Promise(o=>r=o),i=async o=>{if([...this._targets.values()].some(c=>c.targetId===o.targetId)||this._detachedTargets.has(o.targetId)||e&&!e(o))return;let s=this._browser.Target.on("targetInfoChanged",c=>{c.targetInfo.targetId===o.targetId&&(o=c.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:o.targetId,flatten:!0})}finally{s.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(o,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(o=>i(o.targetInfo))),this._browser.Target.on("targetInfoChanged",o=>this._targetInfoChanged(o.targetInfo,this.enqueueLifecycleFn(i))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async o=>{o.targetId&&await this._detachedFromTarget(o.sessionId,!1)})),n}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,n,i,o=!0){let s=this._targets.get(r);if(s)return s;let a=this._connection.createSession(r),c=new zy(this,e,a,i,n,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,c),i&&i._children.set(e.targetId,c),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,c)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:o,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),i||this.retrieveBrowserTelemetry(a);let u=e.type;return Gy.has(u)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(c),!Hh.has(u)||u==="service_worker"?c.runIfWaitingForDebugger():u==="page"&&o&&a.Page.waitForDebugger({}),c}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let n={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let i=(r.product||"").split("/");i.length===2?(n.targetProject=i[0],n.targetVersion=i[1]):n.targetProduct=r.product,this.telemetry.report("browserVersion",n)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){let n=this._targets.get(e);if(n){this._targets.delete(e),n.parentTarget?._children.delete(e);try{await n._detached()}catch{}if(this._onTargetRemovedEmitter.fire(n),r&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let n=[...this._targets.values()].filter(i=>i.targetId===e.targetId);if(!e.attached||!n.length)return n.length&&await Promise.all(n.map(i=>this._detachedFromTarget(i.sessionId,!1))),r(e);for(let i of n)i._updateFromInfo(e);for(let i of this._targets.values())i.targetId!==e.targetId&&i._onNameChangedEmitter.fire()}};var SG=A(require("child_process")),EG=require("fs");var jve=50,Rn=class t{constructor(e){this.messageEmitter=new Y;this.endEmitter=new Y;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new Qn])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,n){let i=!e.startsWith("ws://"),o=await Pl(e);for(;;){let s=Date.now()+jve;try{let a={headers:{host:n??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},c=new ZN(e,[],a);return await Eo(new Promise((u,l)=>{c.addEventListener("open",()=>u(new t(c))),c.addEventListener("error",p=>{let d=e===c.url?e:c.url.replace(/^http(s?):/,"ws$1:");if(d===e){l(p.error);return}this.create(d,r,n).then(u,l)})}),Qt.withTimeout(2e3,r).token,`Could not open ${e}`).catch(u=>{throw c.close(),u})}catch(a){if(r.isCancellationRequested)throw a;let c=s-Date.now();c>0&&await De(c)}}}send(e){this._ws?.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var hx=A(require("path"));function Uve(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new Vt(t).map((r,n)=>e.some(i=>i.test(r))?void 0:n)}var Vt=class t{constructor(e){this.defined=_e(()=>il(this.value));this.value=e?v$(e):{}}static{this.platform=process.platform}static{this.empty=new t({})}static{this.processEnv=_e(()=>Uve(process.env))}lookup(e){return t.platform==="win32"?x$(this.value,e):this.value[e]}addToPath(e,r="append",n=!1){let i=t.platform==="win32"?"Path":"PATH",o=t.platform==="win32"?hx.win32.delimiter:hx.posix.delimiter,s=this.lookup(i);return n&&!s&&(s=`\${env:${i}}`),s?r==="append"?s=s+o+e:s=e+o+s:s=e,this.update(i,s)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return t.merge(this,{[e]:r})}merge(...e){return t.merge(this,...e)}map(e){return new t(Xo(this.value,(r,n)=>e(n,r)))}static merge(...e){let r=e.map(i=>i instanceof t?i.value:i),n=t.platform==="win32"?w$(...r):Object.assign({},...r);return new t(n)}};var pG="--remote-debugging-port",dG="--remote-debugging-pipe",fG=t=>{let e={};for(let r of t){let n=r.indexOf("=");n===-1?e[r]=null:e[r.slice(0,n)]=r.slice(n+1)}return e},mx=t=>{let e=[];for(let r of Object.keys(t)){let n=t[r];n!==void 0&&e.push(n===null?r:`${r}=${n}`)}return e},Ka=class t{constructor(e=[]){this.args=e;this.argMap=_e(()=>fG(this.args))}static{this.default=new t(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"])}add(e,r=null){return new t(mx({...this.argMap(),[e]:r}))}remove(e){return new t(mx({...this.argMap(),[e]:void 0}))}merge(e){return new t(mx({...this.argMap(),...e instanceof t?e.argMap():fG(e)}))}setConnection(e){return new t(mx({...this.argMap(),[dG]:e==="pipe"?null:void 0,[pG]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(dG))return"pipe";let r=e[pG];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),n=[];for(let i of Object.keys(r)){let o=r[i];e(i,o)&&n.push(o===null?i:`${i}=${o}`)}return new t(n)}toArray(){return this.args.slice()}};var tT=require("url");function gx(t,e,r){let n=Jo(s=>{if(s)return new tT.URL(s);throw new Error(`A valid url wasn't supplied: <${s}>`)}),i={"url.hostname":()=>n(e).hostname,"url.port":()=>n(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new tT.URL(r).pathname,wsProtocol:()=>n(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(s,a)=>i.hasOwnProperty(a)?i[a]():s)}var xG=A(require("readline"));var HG=A(yx());var ai=class{constructor(e,r,n){this.logger=e;this.pipeWrite=r;this.pipeRead=n;this.messageEmitter=new Y;this.endEmitter=new Y;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=_e(()=>{this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),this.pipeRead?.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=n||r;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,HG.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new Qn])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){this.streams?.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var vx=require("child_process"),rT=require("path");function Ri(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let n=process.env.WINDIR||"C:\\Windows",i=(0,rT.join)(n,"System32","taskkill.exe");try{return(0,vx.execSync)(`${i} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(o){return e.error("runtime.exception","Error running taskkill.exe",o),!1}}else try{let n=(0,rT.join)(__dirname,"./targets/node/terminateProcess.sh"),i=(0,vx.spawnSync)("sh",[n,t.toString(),r==="forceful"?"9":"15"]);return i.stderr&&i.status?(e.error("runtime.exception","Error running terminateProcess",i),!1):!0}catch(n){return e.error("runtime.exception","Error running terminateProcess",n),!1}}var bG=require("fs");async function nT(t,e,r,n){let i=new Ta(bG.promises),[o,s]=await Promise.all([yG(i,new URL("/json/version",t),e),n?yG(i,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!o.ok)r.verbose("runtime.launch","Error looking up /json/version",o);else if(o.body.webSocketDebuggerUrl){let a=vG(o.url,o.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:o.body.webSocketDebuggerUrl,fixed:a}),a}if(s)if(!s.ok)r.verbose("runtime.launch","Error looking up /json/list",s);else{let a=vG(s.url,s.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:s.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function yG(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});e.hostname="127.0.0.1";let n=e.toString();e.hostname="[::1]";let i=e.toString(),o=new Qt(r);try{let s;return await po([n,i].map(async c=>(s=await t.fetchJson(c,o.token),s.ok&&s)))||s}finally{o.cancel()}}var wG=t=>async(e,r,n)=>{for(;;)try{return await nT(e,r,n,t)}catch(i){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${i.message}`);await De(200)}},ad=wG(!0),bx=wG(!1);function vG(t,e){let r=new URL(t),n=new URL(e);return n.host=r.host,n.toString()}var _G=async(t,e,r,n)=>{let i=r.connection===0?await Xve(e,n):await bx(`http://localhost:${r.connection}`,n,t),o=r.inspectUri?gx(r.inspectUri,r.url,i):i;for(;;)try{return await Rn.create(o,n)}catch(s){if(n.isCancellationRequested)throw s;await De(200)}},wx=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new Y().event;this.onError=new Y().event}async transport(e,r){return _G(this.logger,this,e,r)}kill(){}},xx=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new Y;this.onExit=this.exitEmitter.event;this.errorEmitter=new Y;this.onError=this.errorEmitter.event;e.on("exit",n=>this.exitEmitter.fire(n||0)),e.on("error",n=>this.errorEmitter.fire(n))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new ai(this.logger,this.cp.stdio[3],this.cp.stdio[4]):_G(this.logger,this,e,r)}kill(){Ri(this.cp.pid,this.logger)}};function Xve(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,n)=>{let i=xG.createInterface({input:t.stderr}),o="",s=()=>u();i.on("line",l),i.on("close",s);let a=new Ie([t.onExit(()=>u()),t.onError(u)]),c=e.onCancellationRequested(()=>{p(),n(new So(`Timed out after ${c} ms while trying to connect to the browser!`))});function u(d){p(),n(new Error(["Failed to launch browser!"+(d?" "+d.message:""),o,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(d){o+=d+`
`;let m=d.match(/^DevTools listening on (ws:\/\/.*)$/);m&&(p(),r(m[1]))}function p(){c.dispose(),i.removeListener("line",l),i.removeListener("close",s),a.dispose()}})}async function AG(t,e,r,n){let i=t.launchUnelevatedRequest({process:e,args:r});await Eo(i,n,"Could not launch browser unelevated")}var IG=()=>{};async function DG(t,e,r,n,i,o,s={}){let{onStderr:a=IG,onStdout:c=IG,args:u=[],dumpio:l=!1,cwd:p=process.cwd(),env:d=Vt.empty,connection:m="pipe",cleanUp:f="wholeBrowser",url:g,inspectUri:y}=s,x=new Ka(u),E=x.getSuggestedConnection();s.includeLaunchArgs!==!1?(x=iT(x,s),E===void 0&&(x=x.setConnection(m),E=m)):E===void 0&&(E="pipe");let $=["pipe","pipe","pipe"];E==="pipe"&&(l?$=["ignore","pipe","pipe","pipe","pipe"]:$=["ignore","ignore","ignore","pipe","pipe"]);let L;if(!!(i.supportsLaunchUnelevatedProcessRequest&&s.launchUnelevated)&&typeof E=="number"&&E!==0)await AG(t,e,x.toArray(),o),L=new wx(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let z=SG.spawn(e,x.toArray(),{detached:!0,env:d.defined(),cwd:await Pc(EG.promises,p)?p:process.cwd(),stdio:$});if(z.pid===void 0)throw await Promise.race([De(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise(F=>z.once("error",F))]);L=new xx(z,r)}l?(L.stderr?.on("data",z=>a(z.toString())),L.stdout?.on("data",z=>c(z.toString()))):(L.stderr?.resume(),L.stdout?.resume());let X=()=>{f==="wholeBrowser"&&L.kill()};process.on("exit",X),L.onExit(()=>process.removeListener("exit",X));try{if(s.promisedPort){let z;E=await Promise.race([s.promisedPort,new Promise((F,M)=>{z=L.onExit(O=>{M(new re(J1(O)))})})]).finally(()=>z.dispose())}return{process:L,canReconnect:typeof E=="number",createConnection:async z=>{let F=await L.transport({connection:E,inspectUri:y||void 0,url:g||void 0},z);return new jt(F,r,n)}}}catch(z){throw L.kill(),z}}function iT(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:n=!1}=e,i=n===!0?new Ka:Ka.default;return n instanceof Array&&(i=i.filter(o=>!n.includes(o))),r&&(i=i.add("--user-data-dir",r)),i=i.merge(t),t.toArray().every(o=>o.startsWith("-"))&&e.hasUserNavigation&&(i=i.add("about:blank")),i}async function CG(t,e,r,n){let{browserWSEndpoint:i,browserURL:o}=t;if(i){let s=await Rn.create(i,e);return new jt(s,r,n)}else if(o){let s=await bx(o,e,r),a=t.inspectUri?gx(t.inspectUri,t.pageURL,s):s,c=await Rn.create(a,e);return new jt(c,r,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var ci=class{constructor(e,r,n){this.logger=e;this.pathResolver=r;this.vscode=n;this._disposables=[];this._onTerminatedEmitter=new Y;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new Y;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:lr})},1e3)}createTargetManager(e,r,n){return za.connect(e,void 0,this.pathResolver,r,this.logger,n.telemetryReporter,n.targetOrigin)}async attemptToAttach(e,r){let n=await this.acquireConnectionForBrowser(r,e);this._connection=n,n.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let i=this._targetManager=await this.createTargetManager(n,e,r);if(!i)return;i.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),i.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),i.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),i.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),i.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let o=await Promise.race([i.waitForMainTarget(await this.getTargetFilter(i,e)),De(e.timeout).then(()=>{throw new re(Cy())})]);return typeof o=="string"?o:void 0}async getTargetFilter(e,r){let n=ca(r),i=Ll(n);if(r.targetSelection!=="pick")return i;let o=await e.getCandiateInfo(i);if(o.length===0)return i;if(o.length===1||!this.vscode)return c=>c.targetId===o[0].targetId;let s=_x.t("Select a tab"),a=await this.vscode.window.showQuickPick(o.map(c=>({label:c.title,detail:c.url,targetId:c.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:s});return a?c=>c.targetId===a.targetId:i}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},n){for(;this._lastLaunchParams===n;)try{return await this.acquireConnectionInner(e,n,r)}catch(i){if(r.isCancellationRequested)throw new re(ph(_x.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,i.message)));await De(1e3)}throw new re(ph(_x.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,"Cancelled")))}async acquireConnectionInner(e,r,n){let i=`http://${r.address}:${r.port}`;return await CG({browserURL:i,inspectUri:r.inspectUri,pageURL:r.url},n,this.logger,e)}async terminate(){this._lastLaunchParams=void 0,this._connection?.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};ci=D([(0,Ja.injectable)(),b(0,(0,Ja.inject)(ce)),b(1,(0,Ja.inject)(nt)),b(2,(0,Ja.optional)()),b(2,(0,Ja.inject)(Xn))],ci);var Mi=A(Z());var TG=A(tA()),LG=A(we()),ag=A(require("fs")),Ya=A(Z()),cd=A(require("path"));var Fo=class{constructor(e,r,n,i,o){this.storagePath=e;this.logger=r;this.pathResolver=n;this.initializeParams=i;this.fs=o;this._disposables=new Ie;this._onTerminatedEmitter=new Y;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new Y;this.onTargetListChanged=this._onTargetListChangedEmitter.event;this._terminatedCts=new Qt}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:n,includeLaunchArgs:i,runtimeArgs:o,userDataDir:s,env:a,cwd:c,port:u,url:l,file:p,inspectUri:d,webRoot:m,cleanUp:f,launchUnelevated:g},y,x,E,$){let L=await this.findBrowserPath(e||"stable"),R;return typeof s=="string"?R=cd.resolve(s):s&&(R=cd.resolve(cd.join(this.storagePath,o?.includes("--headless")?".headless-profile":".profile"))),ag.mkdirSync(this.storagePath,{recursive:!0}),R&&(ag.mkdirSync(R,{recursive:!0}),R=ag.realpathSync(R)),await DG(y,L,this.logger,E,this.initializeParams,x,{onStdout:X=>y.output({category:"stdout",output:X}),onStderr:X=>y.output({category:"stderr",output:X}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:f,hasUserNavigation:!!(l||p),cwd:c||m||void 0,env:Vt.merge(Vt.processEnv(),a),args:o||[],userDataDir:R,connection:u||(d?0:"pipe"),launchUnelevated:g,ignoreDefaultArgs:!n,includeLaunchArgs:i,url:l,inspectUri:d,promisedPort:$})}getFilterForTarget(e){return Ll(ca(e,["about:blank"]))}async doLaunch(e,r){let n;try{n=await this.launchBrowser(e,r.dap,r.cancellationToken,r.telemetryReporter)}catch(u){throw new re(xI(u))}let i=new Qt(this._terminatedCts.token);n.process.onExit(()=>this.fireTerminatedEvent());let o=()=>n.canReconnect&&!i.token.isCancellationRequested,s=async u=>{if(this._targetManager?.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire(),o()&&(await De(1e3),o())){r.dap.output({category:"stderr",output:LG.t("Browser connection failed, will retry: {0}",u?.message||"Connection closed")});try{return await De(2e3),await a()}catch{}}n.process.kill(),this.fireTerminatedEvent()},a=async()=>{if(!i.token.isCancellationRequested)try{let u=await n.createConnection(i.token),l=await this.launchCdp(e,n,u,{...r,cancellationToken:i.token});await this.finishLaunch(l,e),u.onDisconnected(()=>s())}catch(u){if(o())return s(u);throw n.process.kill(),new re(xI(u))}},c=r.cancellationToken.onCancellationRequested(()=>i.cancel());try{await a()}finally{c.dispose()}}async launchCdp(e,r,n,i){if(this._connectionForTest=n,this._targetManager=await za.connect(n,r.process,this.pathResolver,e,this.logger,i.telemetryReporter,i.targetOrigin),!this._targetManager)throw new re(ph());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let o=this.getFilterForTarget(e),s=await Eo(this._targetManager.waitForMainTarget(o),i.cancellationToken,"Could not attach to main target");if(!s)throw new re(Cy());return s}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let n;if(r.file){let i=cd.resolve(r.webRoot||r.rootPath||"",r.file),o=Math.min(i.includes("#")?i.indexOf("#"):1/0,i.includes("?")?i.indexOf("?"):1/0);isFinite(o)&&!await xn(this.fs,i)?n=Be(i.slice(0,o))+i.slice(o):n=Be(i)}else n=r.url;n&&await e.cdp().Page.navigate({url:n})}async launch(e,r){let n=this.resolveParams(e);return n?(await this.doLaunch(n,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}async terminate(){this._targetManager?await this._targetManager.closeBrowser():this.fireTerminatedEvent()}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){return r==="*"?(await e.findWhere(i=>i.quality==="stable")||(await e.findAll())[0])?.path:(0,TG.isQuality)(r)?(await e.findWhere(n=>n.quality===r))?.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminatedCts.token.isCancellationRequested||(this._terminatedCts.cancel(),this._onTerminatedEmitter.fire({code:0,killed:!0}))}};Fo=D([(0,Ya.injectable)(),b(0,(0,Ya.inject)(_o)),b(1,(0,Ya.inject)(ce)),b(2,(0,Ya.inject)(nt)),b(3,(0,Ya.inject)(cn)),b(4,(0,Ya.inject)(xe))],Fo);var $u=class extends Fo{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await Pc(this.fs,n))throw new re(Dy("Chrome",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};$u=D([(0,Mi.injectable)(),b(0,(0,Mi.inject)(_o)),b(1,(0,Mi.inject)(ce)),b(2,(0,Mi.inject)(Jc)),b(2,(0,Mi.tagged)("browser","chrome")),b(3,(0,Mi.inject)(xe)),b(4,(0,Mi.inject)(nt)),b(5,(0,Mi.inject)(cn))],$u);var $G=require("crypto"),Oi=A(Z()),kG=require("net"),RG=require("os"),MG=require("path");var Jve=["--do-not-de-elevate"],ud=class extends Fo{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,n,i,o){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Jve},n,i,o,r.useWebView?this.getWebviewPort(r,o):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?Ll(ca(r)):super.getFilterForTarget(r)}async getWebviewPort(r,n){let i=qe();if(!r.runtimeExecutable)return i.resolve(r.port),i.promise;let o=r.runtimeExecutable.split(/\\|\//).pop(),s=`VSCode_${(0,$G.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${o}\\${s}`,c=(0,kG.createServer)(u=>{u.on("data",async l=>{let p=JSON.parse(l.toString()),d=p.devtoolsActivePort||"",m=parseInt(d.split(`
`).shift()||""),f=r.port||m;i.resolve(f);let g=`ws://${r.address}:${f}/devtools/${p.type}/${p.id}`,y=await Rn.create(g,lr),x=new jt(y,this.logger,n);await x.rootSession().Runtime.runIfWaitingForDebugger({}),x.close()})});return c.on("error",i.reject),c.on("close",()=>i.resolve(r.port)),c.listen(a),r.userDataDir=r.userDataDir||(0,MG.join)((0,RG.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=s,i.promise}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await Pc(this.fs,n))throw new re(Dy("Edge",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};ud=D([(0,Oi.injectable)(),b(0,(0,Oi.inject)(_o)),b(1,(0,Oi.inject)(ce)),b(2,(0,Oi.inject)(Jc)),b(2,(0,Oi.tagged)("browser","edge")),b(3,(0,Oi.inject)(xe)),b(4,(0,Oi.inject)(nt)),b(5,(0,Oi.inject)(cn))],ud);var Ds=A(Z());var OG=require("crypto"),Ax=A(Z());var Yve=0,Bo=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,n){this.server&&this.server.close();let i=`/${(0,OG.randomBytes)(20).toString("hex")}`,o=this.server=await zv(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:i}),s=++Yve;e.launchBrowserInCompanion({...n,serverPort:o.address().port,path:i,launchId:s});let a=await Eo(new Promise((u,l)=>{o.once("connection",u),o.once("error",l)}),r,"Timed out waiting for browser connection"),c=new Rn(a);return this.teardown.set(c,()=>e.killCompanionBrowser({launchId:s})),c}close(e){this.teardown.get(e)?.()}dispose(){this.server?.close(),this.server=void 0}};Bo=D([(0,Ax.injectable)(),b(0,(0,Ax.inject)(pt))],Bo);var ld=class extends ci{constructor(r,n,i,o){super(n,i,o);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,n){let i=await this.helper.launch(r.dap,r.cancellationToken,{type:n.type==="pwa-chrome"?"chrome":"edge",params:n,attach:{host:n.address,port:n.port}});return new jt(i,this.logger,r.telemetryReporter)}};ld=D([(0,Ds.injectable)(),b(0,(0,Ds.inject)(Bo)),b(1,(0,Ds.inject)(ce)),b(2,(0,Ds.inject)(nt)),b(3,(0,Ds.optional)()),b(3,(0,Ds.inject)(Xn))],ld);var Cs=A(Z());var pd=class extends Fo{constructor(r,n,i,o,s,a){super(r,n,i,o,s);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,n,i,o){let s=await this.helper.launch(n,i,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:iT(new Ka(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{canReconnect:!1,createConnection:()=>Promise.resolve(new jt(s,this.logger,o)),process:{onExit:new Y().event,onError:new Y().event,transport:()=>Promise.resolve(s),kill:()=>this.helper.close(s)}}}async findBrowserPath(){throw new Error("not implemented")}};pd=D([(0,Cs.injectable)(),b(0,(0,Cs.inject)(_o)),b(1,(0,Cs.inject)(ce)),b(2,(0,Cs.inject)(nt)),b(3,(0,Cs.inject)(cn)),b(4,(0,Cs.inject)(xe)),b(5,(0,Cs.inject)(Bo))],pd);var Qa=A(Z()),WG=require("net");var dd=class extends ci{constructor(e,r,n){super(e,r,n)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:n}=await Promise.resolve().then(()=>A(qG())),i=n(r.useWebView.pipeName);if(!i)throw new re(G1());let o=i.map(c=>(0,WG.connect)(c)),s;try{s=await Eo(po(o.map(c=>new Promise(u=>c.on("error",()=>u(void 0)).on("connect",()=>u(c))))),e.cancellationToken)}finally{for(let c of o)c!==s&&c.destroy()}if(!s)throw new re(z1());let a=new ai(this.logger,s);return new jt(a,this.logger,e.telemetryReporter)}};dd=D([(0,Qa.injectable)(),b(0,(0,Qa.inject)(ce)),b(1,(0,Qa.inject)(nt)),b(2,(0,Qa.optional)()),b(2,(0,Qa.inject)(Xn))],dd);var gd=A(Z()),n6=require("net");var Mn=A(Z());var cg=Symbol("ILinkedBreakpointLocation");var YG=A(require("path"));var lg=A(Z()),ec=A(require("path")),JG=require("url");var VG=require("fs"),Ps=A(require("path")),oT=require("url");function Sx(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function Ex(t,e,r,n,i){e=_t(e)||e;let o;if(t){if(sn(t))o=_t(t);else if(Br(t))o=await n(t,r,i)||t;else if(Ps.isAbsolute(e))o=ibe(e,t);else{let s=new oT.URL(e).pathname,a=await n(s,r,i),c=Ps.dirname(a);o=Qs(c,t)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:o})}else if(Ps.isAbsolute(e))o=Ps.dirname(e),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:o});else{let s=new oT.URL(e).pathname||"/placeholder.js",a=await n(s,r,i);o=a?Ps.dirname(a):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:o})}return o=OO(o),o=$t(o),o}var ug=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let n=Object.keys(e).sort((i,o)=>o.length-i.length);for(let i of n){if(!i)continue;let o=e[i];if(i[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),rbe(i,t))return nbe(i,o,t)}return""},GG=(t,e)=>async(r,n,i)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let o=await Cl(t,Ps.dirname(e),"package.json");if(!o)return ug(r,n,i);let s=await ug(r,b$(n,a=>a.length>=o.length),i);return process.platform!=="win32"&&r!=="/"&&!s&&(await VG.promises.stat(r).catch(()=>{}))?.isDirectory()?r:s||o};function rbe(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function nbe(t,e,r){let n=decodeURIComponent(r.substring(t.length));return n?Qs(e,n):e}function ibe(t,e){return _n(Ps.dirname(t),e)}var XG=A(Ph()),hd=A(require("path"));var Px="*",zG=new RegExp(Xr(Px),"g"),Dx="?:"+Px,obe=new RegExp(Xr(Dx),"g"),sT=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},KG=new RegExp(`${Xr(Dx)}|${Xr(Px)}`,"g"),Cx=class{constructor(e,r){this.logger=r;this.replacers=[];let n=Object.keys(e).sort((i,o)=>o.replace(Dx,"*").length-i.replace(Dx,"*").length);for(let i of n){let o=e[i];if(!o.includes("*")&&/\$[0-9'`&]/.test(o)){this.replacers.push([new RegExp(`^${i}$`,"i"),o]);continue}let s=Ye(i),a=`"${s}": "${o}"`,c=sT(zG,s)-sT(obe,s);if(c>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(sT(zG,o)>c){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let u="^",l=0;for(KG.lastIndex=0;;){let p=KG.exec(s);if(u+=Xr(s.slice(l,p?.index),"/"),!p)break;p[0]===Px?u+="(.*?)":u+=".*?",l=p.index+p[0].length}c===0&&(u+="([\\/\\\\].*)?",o+="*"),this.replacers.push([new RegExp(u+"$","i"),o.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=Ye(e);for(let[n,i]of this.replacers){let o=r.replace(n,i);if(o!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${o}, via sourceMapPathOverrides entry - ${n.toString()}`),Qs(o)}return e}};var sbe=/\x00/,fd=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new Cx(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=this.options.resolveSourceMapLocations?.map(e=>{let r=e.startsWith("!")?"!":"",n=e.slice(r.length).replace(/(?<!\.)\.[^.]+$/,".*");if(!Br(n))return Ye(e);n=Ye(_n(n));let i=nI(this.options.workspaceFolder),o=nI(n),s=0;for(let a=0;a<i.length&&a<o.length&&o[a].toLowerCase()===i[a].toLowerCase();a++)s+=i[a].length+1;return n=n.slice(0,s).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+n.slice(s),r+n})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(La)||r==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let n=_t(e)||br(e)&&r||e;if(n.startsWith("webpack-internal:///"))return!0;let i=vy(e)?!1:RI(),o=this.rebaseRemoteToLocal(n);return(0,XG.default)((o!==n?[n,o]:[n]).map(Ye),this.resolvePatterns,{dot:!0,nocase:!i}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return hd.resolve(e);let r=oh(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let n=Qs(this.options.localRoot,r);return n=iI(n),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${n}`),_n(n)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=oh(this.options.localRoot,e),n=Qs(this.options.remoteRoot,r);return n=$t(n,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${n}`),n}normalizeSourceMapUrl(e){e=e.replace(sbe,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return hd.posix.isAbsolute(e)||hd.win32.isAbsolute(e)||sn(e)}};var aT="https?:\\/\\/[^\\/]+\\/",Za=class extends fd{constructor(r,n,i,o){super(i,o);this.vueMapper=r;this.fsUtils=n}absolutePathToUrlPath(r){r=ec.normalize(r);let{baseUrl:n,pathMapping:i}=this.options,o=["/",i["/"]],s=Object.entries(i).sort(([u,l],[p,d])=>d.length-l.length||p.length-u.length).find(([,u])=>yy(u,r))||o;if(!s)return{url:Be(r),needsWildcard:!1};if(n&&sn(n))return{url:Tl(r),needsWildcard:!1};let a=aa(ec.relative(s[1],r)),c=s[0].replace(/\/$|^\//g,"");return c&&(a=c+"/"+a),!n&&!Zy(a)?{url:a,needsWildcard:!0}:{url:jy(n,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:n}){let i=r.indexOf("?");return i!==-1&&r.slice(i-4,i)!==".vue"&&(r=r.slice(0,i)),n?this.sourceMapSourceToAbsolute(r,n):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(sn(r)){let s=_t(r);if(await this.fsUtils.exists(s))return s;let a=FO(r);return await this.fsUtils.exists(a)?a:s}let n;try{let s=new JG.URL(r);if(!s.pathname||s.pathname==="/"?n="index.html":n=s.pathname,s.protocol==="webpack-internal:")return}catch{n=r}let i=ec.extname(n),o=n.replace(/^\//,"").split(/[\/\\]/);for(;o.length>0;){let s="/"+o.join("/"),a=await ug(s,this.options.pathMapping,this.logger);if(a){if(!i&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}o.shift()}}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return $t(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:i}=this.options,o=Sx(n.sourceRoot,r),s=this.sourceMapOverrides.apply(o);if(s!==o){s=$t(s);let a=_n(i["/"],"..","ClientApp",oh(i["/"],s));return this.options.clientID==="visualstudio"&&o.startsWith("webpack:///")&&!await this.fsUtils.exists(s)&&await this.fsUtils.exists(a)?a:s}return sn(r)?_t(r):ec.isAbsolute(r)?$t(r):_n(await Ex(n.sourceRoot,n.metadata.compiledPath,i,ug,this.logger),r)}absolutePathToUrlRegexp(r){let n=this.absolutePathToUrlPath(r),i=n.url,o=i.length;i.endsWith("index.html")?(o=i.length-10-1,i=i.slice(0,o)+"\\/?($|index(\\.html)?)"):i.endsWith(".html")&&(o=i.length-5,i=i.slice(0,o)+"(\\.html)?");let s=0;n.needsWildcard&&(i=aT+i,s=aT.length,o+=aT.length);let a=Wn(i,[s,o]);return n.needsWildcard?`${Wn(Be(r))}|${a}`:a}};Za=D([(0,lg.injectable)(),b(0,(0,lg.inject)(Bp)),b(1,(0,lg.inject)(Fr))],Za);var Tx=class extends Za{constructor(r,n,i,o){super(r,n,i,o);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let s=`\\${YG.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(s,"g"),s);this.blazorInCodespacesRegexp=new RegExp(`^${a}${s}([A-z])\\$${s}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let n=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),o=aa(n).replace(/^(\w):(.*)$/,"$1$2"),s=Wn(o);if(s){let a=`dotnet://.*\\.dll/${s}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let n=Be(r),i=Wn(n),o=super.absolutePathToUrlRegexp(r);return i.includes(o)?i:`${i}|${o}`}return super.absolutePathToUrlRegexp(r)}};var QG=require("url");function ZG(t){if("file"in t&&t.file)return Tl(t.file);if(t.url)try{let e=new QG.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var ku=A(require("path")),t6=require("url");var e6="node:",Ts=class t extends fd{constructor(r,n,i,o){super(i,o);this.fsUtils=r;this.linkedBp=n;this.options=i;this.logger=o}static shouldWarnAboutSymlinks(r){return"runtimeArgs"in r&&!r.runtimeArgs?.includes("--preserve-symlinks")}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new t(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:n}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(e6)&&this.options.basePath)return r=ku.join(this.options.basePath,"lib",r.slice(e6.length)),r.endsWith(".js")||(r+=".js"),r;if(n)return this.sourceMapSourceToAbsolute(r,n);let i=_t(r);if(i)return this.rebaseRemoteToLocal(i);if(Zy(r)){let s=this.sourceMapOverrides.apply(r);r=s===r?new t6.URL(r).pathname.slice(1):s}else if(ku.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let o=_n(this.options.basePath??"",r);return this.rebaseRemoteToLocal(o)}absolutePathToUrl(r){return Be(this.rebaseLocalToRemote(ku.normalize(r)))}async absolutePathToUrlRegexp(r){let n=r;try{n=await this.fsUtils.realPath(r)}catch{}return Yy(n,r)?Wn(this.absolutePathToUrl(r)):(this.linkedBp?.warn(),Wn(this.absolutePathToUrl(r))+"|"+Wn(this.absolutePathToUrl(n)))}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;let i=Sx(n.sourceRoot,r),o=this.sourceMapOverrides.apply(i);return o!==i?$t(o):sn(r)?_t(r):!ku.isAbsolute(r)&&this.options.basePath?_n(await Ex(this.options.remoteRoot&&Br(n.sourceRoot)&&this.rebaseRemoteToLocal(n.sourceRoot)||n.sourceRoot,n.metadata.compiledPath,{"/":this.options.basePath},GG(this.fsUtils,n.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var Qr=Symbol("ISourcePathResolverFactory"),Fi=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new Ts(this.fsUtils,Ts.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,Ts.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};Fi=D([(0,Mn.injectable)(),b(0,(0,Mn.inject)(Fr)),b(1,(0,Mn.optional)()),b(1,(0,Mn.inject)(cg))],Fi);var md=class{constructor(e,r,n,i){this.initializeParams=e;this.vueMapper=r;this.fsUtils=n;this.linkedBp=i}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new Ts(this.fsUtils,Ts.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,Ts.getOptions(e),r);{let n=!!e.inspectUri;return new(n?Tx:Za)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:ZG(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};md=D([(0,Mn.injectable)(),b(0,(0,Mn.inject)(cn)),b(1,(0,Mn.inject)(Bp)),b(2,(0,Mn.inject)(Fr)),b(3,(0,Mn.optional)()),b(3,(0,Mn.inject)(cg))],md);var r6=require("url");var Lx=class extends za{constructor(){super(...arguments);this.baseFilter=ca(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:n,debugWebviews:i}=this.launchParams;return!!(n&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||i&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,n,i,o,s,a){let u=await r.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=r.createSession(u.sessionId);return new this(r,void 0,l,n,o,s,i,a)}waitForMainTarget(r){let n=this.launchParams;return n.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:i})=>{if(!i.url.includes(n.__sessionId))return;let o=await this._browser.Target.attachToTarget({targetId:i.targetId,flatten:!0});o&&this.attachedToTarget(i,o.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,n,i,o){let s=super.attachedToTarget(r,n,i||this.filter(r),o,!1);return r.type==="iframe"&&s.setComputeNameFn(abe),s}},abe=t=>{let e;try{e=new r6.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var Bi=class extends ci{constructor(r,n,i){super(r,n);this.pathResolverFactory=i}async launch(r,n){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let i=Bi.debugIdToRendererDebugPort.get(r.__sessionId);if(!i)return{blockSessionTermination:!1};let o=Xs({name:"Webview",type:"pwa-chrome",request:"attach",port:i,__workspaceFolder:r.__workspaceFolder,urlFilter:"",resolveSourceMapLocations:r.resolveSourceMapLocations,...r.rendererDebugOptions});return o.__sessionId=r.__sessionId,o.debugWebWorkerExtHost=r.debugWebWorkerHost,o.debugWebviews=r.debugWebviews,super.launch(o,n).catch(s=>this.logger.error("runtime.exception","Error in webview attach",{err:s})),{blockSessionTermination:!1}}async acquireConnectionInner(r,n,i){let o=new Ie,s=await new Promise((a,c)=>{let u=(0,n6.createConnection)({port:n.port},()=>a(u));u.on("error",c),o.push(i.onCancellationRequested(()=>{u.destroy(),c(new Error("connection timed out"))}))}).finally(()=>o.dispose());return new jt(new ai(this.logger,s),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,n,i){return new Lx(r,void 0,r.rootSession(),this.pathResolverFactory.create(n,this.logger),this.logger,i.telemetryReporter,n,i.targetOrigin)}};Bi.debugIdToRendererDebugPort=new Map,Bi=D([(0,gd.injectable)(),b(0,(0,gd.inject)(ce)),b(1,(0,gd.inject)(nt)),b(2,(0,gd.inject)(Qr))],Bi);var tc=class t{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new t}};var i6=Symbol("ITargetOrigin"),$x=class{constructor(e){this.id=e}},Hd=class{constructor(e){this.id=e}};var kx=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new Lo;this.onTerminatedEmitter=new Y;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,n])=>{n.parent&&this.targets.get(n.parent.id)&&this.targets.add(n.id,n.target)}),e.onRemove(([n])=>{this.targets.remove(n)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let n=this.parentList.get(e.delegateId);if(n===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let i=n.target.targetOrigin();if(!(i instanceof Hd))throw new Error("Expected delegate session to have a mutable target origin");let o=n.target.logger;if(!(o instanceof tc))throw new Error("Expected delegate session to have a proxy logger");return i.id=r.targetOrigin.id,o.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,n.target),n.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var o6=A(Z());var cbe=0,No=class{constructor(){this.delegateSessions=new Lo;this.refsByTarget=new WeakMap}createLauncher(e){return new kx(this.delegateSessions,e)}addDelegate(e,r,n){let i={id:cbe++,target:e,dap:r,parent:n&&this.refsByTarget.get(n)};return this.refsByTarget.set(e,i),this.delegateSessions.add(i.id,i),i.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};No=D([(0,o6.injectable)()],No);var x6=A(Z());var tt=class t{constructor(e,r,n){this.major=e;this.minor=r;this.patch=n}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new t(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var y6=A(Z());var g6=A(l6()),Uo=A(require("fs")),Mu=A(Z()),H6=A(require("net")),hT=A(require("os")),mT=A(require("path"));var Rx=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new Y;this.onEndEmitter=new Y;this.disposables=new Ie;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",n=>{n.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",n=>{n.sessionId===e&&this.onMessageEmitter.fire([n.message,new Qn])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var pT=":::",Mx=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){e===void 0?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){let e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;let r=e.split(pT).find(n=>!!n);if(r)try{return JSON.parse(r)}catch{return}}set inspectorOptions(e){e===void 0?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,r){let n=this.inspectorOptions;n&&(this.inspectorOptions={...n,[e]:r})}};var dT=require("path"),p6=(0,dT.join)(__dirname,"watchdog.js"),Ox=(0,dT.join)(__dirname,"bootloader.js");var fg=A(we()),ui=A(Z()),jo=require("path");var pg=A(Z()),d6=require("path");var Ru=Symbol("IPackageJsonProvider"),Fx={getPath:()=>Promise.resolve(void 0),getContents:()=>Promise.resolve(void 0)},yd=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=_e(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await Cl(this.fs,this.config.cwd,"package.json");return e?(0,d6.join)(e,"package.json"):void 0});this.getContents=_e(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};yd=D([(0,pg.injectable)(),b(0,(0,pg.inject)(Fr)),b(1,(0,pg.inject)(Re))],yd);var li=Symbol("INodeBinaryProvider");function Bx(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var Ibe=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),f6=t=>Ibe.has((0,jo.basename)(t,(0,jo.extname)(t))),h6=(t,e)=>{if(!(!t||!f6(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},fT=new tt(12,0,0),Sbe=new tt(8,0,0),Ebe=[{inclusiveMin:new tt(16,0,0),inclusiveMax:new tt(16,3,99),message:fg.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new tt(7,0,0),inclusiveMax:new tt(8,99,99),message:fg.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],Er=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=fT),r.gte(new tt(12,0,0))&&this.capabilities.add(0),r.gte(new tt(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of Ebe)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},dg=class extends re{constructor(r,n){super(U1(r.toString(),n));this.version=r;this.location=n}},Dbe=["node","node64","electron"],Cbe=new Map([[11,new tt(12,0,0)],[10,new tt(12,0,0)],[9,new tt(12,0,0)],[8,new tt(12,0,0)],[7,new tt(12,0,0)],[6,new tt(12,0,0)],[5,new tt(10,0,0)],[4,new tt(10,0,0)],[3,new tt(10,0,0)],[2,new tt(8,0,0)],[1,new tt(8,0,0)]]),$s=class{constructor(e,r,n){this.logger=e;this.fs=r;this.packageJson=n;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",n,i){try{return await this.resolveAndValidateInner(e,r,n,i)}catch(o){if(!(o instanceof dg))throw o;if(await this.shouldTryDebuggingAnyway(o))return new Er(o.location,o.version instanceof tt?o.version:void 0);throw o}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,n,i){let o=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:o,executable:r}),!o)throw new re(bI(r,fg.t("path does not exist")));if(n)return new Er(o,new tt(n,0,0));let s=Qy(o);if(!Dbe.includes(s)){if(f6(o)){let g=await this.packageJson.getPath();g&&(e=e.addToPath((0,jo.resolve)((0,jo.dirname)(g),"node_modules/.bin"),"prepend"))}try{let g=await this.resolveAndValidateInner(e,"node",void 0,i);return new Er(o,g.version)}catch(g){if(X1(g,9230))throw g;return new Er(o,void 0)}}if(o.startsWith("/snap/"))return new Er(o,void 0);let a=this.knownGoodMappings.get(o);if(a)return a;let c=await this.getVersionText(o,i);if(!c)return new Er(o,void 0);this.logger.info("runtime.launch","Discovered version",{version:c});let u=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(c);if(!u)throw new dg(c,o);let[,l,p,d]=u.map(Number),m=new tt(l,p,d);if(s==="electron"){let g=await this.resolveAndValidate(e);m=tt.min(Cbe.get(m.major)??fT,g.version??fT)}if(m.lt(Sbe))throw new dg(m,o);let f=new Er(o,m);return this.knownGoodMappings.set(o,f),f}async resolveBinaryLocation(e,r){return e&&(0,jo.isAbsolute)(e)?await r1(this.fs,e,r):await gy(this.fs,e,r.value)}async getVersionText(e,r){try{let{stdout:n}=await gw(e,["--version"],{env:Vt.processEnv().defined(),cwd:r});return n.trim()}catch(n){throw r&&!(await xn(this.fs,r))?.isDirectory()?new re(j1(r)):new re(bI(e,n.message))}}};$s=D([(0,ui.injectable)(),b(0,(0,ui.inject)(ce)),b(1,(0,ui.inject)(xe)),b(2,(0,ui.inject)(Ru))],$s);var vd=class extends $s{constructor(r,n,i,o){super(r,n,i);this.vscode=o}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let n=fg.t("Yes");return await this.vscode.window.showErrorMessage(r,n)===n}};vd=D([b(0,(0,ui.inject)(ce)),b(1,(0,ui.inject)(xe)),b(2,(0,ui.inject)(Ru)),b(3,(0,ui.optional)()),b(3,(0,ui.inject)(Xn))],vd);var m6=require("path");var bd=class{constructor(e,r,n,i,o,s,a={},c){this.launchConfig=e;this.targetOriginValue=r;this.connection=n;this.targetInfo=o;this.logger=s;this.lifecycle=a;this._parent=c;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new Y;this._onDisconnectEmitter=new Y;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=n,this._cdp=i,i.pause(),this._waitingForDebugger=o.type==="waitingForDebugger",o.title?this._targetName=`${(0,m6.basename)(o.title)} [${o.processId}]`:this._targetName=`[${o.processId}]`,i.Target.on("targetDestroyed",()=>this.connection.close()),n.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Be(e):e}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",n=>{n.context.auxData&&n.context.auxData.isDefault&&(r=n.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",n=>{n.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{this._waitingForDebugger&&await(await this._doAttach())?.Runtime.runIfWaitingForDebugger({}),this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var hn=class{constructor(e,r,n,i){this.pathProvider=e;this.logger=r;this.portLeaseTracker=n;this.pathResolverFactory=i;this.serverConnections=new Set;this.targets=new Lo;this.onTerminatedEmitter=new Y;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=_e(this.getBootloaderFile.bind(this))}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};this._stopServer();let{server:i,pipe:o}=await this._startServer(r.telemetryReporter),s=this.logger.forTarget(),a=this.run={server:i,serverAddress:o,params:n,context:r,logger:s,pathResolver:this.pathResolverFactory.create(n,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([De(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(i=>new Promise(o=>i.onDisconnected(o))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?Qt.withTimeout(this.run.params.timeout).token:lr}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(Vt.merge(Vt.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=Vt.empty;if(e.envFile)try{r=r.merge(Lbe(e.envFile))}catch(n){throw new re(N1(n.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},n,i){let o=this.getConfiguredEnvironment(e),s=await this.bootloaderFile(e.cwd,n),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await gy(Uo.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...i},c={NODE_OPTIONS:` --require ${s.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:pT+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},u=o.lookup("NODE_OPTIONS");u&&(c.NODE_OPTIONS+=` ${u}`);let l=Vt.processEnv().lookup("NODE_OPTIONS");return l&&(c.NODE_OPTIONS+=` ${l}`),o.merge({...c})}createLifecycle(e,r,n){return{}}async _startServer(e){let r=my(),n=await new Promise((i,o)=>{let s=H6.createServer(a=>this._startSession(a,e)).on("error",o).listen(r,()=>i(s))});return{pipe:r,server:n}}_stopServer(){this.run?.server.close(),this.run=void 0,this.bootloaderFile.value?.then(e=>e.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:n,cdp:i,targetInfo:o}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}o.processId===void 0&&(o.processId=Number(o.targetId));let s=new bd(this.run.params,this.run.context.targetOrigin,n,i,o,this.run.logger,this.createLifecycle(i,this.run,o),o.openerId?this.targets.get(o.openerId):void 0);this.listenToWorkerDomain(i,r,s),this.targets.add(o.targetId,s),s.onDisconnect(()=>this.targets.remove(o.targetId))}async listenToWorkerDomain(e,r,n){e.NodeWorker.on("attachedToWorker",i=>{let o=new Rx(i.sessionId,e),s=new mp(n.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${n.id()}-${i.sessionId}`,title:i.workerInfo.title,url:i.workerInfo.url,openerId:n.id()},n,n.targetOrigin(),new jt(o,n.logger,r).rootSession(),n.logger),a=new Ie;a.push(o),a.push(n.onDisconnect(()=>a.dispose())),a.push(o.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(s.id())),this.targets.add(s.id(),s)})}async acquireTarget(e,r,n){let i=new jt(new ai(n,e),n,r);this.serverConnections.add(i),i.onDisconnected(()=>this.serverConnections.delete(i));let o=i.rootSession(),{targetInfo:s}=await new Promise(u=>o.Target.on("targetCreated",u)),a=s,c=this.portLeaseTracker.register(a.processInspectorPort);return i.onDisconnected(()=>c.dispose()),{targetInfo:a,cdp:o,connection:i,logger:n}}async getBootloaderFile(e,r){let n=Ye(Ox);if(!n.includes(" "))return{interpolatedPath:n,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${n}"`,dispose:()=>{}};let i=`require(${JSON.stringify(n)})`;if(!hT.tmpdir().includes(" ")||!e){let a=mT.join(hT.tmpdir(),"vscode-js-debug-bootloader.js");return await Uo.promises.writeFile(a,i),{interpolatedPath:a,dispose:()=>{}}}let o=".vscode-js-debug-bootloader.js",s=mT.join(e,o);return await Uo.promises.writeFile(s,i),{interpolatedPath:`./${o}`,dispose:()=>Uo.unlinkSync(s)}}async gatherTelemetryFromCdp(e,r){for(let n=0;n<8;n++){let i=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+yt()});if(!this.program)return;if(!i||!i.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof i.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await De(50*2**n);continue}let o=i.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:o.nodeVersion,arch:o.architecture}),this.program.gotTelemetery(o),o}}};hn=D([(0,Mu.injectable)(),b(0,(0,Mu.inject)(li)),b(1,(0,Mu.inject)(ce)),b(2,(0,Mu.inject)(pt)),b(3,(0,Mu.inject)(Qr))],hn);function Lbe(t){if(!Uo.existsSync(t))return{};let e=$be(Uo.readFileSync(t,"utf8"));return g6.parse(Buffer.from(e))}function $be(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var kbe=["NODE_OPTIONS","VSCODE_INSPECTOR_OPTIONS"],rc=class extends hn{async appendEnvironmentVariables(e,r){let n="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(r.defined()).map(([i,o])=>{let s=JSON.stringify(i);return kbe.includes(i)?`process.env[${s}]=(process.env[${s}]||'')+${JSON.stringify(o)}`:`process.env[${s}]=${JSON.stringify(o)}`}).join(";")+"})()"+yt();for(let i=0;i<5;i++){let o=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:n});if(!o){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!o.exceptionDetails&&o.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",o),await De(50)}}};rc=D([(0,y6.injectable)()],rc);var Nx=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},jx=class{constructor(e,r,n){this.child=e;this.logger=r;this.killBehavior=n;this.killed=!1;this.stopped=new Promise((i,o)=>{e.once("exit",s=>i({killed:this.killed,code:s||0})),e.once("error",s=>o({killed:this.killed,code:1,error:s}))})}gotTelemetery(){}stop(){return this.killed=!0,Ri(this.child.pid,this.logger,this.killBehavior),this.stopped}},ks=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},nc=class extends ks{constructor(r){super();this.wd=r;r.onEnd(n=>{this.stopDefer(n),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},wd=class t{constructor(e,r,n){this.terminalResult=e;this.logger=r;this.killBehavior=n;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}static{this.terminationPollInterval=1e3}static{this.killConfirmInterval=200}gotTelemetery({processId:e}){if(this.didStop){Ri(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(Ri(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,t.killConfirmInterval)):this.terminalResult.shellProcessId?(Ri(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,t.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=t.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let n={processId:e,timer:setInterval(()=>{Rbe(e)||(clearInterval(n.timer),this.onStopped(!0))},r)};this.loop=n}};function Rbe(t){try{return process.kill(t,0),!0}catch{return!1}}var w6=A(require("net"));var v6=require("crypto"),b6=()=>(0,v6.randomBytes)(12).toString("hex");var pi=class t{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new Y;this.cts=new Qt;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??b6(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((i,o)=>{let s=w6.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),n=new ai(ii.null,r);return new t(e,n)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([n])=>{if(this.target&&!n.includes("Target.attachToTarget")&&!n.includes("Target.detachFromTarget")){this.target.send(n);return}let i=await this.execute(n);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:this.target?.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await Rn.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var gT=class extends nc{constructor(r,n){super(r);this.logger=n;this.stopped.then(()=>{this.telemetry&&Ri(this.telemetry.processId,this.logger,"polite")})}},xd=class extends rc{constructor(){super(...arguments);this.restarting=!1}async restart(){this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),this.program?.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=await ad(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),i=await pi.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:n,waitForDebugger:!0,dynamicAttach:!0}),o=this.program=new gT(i,this.logger);this.program.stopped.then(s=>{o===this.program&&this.onProgramTerminated(s)})}createLifecycle(r,n,i){return i.openerId?{}:{initialized:()=>this.onFirstInitialize(r,n,i)}}async onFirstInitialize(r,n,i){this.setEnvironmentVariables(r,n,i.targetId);let o=await this.gatherTelemetryFromCdp(r,n),s=this.program;if(o&&s){let a=new wd({processId:o.processId},this.logger,"forceful");a.stopped.then(()=>s.stop()),s.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,n,i){if(!n.params.autoAttachChildProcesses)return;let o=await this.resolveEnvironment(n,new Er("node",tt.parse(process.versions.node)),{openerId:i});return this.appendEnvironmentVariables(r,o.update("ELECTRON_RUN_AS_NODE",null))}};xd=D([(0,x6.injectable)()],xd);var hg=require("fs"),_6=A(Z());var _d=class extends hn{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await Ha(),n=await e.context.dap.launchVSCodeRequest({args:Mbe(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});n.rendererDebugPort&&Bi.debugIdToRendererDebugPort.set(e.params.__sessionId,n.rendererDebugPort),this.program=new ks,this.program.stop()}};_d=D([(0,_6.injectable)()],_d);var Mbe=(t,e)=>{let r=t.args.map(n=>{if(n.startsWith("-")){let i=n.split("=",2);return i.length===2&&((0,hg.existsSync)(i[1])||(0,hg.existsSync)(i[1]+".js"))?{prefix:i[0]+"=",path:i[1]}:{prefix:n}}else{try{let i=(0,hg.lstatSync)(n);if(i.isDirectory())return{prefix:"--folder-uri=",path:n};if(i.isFile())return{prefix:"--file-uri=",path:n}}catch{}return{path:n}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var R6=A(we()),Ou=A(Z());var A6=require("crypto"),mg=require("fs"),I6=require("os"),S6=A(require("path")),Ux=class t{constructor(){this.disposed=!1;this.path=S6.join((0,I6.tmpdir)(),`node-debug-callback-${(0,A6.randomBytes)(8).toString("hex")}`);this.file=mg.promises.open(this.path,"w")}static{this.updateInterval=1e3}static{this.recencyDeadline=2e3}static isValid(e){try{let r=(0,mg.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-t.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),t.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(e()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await mg.promises.unlink(this.path)}catch{}}}};var L6=require("fs");var C6=require("path");var E6=require("child_process"),D6=A(yx()),Ad=class{constructor(e=E6.spawn){this.spawn=e}lookup(e,r){return new Promise((n,i)=>{let o=this.createProcess(),s=this.createParser();o.on("error",i),o.stderr.on("error",a=>i(`Error finding processes: ${a.toString()}`)),o.stdout.pipe((0,D6.default)(/\r?\n/)).on("data",a=>{let c=s(a);c&&(r=e(c,r))}),o.on("close",(a,c)=>{a===0?n(r):c?i(new Error(`process terminated with signal: ${c}`)):a&&i(new Error(`process terminated with exit code: ${a}`))})})}};var Id=class extends Ad{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:n}=await gw("lsof",["-a","-dcwd","-Fn",`-p${r}`]),i=n.trim().split(`
`).pop().slice(1);return i&&(0,C6.isAbsolute)(i)&&await this.fsUtils.exists(i)?i:void 0}catch(n){if(n instanceof Hu)return;throw n}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return n=>{if(!r){r=n.indexOf("COMMAND");return}let i=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(n);if(i)return{pid:Number(i[1]),ppid:Number(i[2]),command:n.slice(i[0].length,r).trim(),args:n.slice(r).trim()}}}};var qx=class extends Id{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let n=e(r);if(!n)return;let i=n.args.indexOf(n.command);if(i===-1)return n;for(i=i+n.command.length;i<n.args.length&&n.args[i]!==" ";)i++;return n.command=n.args.substr(0,i),n.args=n.args.substr(i+1),n}}};var P6=require("path");var Wx=class extends Ad{async getWorkingDirectory(){}createProcess(){let e=(0,P6.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let n=e.exec(r.trim());if(!n||n.length!==5)return;let i=Number(n[4]),o=Number(n[3]),s=Number(n[2]),a=n[1].trim();if(!isNaN(i)&&!isNaN(o)&&a){let c=a;if(a[0]==='"'){let u=a.indexOf('"',1);u>0&&(c=a.substr(1,u-1),a=a.substr(u+2))}else{let u=a.indexOf(" ");u>0?(c=a.substr(0,u),a=a.substr(u+1)):a=""}return{pid:i,ppid:o,command:c,args:a,date:s}}}}};var T6=new wn(L6.promises),gg=process.platform==="win32"?new Wx:process.platform==="darwin"?new Id(T6):new qx(T6);function Vx(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,n,i,o=e.exec(t);return o&&o.length>=1&&(o.length>=5&&o[4]&&(n=o[4]),o.length>=6&&o[5]&&(i=parseInt(o[5]))),o=r.exec(t),o&&o.length===2&&(i=parseInt(o[1])),{address:n,port:i}}async function $6(t,e,r,n=lr){let i=await Obe(t.pid,r);if(!i)return[];let o=[],s=i.children.slice();for(;s.length;){let a=s.pop();s=s.concat(a.children);let{port:c}=Vx(a.args);c&&o.push(nT(`http://${t.hostname}:${c}`,n,r,!0).then(u=>pi.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:u,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(u=>r.info("internal","Could not spawn WD for child process",{err:u,port:c,child:a})))}return(await Promise.all(o)).filter(a=>!!a)}async function Obe(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await gg.lookup(({pid:i,ppid:o,command:s,args:a})=>(i!==o&&r.set(i,{pid:i,ppid:o,command:s,args:a,children:[]}),r),null)}catch(i){e.warn("internal","Error getting child process tree",i);return}let n=r.values();for(let i of n){let o=r.get(i.ppid);o&&o!==i&&o.children.push(i)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var k6=A(Z());var qo=class{create(e){return e===!1?new HT:e===!0?new Gx({maxAttempts:1/0,delay:1e3}):new Gx({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};qo=D([(0,k6.injectable)()],qo);var Gx=class t{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new t(this.options,this.attempt+1)}reset(){return this.attempt?new t(this.options):this}},HT=class{constructor(){this.delay=-1}next(){}reset(){return this}};var Sd=class extends rc{constructor(r,n,i,o,s=new qo){super(r,n,o,i);this.restarters=s}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=async(o,s)=>{let a=this.program,c;try{r.params.websocketAddress?c=r.params.websocketAddress:c=await ad(`http://${r.params.address}:${r.params.port}`,s&&r.params.timeout>0?Qt.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===s)return i(o,a,{killed:!1,code:1});throw p}let u=await pi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:c,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new nc(u);l.stopped.then(p=>i(o.reset(),l,p))},i=async(o,s,a)=>{if(this.program!==s)return;if(a.killed){this.onProgramTerminated(a);return}let c=o.next();if(!c){this.onProgramTerminated(a);return}r.context.dap.output({output:R6.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,c.delay)});let u=new ks;this.program=u;let l=await Promise.race([De(c.delay),u.stopped]);this.program===u&&(l?this.onProgramTerminated(a):n(c,u))};return n(this.restarters.create(r.params.restart))}async terminate(r){await super.terminate(),r&&this.telemetry&&Ri(this.telemetry.processId,this.logger)}createLifecycle(r,n,i){if(i.openerId)return{};let o;return{initialized:async()=>{o=this.onFirstInitialize(r,n,i),await o},close:()=>{this.targetList().length&&this.program?.stop(),o?.then(s=>s.dispose())}}}async onFirstInitialize(r,n,i){let o=new Ux;await o.startTouchLoop();let s=new Er("node",void 0);try{s=await this.resolveNodePath(n.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(r,n),this.setEnvironmentVariables(r,n,o.path,i.targetId,s)]);return this.telemetry=a,a&&n.params.attachExistingChildren&&$6({pid:a.processId,nodePath:s.path,hostname:n.params.address,ipcAddress:n.serverAddress},i.targetId,this.logger).catch(c=>this.logger.warn("internal","Error watching child processes",{err:c})),o}async setEnvironmentVariables(r,n,i,o,s){if(!n.params.autoAttachChildProcesses)return;if(!await Pl(n.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(n,s,{requireLease:i,openerId:o});return this.appendEnvironmentVariables(r,a)}};Sd=D([(0,Ou.injectable)(),b(0,(0,Ou.inject)(li)),b(1,(0,Ou.inject)(ce)),b(2,(0,Ou.inject)(Qr)),b(3,(0,Ou.inject)(pt))],Sd);var On=A(Z()),Cd=require("path");function zx(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var M6=require("os"),O6=A(require("path")),F6=require("crypto"),Ed=require("fs"),Kx=class t{constructor(){this.path=O6.join((0,M6.tmpdir)(),`node-debug-callback-${(0,F6.randomBytes)(8).toString("hex")}`);this.disposed=!1}static{this.pollInterval=200}read(e=t.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,n)=>{let i=setInterval(()=>{if(this.disposed){clearInterval(i),r(void 0);return}if((0,Ed.existsSync)(this.path)){try{r(JSON.parse((0,Ed.readFileSync)(this.path,"utf-8")))}catch(o){n(o)}finally{this.dispose()}clearInterval(i)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,Ed.unlinkSync)(this.path)}catch{}}}};var Fu=A(require("path"));var Hg=Symbol("IProgramLauncher"),Xx=t=>{let e=t.program;if(e&&Fu.isAbsolute(e)){let r=Fu.relative(t.cwd,e);e=Fu.isAbsolute(r)?r:`.${Fu.sep}${r}`}return e?[...t.runtimeArgs,e,...yh(t.args)]:[...t.runtimeArgs,...yh(t.args)]};var Fbe=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,Cd.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,Cd.resolve)(e.cwd,e.program);for(let r of yh(e.args)){if(r.startsWith("-"))continue;let n=(0,Cd.resolve)(e.cwd,r);if(await t.exists(n))return n}},Dd=class extends hn{constructor(r,n,i,o,s,a,c,u,l){super(r,n,l,u);this.bpPredictor=i;this.launchers=o;this.restarters=s;this.fsUtils=a;this.packageJson=c}resolveParams(r){let n;if(r.type==="pwa-node"&&r.request==="launch"?n={...r}:"server"in r&&r.server&&"program"in r.server&&(n={...r.server}),!!n)return zx(n),n}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let n=async i=>{this.program&&this.program.stop();let o=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),s=o.warning;s&&r.context.dap.output({category:"stderr",output:s.message});let a=new Kx,c=await this.resolveEnvironment(r,o,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),c=c.merge({NODE_OPTIONS:null})):c=Bx(o,c);let u={...r.params,env:c.value},l=this.launchers.find(d=>d.canLaunch(u));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(o.path,u,r.context);if(this.attachSimplePort){let d=await pi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await ad(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new Nx(p,new nc(d))}else a.read().then(d=>{d&&p.gotTelemetery(d)});this.program=p,p.stopped.then(async d=>{if(a.dispose(),this.program!==p)return;if(d.killed||d.code===0){this.onProgramTerminated(d);return}let m=i.next();if(!m){this.onProgramTerminated(d);return}await De(m.delay),this.program===p&&n(m)})};return n(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){if(r.attachSimplePort)return r.attachSimplePort;let n=h6(r.runtimeExecutable,r.runtimeArgs);if(!(!n||!(await this.packageJson.getContents())?.scripts?.[n]?.includes("--inspect-brk")))return r.port??9229}createLifecycle(r,n,{targetId:i}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,n),!n.params.stopOnEntry)return;let o=await Fbe(this.fsUtils,n.params);if(!o){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let s="(?:entryBreakpoint){0}",a=Be(o),c=Wn(a)+s,u=await r.Debugger.setBreakpointByUrl({urlRegex:c,lineNumber:0,columnNumber:0});return u?.breakpointId?{cdpId:u?.breakpointId,path:a}:void 0},close:()=>{let o=Number(i);if(o>0)try{process.kill(o)}catch{}}}}async tryGetCompiledFile(r){r=$t(r);let n=(0,Cd.extname)(r);if(!n||n===".js")return r;let i=await this.bpPredictor.getPredictionForSource(r);if(!i||i.size===0)return r;let o=oa(i.values());return o?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:o.compiledPath,candidates:i.size}),o.compiledPath):r}};Dd=D([(0,On.injectable)(),b(0,(0,On.inject)(li)),b(1,(0,On.inject)(ce)),b(2,(0,On.inject)(jc)),b(3,(0,On.multiInject)(Hg)),b(4,(0,On.inject)(qo)),b(5,(0,On.inject)(Fr)),b(6,(0,On.inject)(Ru)),b(7,(0,On.inject)(Qr)),b(8,(0,On.inject)(pt))],Dd);var Td=A(require("fs")),B6=require("fs"),Jx=A(Z()),N6=A(require("os")),Gt=A(require("path"));var Yx=Symbol("INvmResolver");var Pd=class{constructor(e=new wn(B6.promises),r=process.env,n=process.arch,i=process.platform,o=N6.homedir()){this.fsUtils=e;this.env=r;this.arch=n;this.platform=i;this.homedir=o}async resolveNvmVersionPath(e){let r,n=[],i=this.parseVersionString(e),o=this.env.NVS_HOME;if(!o){let s=this.platform==="win32"?Gt.join(this.env.LOCALAPPDATA||"","nvs"):Gt.join(this.env.HOME||"",".nvs");Td.existsSync(s)&&(o=s)}if(i.nvsFormat||o){if(r=await this.resolveNvs(o,i),!r&&i.nvsFormat)throw new re(vI(e,"nvs"));n.push("nvs")}if(!r)if(this.platform==="win32")this.env.NVM_HOME&&(r=await this.resolveWindowsNvm(e),n.push("nvm-windows"));else{let s=this.env.NVM_DIR||Gt.join(this.homedir,".nvm");await this.fsUtils.exists(s)&&(r=await this.resolveUnixNvm(e),n.push("nvm"))}if(!r){let s=this.platform==="win32"?this.env.FNM_DIR||Gt.join(this.env.APPDATA||"","fnm"):this.env.FNM_DIR||Gt.join(this.homedir,".fnm");await this.fsUtils.exists(s)&&(r=await this.resolveFnm(e,s),n.push("fnm"))}if(!n.length)throw new re(yI());if(!r||!await this.fsUtils.exists(r))throw new re(vI(e,n.join("/")));return{directory:r,binary:await this.getBinaryInFolder(r)}}async getBinaryInFolder(e){return await po(["node64.exe","node64"].map(r=>this.fsUtils.exists(Gt.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:n,arch:i}){if(!e)throw new re(O1());let o=this.findBinFolderForVersion(Gt.join(e,r),n,s=>Td.existsSync(Gt.join(s,i)));if(o)return this.platform!=="win32"?Gt.join(o,i,"bin"):Gt.join(o,i)}async resolveUnixNvm(e){let r=this.env.NVM_DIR;if(!r){let i=Gt.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(i)&&(r=i)}if(!r)throw new re(yI());let n=this.findBinFolderForVersion(Gt.join(r,"versions","node"),`v${e}`);return n?Gt.join(n,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env.NVM_HOME;if(!r)throw new re(F1());return this.findBinFolderForVersion(r,`v${e}`)}async resolveFnm(e,r){let n=this.findBinFolderForVersion(Gt.join(r,"node-versions"),`v${e}`);if(n)return this.platform==="win32"?Gt.join(n,"installation"):Gt.join(n,"installation","bin")}findBinFolderForVersion(e,r,n){if(!Td.existsSync(e))return;let i=Td.readdirSync(e);if(i.includes(r))return Gt.join(e,r);let o=i.filter(s=>s.startsWith(`${r}.`)).sort(Bbe).filter(s=>n?n(Gt.join(e,s)):!0).pop();return o?Gt.join(e,o):void 0}parseVersionString(e){let n=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!n)throw new Error("Invalid version string: "+e);let i=!!(n[2]||n[8]),o=n[2]||"node",s=n[4]||"",a=Nbe(n[8]||this.arch);return{nvsFormat:i,remoteName:o,semanticVersion:s,arch:a}}};Pd=D([(0,Jx.injectable)(),b(0,(0,Jx.inject)(Fr))],Pd);var Bbe=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!n)return(n?-1:0)+(r?1:0);let[,i,o,s]=r,[,a,c,u]=n;return Number(i)-Number(a)||Number(o)-Number(c)||Number(s)-Number(u)};function Nbe(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var j6=require("child_process"),Zx=A(Z()),U6=A(yx());var Ld=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,n){let{executable:i,args:o,shell:s,cwd:a}=jbe(e,Xx(r),r.cwd);n.dap.output({category:"console",output:[i,...o].join(" ")+`
`});let c=(0,j6.spawn)(i,o,{shell:s,cwd:a,env:Vt.merge(Vt.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(n.dap,c):this.captureStdio(n.dap,c),new jx(c,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(Qx.stream()).on("data",n=>e.output({category:"stdout",output:n})).resume(),r.stderr.pipe(Qx.stream()).on("data",n=>e.output({category:"stderr",output:n})).resume()}discardStdio(e,r){let n=[],i=()=>{n&&e.output({category:"stderr",output:Buffer.concat(n).toString()})},o=Buffer.from("Debugger attached."),s=a=>{a.includes(o)?(n=void 0,r.stderr.removeListener("data",s)):n&&n.push(a)};r.stderr.on("data",s),r.on("error",a=>{i(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(i(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};Ld=D([(0,Zx.injectable)(),b(0,(0,Zx.inject)(ce))],Ld);var jbe=(t,e,r)=>{if(process.platform==="win32"&&(t=Ii(t),r=Ii(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let n=!1,i=[];for(let o of e)o.includes(" ")?(i.push(`"${o}"`),n=!0):i.push(o);return n?{executable:`"${t}"`,args:i,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var Qx=class t{constructor(){this.etxSpotted=!1}static stream(){return(0,U6.default)(new t)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let r=e.split("");return r.length>1?r.map((n,i)=>i<r.length-1?`${n}
`:n):r}};var e_=A(Z());var $d=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,n){let i={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...Xx(r)],env:il(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},o;try{o=await this.sendLaunchRequest(i,n)}catch(s){throw new re(B1(s.message))}return new wd(o,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};$d=D([(0,e_.injectable)(),b(0,(0,e_.inject)(ce))],$d);var q6=A(Z());var kd=class{getTreatment(e,r){return Promise.resolve(r)}};kd=D([(0,q6.injectable)()],kd);var W6=A(Z());var Bu=class{constructor(){this.flushEmitter=new Y;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Bu=D([(0,W6.injectable)()],Bu);var V6=require("crypto"),ic=A(Z()),G6=require("os"),z6=A(require("path")),yg=A(require("vscode"));var yT=class{constructor(e){this.terminal=e;this.stopped=new Promise(r=>{let n=yg.window.onDidCloseTerminal(i=>{i===e&&(r({code:0,killed:!0}),n.dispose())})})}gotTelemetery(){}stop(){return this.terminal.sendText(""),setTimeout(()=>this.terminal.dispose(),1),this.stopped}},Rs=class extends hn{constructor(r,n,i,o,s){super(r,n,s,o);this.fs=i;this.terminalCreatedEmitter=new Y;this.callbackFile=z6.join((0,G6.tmpdir)(),`node-debug-callback-${(0,V6.randomBytes)(8).toString("hex")}`);this.onTerminalCreated=this.terminalCreatedEmitter.event}async getProcessTelemetry(){try{return JSON.parse(await this.fs.readFile(this.callbackFile,"utf-8"))}catch{return}}resolveParams(r){if(r.type==="node-terminal"&&r.request==="launch")return r;if(r.type==="pwa-chrome"&&r.server&&"command"in r.server)return r.server}async launchProgram(r){let n;try{n=await this.resolveNodePath(r.params)}catch(a){if(a instanceof re&&a.cause.id===9230)throw a;n=new Er("node",void 0)}let i=await this.resolveEnvironment(r,n,{fileCallback:this.callbackFile}),o=await this.createTerminal({name:r.params.name,cwd:r.params.cwd,iconPath:new yg.ThemeIcon("debug"),env:Bx(n,i).defined(),isTransient:!0});this.terminalCreatedEmitter.fire(o),o.show();let s=this.program=new yT(o);r.params.command&&(await Promise.race([o.processId,De(1e3)]),o.sendText(r.params.command,!0)),s.stopped.then(a=>{s===this.program&&this.onProgramTerminated(a)})}createTerminal(r){return Promise.resolve(yg.window.createTerminal(r))}dispose(){super.dispose(),this.fs.unlink(this.callbackFile).catch(()=>{})}};Rs=D([(0,ic.injectable)(),b(0,(0,ic.inject)(li)),b(1,(0,ic.inject)(ce)),b(2,(0,ic.inject)(xe)),b(3,(0,ic.inject)(Qr)),b(4,(0,ic.inject)(pt))],Rs);var qu=A(Z()),Cg=A(tK());var Vd=class{constructor(e,r){r&&e instanceof ln&&(this.service=(0,Cg.getExperimentationService)("ms-vscode.js-debug",Sc,dH?Cg.TargetPopulation.Insiders:Cg.TargetPopulation.Public,{setSharedProperty(n,i){e.setGlobalMetric(n,i)},postEvent(n,i){e.pushOutput({category:"telemetry",output:n,data:i})}},r.globalState))}async getTreatment(e,r){if(!this.service)return r;try{return await this.service.getTreatmentVariableAsync("vscode",e,!0)}catch{return r}}};Vd=D([(0,qu.injectable)(),b(0,(0,qu.inject)(Yt)),b(1,(0,qu.optional)()),b(1,(0,qu.inject)(st))],Vd);var D_=A(Z()),nK=A(require("vscode"));var rK=A(Z()),Cr=A(require("vscode"));var Ze=class{constructor(){this._onSessionAddedEmitter=new Cr.EventEmitter;this._onSessionEndedEmitter=new Cr.EventEmitter;this._disposables=[];this.sessions=new Map;this.onSessionAdded=this._onSessionAddedEmitter.event;this.onSessionEnded=this._onSessionEndedEmitter.event}static isConcreteSession(e){return!!e.configuration.__pendingTargetId}static pickSession(e,r){if(e.length<2)return e[0];let n=Cr.window.createQuickPick();return n.title=r,n.items=e.map(i=>({label:i.name,id:i.id})),n.ignoreFocusOut=!0,new Promise(i=>{n.onDidAccept(()=>i(e.find(o=>o.id===n.selectedItems[0]?.id))),n.onDidHide(()=>i(void 0)),n.show()}).finally(()=>n.dispose())}get isDebugging(){return this.sessions.size>0}getById(e){return this.sessions.get(e)}isRunning(e){return[...this.sessions.values()].includes(e)}getByName(e){return[...this.sessions.values()].filter(r=>r.name===e)}getConcreteSessions(){return[...this.sessions.values()].filter(Ze.isConcreteSession)}getChildren(e){return[...this.sessions.values()].filter(r=>r.configuration.__parentId===e.id)}attach(){Cr.debug.onDidStartDebugSession(e=>{Ks(e.type)&&(this.sessions.set(e.id,e),this._onSessionAddedEmitter.fire(e))},void 0,this._disposables),Cr.debug.onDidTerminateDebugSession(e=>{Ks(e.type)&&(this.sessions.delete(e.id),this._onSessionEndedEmitter.fire(e))},void 0,this._disposables),Cr.debug.onDidReceiveDebugSessionCustomEvent(e=>{if(Ks(e.session.type)){if(e.event==="revealLocationRequested"){let r=e.body,n=Cr.debug.asDebugSourceUri(e.body.source),i={};if(r.line){let o=new Cr.Position((r.line||1)-1,(r.column||1)-1);i.selection=new Cr.Range(o,o)}Cr.window.showTextDocument(n,i);return}if(e.event==="copyRequested"){let r=e.body;Cr.env.clipboard.writeText(r.text);return}}},void 0,this._disposables)}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[]}};Ze=D([(0,rK.injectable)()],Ze);var Gd=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(this.tracker.onSessionEnded(r=>{let n=r.configuration.cascadeTerminateToConfigurations;if(!(!n||!(n instanceof Array)))for(let i of n)for(let o of this.tracker.getByName(i))nK.debug.stopDebugging(o)}))}};Gd=D([(0,D_.injectable)(),b(0,(0,D_.inject)(Ze))],Gd);var C_=Symbol("IDebugConfigurationResolver"),P_=Symbol("IDebugConfigurationProvider");var Qd=A(we()),Ns=A(Z()),HK=require("os"),Zd=require("path"),Tg=A(require("vscode"));var iK=A(Z()),oK=A(require("vscode"));var Os=class{get type(){return this.getType()}get triggerKind(){return this.getTriggerKind()}async provideDebugConfigurations(e,r){try{let n=await this.provide(e,r);if(!n)return[];let i=n instanceof Array?n:[n],o=Nf.get(this.type);if(o)for(let s of i)s.type===this.type&&(s.type=o);return i}catch(n){return oK.window.showErrorMessage(n.message,{modal:!0}),[]}}};Os=D([(0,iK.injectable)()],Os);var $_=A(Z()),cK=require("path"),Fs=A(require("vscode"));var Pg=A(Z()),SL=A(require("vscode"));var sK=A(require("vscode")),zd=class{constructor(e){this.key=e}set value(e){e!==this._value&&(this._value=e,sK.commands.executeCommand("setContext",this.key,e))}get value(){return this._value}};var aK=Symbol("Uninitialized"),T_=class{constructor(e,r){this.key=e;this.defaultValue=r;this._value=aK}write(e,r){r!==this.read(e)&&(this._value=r,e.update(this.key,r))}read(e){return this._value===aK&&(this._value=e.get(this.key)??this.defaultValue),this._value}};var L_=new T_("sourceSteppingEnabled",!0),Kd=class{constructor(e,r){this.context=e;this.tracker=r}register(e){let r=new zd("jsDebugIsMapSteppingDisabled");L_.read(this.context.workspaceState)===!1&&(r.value=!0);let n=i=>{r.value=!i,L_.write(this.context.workspaceState,i);for(let o of this.tracker.getConcreteSessions())o.customRequest("setSourceMapStepping",{enabled:i})};e.subscriptions.push(Te(SL.commands,"extension.js-debug.enableSourceMapStepping",async()=>{n(!0)}),Te(SL.commands,"extension.js-debug.disableSourceMapStepping",async()=>{n(!1)}))}};Kd=D([(0,Pg.injectable)(),b(0,(0,Pg.inject)(st)),b(1,(0,Pg.inject)(Ze))],Kd);var mi=class{constructor(e){this.extensionContext=e}get type(){return this.getType()}async resolveDebugConfiguration(e,r,n){if(r.type&&(r.type=this.getType()),"__pendingTargetId"in r)return r;let i=r;i.sourceMaps??=L_.read(this.extensionContext.workspaceState);try{let o=await this.resolveDebugConfigurationAsync(e,i,n);return o&&this.commonResolution(o,e)}catch(o){Fs.window.showErrorMessage(o.message,{modal:!0})}}applyDefaultRuntimeExecutable(e){if(e.runtimeExecutable)return;let r=Dt(Fs.workspace,"debug.javascript.defaultRuntimeExecutable"),n=r?r[e.type]:void 0;n&&(e.runtimeExecutable=n)}commonResolution(e,r){return e.trace=sI(e.trace,this.extensionContext.logPath),e.__workspaceCachePath=this.extensionContext.storagePath,e.__breakOnConditionalError=Dt(Fs.workspace,"debug.javascript.breakOnConditionalError",r)??!1,r?e.__workspaceFolder=r.uri.fsPath:(e.__workspaceFolder||=this.getSuggestedWorkspaceFolders(e).filter(Ct).filter(n=>!n.includes("${workspaceFolder}")).map(n=>(0,cK.isAbsolute)(n)?Fs.workspace.getWorkspaceFolder(Fs.Uri.file(n))?.uri.fsPath:n).find(Ct)||Fs.workspace.workspaceFolders?.[0]?.uri.fsPath||"",e.__workspaceFolder?e=U0(e):e=j0(e)),e}getSuggestedWorkspaceFolders(e){return[]}};mi=D([(0,$_.injectable)(),b(0,(0,$_.inject)(st))],mi);var dc=A(we()),Jd=require("fs"),Xd=A(Z()),It=A(require("path")),Bn=A(require("vscode"));var uK=A(require("vscode"));function k_(t){uK.debug.activeDebugConsole.appendLine(t)}var Wu=A(we()),lK=require("child_process"),pK=require("fs"),dK=require("path"),Hn=A(require("vscode"));var w0e=9229;async function fK(){let t=await CL();if(!t)return;let e=Dt(Hn.workspace,"debug.javascript.pickAndAttachOptions"),r={...O0,...e,name:"process",processId:t};await DL(new wn(pK.promises),r,!0),await Hn.debug.startDebugging(r.cwd?Hn.workspace.getWorkspaceFolder(Hn.Uri.file(r.cwd)):void 0,r)}async function DL(t,e,r=!1){let n=e.processId?.trim(),i=n&&A0e(n);if(!i||isNaN(i.pid))throw new Error(Wu.t("Attach to process: '{0}' doesn't look like a process id.",n||"<unknown>"));if(i.port||S0e(i.pid),e.port=i.port||w0e,delete e.processId,r){let o=await x0e(t,i.pid);o&&(e.cwd=o)}}async function x0e(t,e){let r=e&&await gg.getWorkingDirectory(e);if(!r)return Hn.workspace.workspaceFolders?.[0].uri.fsPath;let n=await Cl(t,r,"package.json");if(!n)return r;let i=Hn.workspace.getWorkspaceFolder(Hn.Uri.file(r));return!i||Hy(i.uri.fsPath,n)?n:i.uri.fsPath}async function CL(){try{let t=await I0e();return t?t.pidAndPort:null}catch(t){return await Hn.window.showErrorMessage(Wu.t("Process picker failed ({0})",t.message),{modal:!0}),null}}var _0e=(t,e)=>`${t}:${e??""}`,A0e=t=>{let[e,r]=t.split(":");return{pid:Number(e),port:r?Number(r):void 0}};async function I0e(){let t=/^(?:node|iojs)(?:$|\b)/i,e=0,r=Hn.window.createQuickPick();r.placeholder=Wu.t("Pick the node.js process to attach to"),r.matchOnDescription=!0,r.matchOnDetail=!0,r.busy=!0,r.show();let n=!1,i=new Promise(s=>{r.onDidAccept(()=>s(r.selectedItems[0])),r.onDidHide(()=>s(void 0))});gg.lookup((s,a)=>{if(n)return a;process.platform==="win32"&&s.command.indexOf("\\??\\")===0&&(s.command=s.command.replace("\\??\\",""));let c=(0,dK.basename)(s.command,".exe"),{port:u}=Vx(s.args);if(!u&&!t.test(c))return a;let l={label:c,description:s.args,pidAndPort:_0e(s.pid,u),sortKey:s.date?s.date:e++,detail:u?Wu.t("process id: {0}, debug port: {1} ({2})",s.pid,u,"SIGUSR1"):Wu.t("process id: {0} ({1})",s.pid,"SIGUSR1")},p=a.findIndex(d=>d.sortKey<l.sortKey);return a.splice(p===-1?a.length:p,0,l),r.items=a,a},[]).then(()=>r.busy=!1).catch(s=>{Hn.window.showErrorMessage(`Error listing processes: ${s.message}`),r.dispose()});let o=await i;return n=!0,r.dispose(),o}function S0e(t){try{if(process.platform==="win32"){let e=`node -e process._debugProcess(${t})`;(0,lK.execSync)(e)}else process.kill(t,"SIGUSR1")}catch(e){throw new Error(Wu.t("Attach to process: cannot enable debug mode for process '{0}' ({1}).",t,e))}}var fc=class extends mi{constructor(r,n,i){super(r);this.nvmResolver=n;this.fsUtils=i}async resolveDebugConfigurationWithSubstitutedVariables(r,n){let i=n;if(i.type==="pwa-node"&&i.request==="attach"&&typeof i.processId=="string"&&await DL(this.fsUtils,i),"port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),"attachSimplePort"in i&&typeof i.attachSimplePort=="string"&&(i.attachSimplePort=Number(i.attachSimplePort)),i.cwd){let o=await xn(Jd.promises,i.cwd);if(!o){Bn.window.showErrorMessage(dc.t("The configured `cwd` {0} does not exist.",i.cwd),{modal:!0});return}if(!o.isDirectory()){Bn.window.showErrorMessage(dc.t("The configured `cwd` {0} is not a folder.",i.cwd),{modal:!0});return}}return i}async resolveDebugConfigurationAsync(r,n,i){if(!n.name&&!n.type&&!n.request&&(n=await TL(r,!0,n),n.request==="launch"&&!n.program)){Bn.window.showErrorMessage(dc.t("Cannot find a program to debug"),{modal:!0});return}if(n.cwd||(n.cwd=n.localRoot||PL(n.request==="launch"?n.program:void 0,r)),n.remoteRoot&&!n.localRoot&&(n.localRoot="${workspaceFolder}"),n.request==="launch"){if(this.applyDefaultRuntimeExecutable(n),n.runtimeExecutable&&Qy(n.runtimeExecutable)==="deno"&&!n.attachSimplePort){let s=await Ha();n.attachSimplePort=s,n.continueOnAttach??=!0;let a=[`--inspect-brk=127.0.0.1:${s}`,"--allow-all"];n.runtimeArgs?n.runtimeArgs.includes("run")?n.runtimeArgs=[...n.runtimeArgs,...a]:n.runtimeArgs=["run",...a,...n.runtimeArgs]:n.runtimeArgs=["run",...a]}let o=n.runtimeVersion;if(typeof o=="string"&&o!=="default"){let{directory:s,binary:a}=await this.nvmResolver.resolveNvmVersionPath(o);n.env=new Vt(n.env).addToPath(s,"prepend",!0).value,n.runtimeExecutable=!n.runtimeExecutable||n.runtimeExecutable==="node"?a:n.runtimeExecutable}if(n.console==="integratedTerminal"&&!n.internalConsoleOptions&&(n.internalConsoleOptions="neverOpen"),n.attachSimplePort===null||n.attachSimplePort===void 0)zx(n);else{if(n.attachSimplePort===0){n.attachSimplePort=await Ha(void 0,i);let s=`--inspect-brk=${n.attachSimplePort}`;n.runtimeArgs=n.runtimeArgs?[...n.runtimeArgs,s]:[s]}n.continueOnAttach=!n.stopOnEntry,n.stopOnEntry=!1}await E0e(this.fsUtils,r,n)}return B0(n)}getType(){return"pwa-node"}getSuggestedWorkspaceFolders(r){return[r.rootPath,r.cwd]}};fc=D([(0,Xd.injectable)(),b(0,(0,Xd.inject)(st)),b(1,(0,Xd.inject)(Yx)),b(2,(0,Xd.inject)(Fr))],fc);function PL(t,e){if(e)return e.uri.fsPath;if(Bn.workspace.workspaceFolders&&Bn.workspace.workspaceFolders.length>0)return Bn.workspace.workspaceFolders[0].uri.fsPath;if(t){if(t==="${file}")return"${fileDirname}";if(It.isAbsolute(t))return It.dirname(t)}return"${workspaceFolder}"}function hK(t,e){if(t&&(e=Gi(e,"workspaceFolder",t.uri.fsPath)),Bn.workspace.workspaceFolders?.length&&(e=Gi(e,"workspaceRoot",Bn.workspace.workspaceFolders[0].uri.fsPath)),It.isAbsolute(e))return e;if(t)return It.join(t.uri.fsPath,e)}async function E0e(t,e,r){if(r.outFiles||!e)return;let n;if(r.program?(n=hK(e,r.program),n&&(n=It.dirname(n))):r.cwd&&(n=hK(e,r.cwd)),!n||yy(e.uri.fsPath,n))return;let i=await MI(n,async o=>!o.includes("node_modules")&&await t.exists(It.join(o,"package.json")));if(i){let o=Ye(It.relative(e.uri.fsPath,i));o.length&&(r.outFiles=[...sH.outFiles,`\${workspaceFolder}/${o}/**/*.js`,`!\${workspaceFolder}/${o}/**/node_modules/**`])}}var D0e=["index.js","main.js"];async function TL(t,e,r){let n={type:"pwa-node",request:"launch",name:dc.t("Launch Program"),skipFiles:["<node_internals>/**"]};r&&r.noDebug&&(n.noDebug=!0);let i=await mK(t,"package.json"),o,s=!1;if(i&&i.name==="mern-starter")return e&&k_(dc.t("Launch configuration for '{0}' project created.","Mern Starter")),P0e(n),n;if(i&&(o=await L0e(t,i,e),o&&e&&k_(dc.t("Launch configuration created based on 'package.json'."))),!o){let a=Bn.window.activeTextEditor;a&&lH.includes(a.document.languageId)&&(s=a.document.languageId!=="javascript",o=t?It.relative(t.uri.fsPath,a.document.uri.fsPath):a.document.uri.fsPath,It.isAbsolute(o)||(o="${workspaceFolder}"+It.sep+o))}if(!o&&t){let a=t.uri.fsPath;o=await po(D0e.map(async c=>await xn(Jd.promises,It.join(a,c))&&"${workspaceFolder}"+It.sep+c))}if(o||(o="${file}"),o&&(n.program=o,t||(n.__workspaceFolder=It.dirname(o))),s||Bn.workspace.textDocuments.some(a=>T0e(a.languageId))){e&&k_(dc.t("Adjust glob pattern(s) in the 'outFiles' attribute so that they cover the generated JavaScript."));let a="",c=await mK(t,"tsconfig.json");if(c?.compilerOptions?.outDir&&C0e()){let u=c.compilerOptions.outDir;It.isAbsolute(u)||(a=u,a.indexOf("./")===0&&(a=a.substr(2)),a[a.length-1]!=="/"&&(a+="/")),n.preLaunchTask="tsc: build - tsconfig.json"}n.outFiles=["${workspaceFolder}/"+a+"**/*.js"]}return n}function C0e(){let t=Bn.workspace.getConfiguration().get("typescript.tsc.autoDetect");return t!=="off"&&t!=="watch"}function P0e(t){t.request==="launch"&&(t.runtimeExecutable="nodemon",t.program="${workspaceFolder}/index.js",t.restart=!0,t.env={BABEL_DISABLE_CACHE:"1",NODE_ENV:"development"},t.console="integratedTerminal",t.internalConsoleOptions="neverOpen")}function T0e(t){return t==="typescript"||t==="coffeescript"}async function mK(t,e){if(t)try{let r=await Jd.promises.readFile(It.join(t.uri.fsPath,e),"utf8");return JSON.parse(r)}catch{}}async function L0e(t,e,r){let n;try{if(e.main?n=e.main:e.scripts&&typeof e.scripts.start=="string"&&(n=e.scripts.start.split(" ").pop()),n){let i;if(It.isAbsolute(n)?i=n:(i=t?It.join(t.uri.fsPath,n):void 0,n=It.join("${workspaceFolder}",n)),r&&i&&!await xn(Jd.promises,i)&&!await xn(Jd.promises,i+".js"))return}}catch{}return n}var gK=A(require("vscode"));var Yd=class extends mi{async resolveDebugConfigurationAsync(e,r){if(r.cwd||(r.cwd=PL(void 0,e)),r.request==="launch"&&!r.command){await rH(gK.commands,"extension.js-debug.createDebuggerTerminal",void 0,e);return}return r.remoteRoot&&!r.localRoot&&(r.localRoot="${workspaceFolder}"),N0(r)}getType(){return"node-terminal"}};var $0e=t=>t.request==="launch",k0e=t=>t.request==="attach",hc=class extends mi{constructor(r,n,i,o,s){super(r);this.nodeProvider=n;this.terminalProvider=i;this.location=o;this.fs=s}async resolveBrowserCommon(r,n){if(n.request,n.server&&"program"in n.server){let o={...n.server,type:"pwa-node",request:"launch",name:`${n.name}: Server`};n.server=await this.nodeProvider.resolveDebugConfiguration(r,o)}else n.server&&"command"in n.server&&(n.server=await this.terminalProvider.resolveDebugConfiguration(r,{...n.server,type:"node-terminal",request:"launch",name:`${n.name}: Server`}));let i=this.location==="remote"?"ui":"workspace";if($0e(n)&&!n.browserLaunchLocation&&(n.browserLaunchLocation=i),k0e(n)&&!n.browserAttachLocation&&(n.browserAttachLocation=i),n.request==="launch"){let o=n;this.applyDefaultRuntimeExecutable(o)}}getSuggestedWorkspaceFolders(r){return[r.rootPath,r.webRoot]}async resolveDebugConfigurationWithSubstitutedVariables(r,n){if("__pendingTargetId"in n)return n;let i=n;if("port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),i.request==="launch"){let o=await this.ensureNoLockfile(i);if(o===void 0)return;i=o}return i}async ensureNoLockfile(r){if(r.request!=="launch")return r;let n=r;if(n.userDataDir===!1||n.port&&!await t3(n.port))return r;let i=typeof n.userDataDir=="string"?n.userDataDir:(0,Zd.join)(this.extensionContext.storagePath??(0,HK.tmpdir)(),n.runtimeArgs?.includes("--headless")?".headless-profile":".profile"),o=(0,Zd.join)(i,process.platform==="win32"?"lockfile":"SingletonLock");if(await po([YM(this.fs,o),this.isVsCodeLocked((0,Zd.join)(i,"code.lock"))])){let a=Qd.t("Debug Anyway");if(await Tg.window.showErrorMessage(Qd.t("It looks like a browser is already running from {0}. Please close it before trying to debug, otherwise VS Code may not be able to connect to it.",n.userDataDir===!0?Qd.t("an old debug session"):Qd.t("the configured userDataDir")),{modal:!0},a)!==a)return}return{...r,userDataDir:i}}async isVsCodeLocked(r){try{let n=Number(await this.fs.readFile(r,"utf-8"));return process.kill(n,0),!0}catch{return!1}}};hc=D([(0,Ns.injectable)(),b(0,(0,Ns.inject)(st)),b(1,(0,Ns.inject)(fc)),b(2,(0,Ns.inject)(Yd)),b(3,(0,Ns.inject)(us)),b(4,(0,Ns.inject)(xe))],hc);var mc=class extends Os{provide(){return this.createLaunchConfigFromContext()||this.getDefaultLaunch()}getTriggerKind(){return Tg.DebugConfigurationProviderTriggerKind.Initial}createLaunchConfigFromContext(){let e=Tg.window.activeTextEditor;if(e&&e.document.languageId==="html")return{type:this.getType(),request:"launch",name:`Open ${(0,Zd.basename)(e.document.uri.fsPath)}`,file:e.document.uri.fsPath}}getDefaultLaunch(){return{type:this.getType(),request:"launch",name:Qd.t("Launch Chrome against localhost"),url:"http://localhost:8080",webRoot:"${workspaceFolder}"}}};mc=D([(0,Ns.injectable)()],mc);var LL=A(Z());var ef=class extends hc{async resolveDebugConfigurationAsync(e,r){if(!r.name&&!r.type&&!r.request){let n=new Vu().createLaunchConfigFromContext();if(!n)return null;r=n}return await this.resolveBrowserCommon(e,r),r.request==="attach"?{...qf,...r}:{...cH,...r}}getType(){return"pwa-chrome"}};ef=D([(0,LL.injectable)()],ef);var Vu=class extends mc{getType(){return"pwa-chrome"}};Vu=D([(0,LL.injectable)()],Vu);var yK=A(we()),$L=A(Z());var tf=class extends hc{async resolveDebugConfigurationAsync(e,r){if(!r.name&&!r.type&&!r.request){let n=new Gu().createLaunchConfigFromContext();if(!n)return;r=n}return await this.resolveBrowserCommon(e,r),r.useWebView&&(r.timeout=r.timeout??0),r.request==="attach"?{...R0,...r}:{...M0,...r}}getType(){return"pwa-msedge"}};tf=D([(0,$L.injectable)()],tf);var Gu=class extends mc{getType(){return"pwa-msedge"}getDefaultLaunch(){return{...super.getDefaultLaunch(),name:yK.t("Launch Edge against localhost")}}};Gu=D([(0,$L.injectable)()],Gu);var bK=require("fs"),wK=A(Z()),xK=require("path");var rf=class extends mi{async resolveDebugConfigurationAsync(e,r){if(r.debugWebWorkerHost===void 0){let n=await R0e(e,r);r={...r,debugWebWorkerHost:n.length===1&&n[0]==="web"}}return uH(r),r.debugWebWorkerHost&&(r.outFiles=[]),Promise.resolve({...k0,...r})}getType(){return"pwa-extensionHost"}};rf=D([(0,wK.injectable)()],rf);var vK="--extensionDevelopmentPath=",R0e=async(t,e)=>{let r=e.args?.find(o=>o.startsWith(vK));if(!r)return["workspace"];let n=Gi(r.slice(vK.length),"workspaceFolder",t?.uri.fsPath??e.__workspaceFolder??""),i;try{let o=await bK.promises.readFile((0,xK.join)(n,"package.json"),"utf-8");i=JSON.parse(o).extensionKind??"workspace"}catch{return["workspace"]}return i instanceof Array?i:[i]};var M_=A(we()),OL=A(Z()),af=A(require("path")),Lg=A(require("vscode"));var nf=A(we()),SK=A(require("fs")),R_=A(require("path")),ot=A(require("vscode"));var _K=require("vscode"),kL=async t=>{try{return await _K.commands.executeCommand("npm.packageManager",t?.uri)}catch{return"npm"}},AK=async(t,e)=>`${await kL(e)} run ${t}`;async function EK(t){let e=await ML(t?[t]:void 0);if(!e)return;let r=async a=>{let c=ot.workspace.getWorkspaceFolder(ot.Uri.file(a.directory));rH(ot.commands,"extension.js-debug.createDebuggerTerminal",await AK(a.name,c),c,{cwd:a.directory})};if(e.length===1)return r(e[0]);let n=e.some(a=>a.directory!==e[0].directory),i=ot.window.createQuickPick(),o,s=[];for(let a of e)a.directory!==o&&n&&(s.push({label:R_.basename(a.directory),kind:ot.QuickPickItemKind.Separator}),o=a.directory),s.push({script:a,label:a.name,description:a.command});i.items=s,i.onDidAccept(async()=>{r(i.selectedItems[0].script),i.dispose()}),i.show()}var RL=(t,e)=>t.score>e.score?t:e;async function ML(t,e=!1){let r=t??ot.workspace.workspaceFolders??[];if(!r||r.length===0){e||ot.window.showErrorMessage(nf.t("You need to open a workspace folder to debug npm scripts."));return}let n=(await Promise.all(r.map(s=>ot.workspace.findFiles(new ot.RelativePattern(s,"**/package.json"),"**/{node_modules,.vscode-test}/**")))).flat();if(n.length===0){e||ot.window.showErrorMessage(nf.t("No package.json files found in your workspace."));return}let i=[],o={path:n[0].fsPath,score:0};for(let{fsPath:s}of new Set(n)){o=RL(o,{path:s,score:1});let a;try{a=JSON.parse(await hy(s))}catch(c){e||IK("showWarningMessage",nf.t("Could not read {0}: {1}",s,c.message),s),o=RL(o,{path:void 0,score:3});continue}if(o=RL(o,{path:void 0,score:2}),!!a.scripts)for(let c of Object.keys(a.scripts))i.push({directory:R_.dirname(s),name:c,command:a.scripts[c]})}if(i.length===0){o.path&&!e&&IK("showErrorMessage",nf.t("No npm scripts found in your package.json"),o.path);return}return i.sort((s,a)=>(s.name==="start"?-1:0)+(a.name==="start"?1:0)),i}var M0e=`{
  "scripts": {
    
  }
}
`;async function IK(t,e,r){let n=nf.t("Edit package.json");if(await ot.window[t](e,n)!==n)return;if(SK.existsSync(r)){let a=await ot.workspace.openTextDocument(r);await ot.window.showTextDocument(a);return}let i=await ot.workspace.openTextDocument(ot.Uri.file(r).with({scheme:"untitled"})),o=await ot.window.showTextDocument(i);await o.edit(a=>a.insert(new ot.Position(0,0),M0e));let s=new ot.Position(2,5);o.selection=new ot.Selection(s,s)}var of=class extends Os{provide(e){return TL(e,!0)}getType(){return"pwa-node"}getTriggerKind(){return Lg.DebugConfigurationProviderTriggerKind.Initial}};of=D([(0,OL.injectable)()],of);var O0e=["cwd","program"],sf=class extends Os{async provide(e){let r=Yo(await Promise.all([this.getFromNpmScripts(e),this.getFromActiveFile()]));if(e)for(let n of r){let i=n;for(let o of O0e){let s=i[o];s&&af.isAbsolute(s)&&(i[o]=af.join("${workspaceFolder}",af.relative(e.uri.fsPath,s)))}}return r}getType(){return"pwa-node"}getTriggerKind(){return Lg.DebugConfigurationProviderTriggerKind.Dynamic}async getFromNpmScripts(e){let r={type:nl("node-terminal"),name:M_.t("JavaScript Debug Terminal"),request:"launch",cwd:e?.uri.fsPath};if(!e)return[r];let n=await ML([e],!0);if(!n)return[r];let i=await kL(e);return n.map(o=>({type:nl("node-terminal"),name:M_.t("Run Script: {0}",o.name),request:"launch",command:`${i} run ${o.name}`,cwd:o.directory})).concat(r)}getFromActiveFile(){let e=Lg.window.activeTextEditor;return!e||!lH.includes(e.document.languageId)||e.document.uri.scheme!=="file"?[]:[{type:nl("pwa-node"),name:M_.t("Run Current File"),request:"launch",program:e.document.uri.fsPath}]}};sf=D([(0,OL.injectable)()],sf);var DK=[ef,tf,rf,fc,Yd],CK=[Vu,Gu,of,sf];var cf=A(we()),$g=A(Z()),BL=require("url"),yn=A(require("vscode"));function FL(t,e){if(t){try{if(new BL.URL(t).hostname)return t}catch{}try{let r=`http://${t}`,n=new BL.URL(r);if(!e||n.port)return r}catch{}}}var uf=class{constructor(e,r){this.defaultBrowser=e;this.context=r}register(e){e.subscriptions.push(yn.commands.registerCommand("extension.js-debug.debugLink",r=>this.handle(r)))}async handle(e){if(e=e??await this.getLinkFromTextEditor()??await this.getLinkFromQuickInput(),!e)return;let r="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(r="pwa-msedge")}catch{}let n=Dt(yn.workspace,"debug.javascript.debugByLinkOptions")??{},i={...typeof n=="string"?{}:n,type:nl(r),name:e,request:"launch",url:e};yn.debug.startDebugging(yn.workspace.workspaceFolders?.[0],i),this.persistConfig(i)}getLinkFromTextEditor(){let e=yn.window.activeTextEditor;if(e)return FL(e.document.getText(e.selection),!0)}async getLinkFromQuickInput(){let e=await yn.env.clipboard.readText(),r=await yn.window.showInputBox({value:FL(e,!1)||this.mostRecentLink,placeHolder:"https://localhost:8080",validateInput:n=>{if(n&&!FL(n,!1))return cf.t("The URL provided is invalid")}});if(r)return this.mostRecentLink=r,r}async persistConfig(e){if(this.context.globalState.get("saveDebugLinks")===!1)return;let r=yn.workspace.getConfiguration("launch"),n=r.get("configurations")??[];if(n.some(a=>a.url===e.url))return;let i=cf.t("Yes"),o=cf.t("Never"),s=await yn.window.showInformationMessage(cf.t("Would you like to save a configuration in your launch.json for easy access later?"),i,cf.t("No"),o);s===o&&this.context.globalState.update("saveDebugLinks",!1),s===i&&await r.update("configurations",[...n,e])}};uf=D([(0,$g.injectable)(),b(0,(0,$g.inject)(qp)),b(1,(0,$g.inject)(st))],uf);var lf=A(we()),df=A(Z()),Nn=A(require("vscode"));var PK="neverRemind",pf=class{constructor(e,r,n){this.fs=e;this.context=r;this.tracker=n;this.dismissedForSession=!1;this.isPrompting=!1}register(e){e.subscriptions.push(Te(Nn.commands,"extension.js-debug.getDiagnosticLogs",async()=>{let r=await this.getTargetSession();if(!r)return;let n=await Nn.window.showSaveDialog({filters:{JSON:["json"]}});n&&r.customRequest("saveDiagnosticLogs",{toFile:n.fsPath})}),Te(Nn.commands,"extension.js-debug.createDiagnostics",async()=>this.getDiagnosticInfo(await this.getTargetSession())),Nn.debug.onDidReceiveDebugSessionCustomEvent(async r=>{if(r.event==="openDiagnosticTool")return this.openDiagnosticTool(r.body.file);if(r.event!=="suggestDiagnosticTool"||this.dismissedForSession||this.context.workspaceState.get(PK)||this.isPrompting)return;this.isPrompting=!0;let n=lf.t("Yes"),i=lf.t("Not Now"),o=lf.t("Never"),s=await Nn.window.showInformationMessage("It looks like you might be having trouble with breakpoints. Would you like to open our diagnostic tool?",n,i,o);switch(this.isPrompting=!1,s){case n:this.getDiagnosticInfo(await this.getTargetSession(),!0);break;case o:e.workspaceState.update(PK,!0);break;case i:this.dismissedForSession=!0;break}}))}getTargetSession(){let e=Nn.debug.activeDebugSession;if(!e||!Ks(e?.type))return this.pickSession();if(Ze.isConcreteSession(e))return e;let r=this.tracker.getChildren(e);return r.length===1?r[0]:this.pickSession()}pickSession(){return Ze.pickSession(this.tracker.getConcreteSessions(),lf.t("Select the session you want to inspect:"))}async getDiagnosticInfo(e,r=!1){if(!e||!this.tracker.isRunning(e)){Nn.window.showErrorMessage(lf.t('It looks like your debug session has already ended. Try debugging again, then run the "Debug: Diagnose Breakpoint Problems" command.'));return}let{file:n}=await e.customRequest("createDiagnostics",{fromSuggestion:r});await this.openDiagnosticTool(n)}async openDiagnosticTool(e){let r=Nn.window.createWebviewPanel("jsDebugDiagnostics","Debug Diagnostics",Nn.ViewColumn.Active,{enableScripts:!0});r.webview.html=await this.fs.readFile(e,"utf-8")}};pf=D([(0,df.injectable)(),b(0,(0,df.inject)(xe)),b(1,(0,df.inject)(st)),b(2,(0,df.inject)(Ze))],pf);var ff=A(we()),TK=A(Z()),gi=A(require("vscode"));var zu=class{register(e){e.subscriptions.push(gi.debug.onDidReceiveDebugSessionCustomEvent(r=>{if(r.event!=="suggestDisableSourcemap"||!Ks(r.session.type))return;let n=r.body;this.unmap(r.session,n.source).catch(i=>gi.window.showErrorMessage(i.message))}))}async unmap(e,r){(Dt(gi.workspace,"debug.javascript.unmapMissingSources")||await this.prompt())&&await e.customRequest("disableSourcemap",{source:r})}async prompt(){let e=ff.t("Always"),r=ff.t("Always in this Workspace"),n=ff.t("Yes");switch(await gi.window.showInformationMessage(ff.t("This is a missing file path referenced by a sourcemap. Would you like to debug the compiled version instead?"),e,r,ff.t("No"),n)){case e:return L0(gi.workspace,"debug.javascript.unmapMissingSources",!0,gi.ConfigurationTarget.Global),!0;case r:return L0(gi.workspace,"debug.javascript.unmapMissingSources",!0,gi.ConfigurationTarget.Workspace),!0;case n:return!0;default:return!1}}};zu=D([(0,TK.injectable)()],zu);var Ku=A(we()),O_=A(Z()),Ui=A(require("vscode"));var LK="ms-vscode.wasm-dwarf-debugging",$K="dwarf.neverRemind",hf=class{constructor(e){this.context=e;this.didPromptForSession=this.context.workspaceState.get($K,!1)}async load(){try{return await import("@vscode/dwarf-debugging")}catch{}let e=Ui.extensions.getExtension(LK);if(e)return e.isActive||await e.activate(),e.exports}async prompt(){if(this.didPromptForSession)return;this.didPromptForSession=!0;let e=Ku.t("Yes"),r=Ku.t("Never"),n=await Ui.window.showInformationMessage(Ku.t({message:'VS Code can provide better debugging experience for WebAssembly via "DWARF Debugging" extension. Would you like to install it?',comment:'"DWARF Debugging" is the extension name and should not be localized.'}),e,Ku.t("Not Now"),r);n===e?this.install():n===r&&this.context.workspaceState.update($K,!0)}async install(){await Ui.window.withProgress({location:Ui.ProgressLocation.Notification,title:Ku.t("Installing the DWARF debugger...")},async()=>{try{await Ui.commands.executeCommand("workbench.extensions.installExtension",LK),Ui.window.showInformationMessage(Ku.t("Installation complete! The extension will be used after you restart your debug session."))}catch(e){Ui.window.showErrorMessage(e.message||String(e))}})}};hf=D([(0,O_.injectable)(),b(0,(0,O_.inject)(st))],hf);var RK=A(we()),F_=A(Z()),gc=A(require("vscode"));var kK=t=>{if(t?.type!=="pwa-msedge")return!1;let e=t.configuration.__browserTargetType;return e==="iframe"||e==="page"},B0e="ms-edgedevtools.vscode-edge-devtools",N0e="vscode-edge-devtools.attachToCurrentDebugTarget";function j0e(t){let e=t;for(;e.parentSession;)e=e.parentSession;return e}var mf=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(Te(gc.commands,"extension.js-debug.openEdgeDevTools",async()=>{let r=gc.debug.activeDebugSession&&kK(gc.debug.activeDebugSession)?gc.debug.activeDebugSession:await Ze.pickSession(this.tracker.getConcreteSessions().filter(kK),RK.t("Select the page where you want to open the devtools"));if(!r)return;let n=j0e(r);try{return await gc.commands.executeCommand(N0e,r.id,n.configuration)}catch(i){if(i instanceof Error&&/command .+ not found/.test(i.message))return gc.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[B0e]);throw i}}))}};mf=D([(0,F_.injectable)(),b(0,(0,F_.inject)(Ze))],mf);var BK=require("crypto"),B_=A(Z()),NK=require("path"),ct=A(require("vscode"));var MK=({name:t,line:e,column:r,source:n})=>`${t} (${(0,NK.basename)(String(n.path))}:${e}:${r})`,OK=({name:t,line:e,column:r,source:n})=>`${t} (${n.path}:${e}:${r})`,FK=async({line:t,column:e,source:r})=>{if(r.sourceReference!==0||!r.path)return;let n=ct.Uri.file(r.path),i=await ct.workspace.openTextDocument(n),o=await ct.window.showTextDocument(i),s=new ct.Position(t-1,e-1);o.revealRange(new ct.Range(s,s)),o.selection=new ct.Selection(s,s)},NL=class{constructor(e,r){this.caller=e;this.target=r;this.treeItem=new ct.TreeItem(`${MK(e)} \u2192 ${MK(r)}`,ct.TreeItemCollapsibleState.None),this.treeItem.tooltip=`Breaks at ${OK(r)} containing ${OK(e)} will be skipped`,this.id=this.treeItem.id=(0,BK.createHash)("sha1").update(JSON.stringify([e,r])).digest("base64")}toDap(){return{caller:this.caller,target:this.target}}},gf=class{constructor(e){this.sessionTracker=e;this._onDidChangeTreeData=new ct.EventEmitter;this.allCallers=new Map;this.lastHadCallers=!1;this.onDidChangeTreeData=this._onDidChangeTreeData.event}register(e){e.subscriptions.push(ct.window.createTreeView("jsExcludedCallers",{treeDataProvider:this}),Te(ct.commands,"extension.js-debug.callers.add",async(r,n)=>{let i=await this.sessionTracker.getById(n.sessionId)?.customRequest("stackTrace",{threadId:0,startFrame:0,levels:1});if(!i?.stackFrames.length)return;let o=i.stackFrames[0],s=new NL({name:n.frameName,column:n.frameLocation.range.startColumn,line:n.frameLocation.range.startLineNumber,source:n.frameLocation.source},{name:o.name,column:o.column,line:o.line,source:o.source});this.allCallers.set(s.id,s),this.triggerUpdate()}),Te(ct.commands,"extension.js-debug.callers.goToCaller",r=>FK(r.caller)),Te(ct.commands,"extension.js-debug.callers.gotToTarget",r=>FK(r.target)),Te(ct.commands,"extension.js-debug.callers.remove",async r=>{this.allCallers.delete(r.id),this.triggerUpdate()}),Te(ct.commands,"extension.js-debug.callers.removeAll",async()=>{this.allCallers.clear(),this.triggerUpdate()}),this.sessionTracker.onSessionAdded(r=>{this.allCallers.size>0&&this.sendCallersToSession(r)}))}getTreeItem(e){return e.treeItem}getChildren(e){return e?[]:[...this.allCallers.values()]}sendCallersToSession(e){e.customRequest("setExcludedCallers",{callers:[...this.allCallers.values()].map(r=>r.toDap())})}triggerUpdate(){this._onDidChangeTreeData.fire(void 0);for(let r of this.sessionTracker.getConcreteSessions())this.sendCallersToSession(r);let e=this.allCallers.size>0;e!==this.lastHadCallers&&(jf(ct.commands,"jsDebugHasExcludedCallers",e),this.lastHadCallers=e)}};gf=D([(0,B_.injectable)(),b(0,(0,B_.inject)(Ze))],gf);var jL=A(we()),kg=A(Z());var jK="linkBpWarnIgnored",q0e="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_can-i-debug-if-im-using-symlinks",Hf=class{constructor(e,r){this.vscode=e;this.context=r;this.didWarn=this.context.workspaceState.get(jK,!1)}async warn(){if(this.didWarn)return;this.didWarn=!0;let e=jL.t("Read More"),r=jL.t("Ignore"),n=await this.vscode.window.showWarningMessage("It looks like you have symlinked files. You might need to update your configuration to make this work as expected.",r,e);n===r?this.context.workspaceState.update(jK,!0):n===e&&this.vscode.env.openExternal(this.vscode.Uri.parse(q0e))}};Hf=D([(0,kg.injectable)(),b(0,(0,kg.inject)(Xn)),b(1,(0,kg.inject)(st))],Hf);var Rg=A(we()),N_=A(Z()),qK=require("path"),js=A(require("vscode"));var UK="omitLongPredictions",yf=class{constructor(e){this.context=e}register(e){e.subscriptions.push(js.debug.onDidReceiveDebugSessionCustomEvent(r=>{r.event==="longPrediction"&&this.promptLongBreakpoint(r.session.workspaceFolder)}))}async promptLongBreakpoint(e){if(this.context.workspaceState.get(UK))return;let r=Rg.t("It's taking a while to configure your breakpoints. You can speed this up by updating the 'outFiles' in your launch.json."),n=Rg.t("Open launch.json"),i=Rg.t("Don't show again"),o=await js.window.showWarningMessage(r,i,n);if(o===i){this.context.workspaceState.update(UK,!0);return}if(o!==n)return;if(e||(e=await js.window.showWorkspaceFolderPick()),!e){await js.window.showWarningMessage(Rg.t("No workspace folder open."));return}let s=await js.workspace.openTextDocument((0,qK.join)(e.uri.fsPath,".vscode","launch.json"));await js.window.showTextDocument(s)}};yf=D([(0,N_.injectable)(),b(0,(0,N_.inject)(st))],yf);var j_=A(Z()),bf=require("vscode");var vf=class{constructor(e){this.leaseTracker=e;this.cachedResolutions=new Array(16).fill("");this.cachedResolutionIndex=0}register(e){typeof bf.workspace.registerPortAttributesProvider=="function"&&e.subscriptions.push(bf.workspace.registerPortAttributesProvider({portRange:[53e3,54e3]},this))}async providePortAttributes({port:e,pid:r}){if(r&&this.cachedResolutions.includes(`${e}:${r}`))return{port:e,autoForwardAction:bf.PortAutoForwardAction.Ignore};if(await this.leaseTracker.isRegistered(e)){if(r){let n=this.cachedResolutionIndex++%this.cachedResolutions.length;this.cachedResolutions[n]=`${e}:${r}`}return{port:e,autoForwardAction:bf.PortAutoForwardAction.Ignore}}}};vf=D([(0,j_.injectable)(),b(0,(0,j_.inject)(pt))],vf);var U_=A(Z()),VK=A(require("querystring")),Xu=A(require("vscode"));var wf=class{constructor(e){this.tracker=e;this.canPrettyPrintKey=new zd("jsDebugCanPrettyPrint")}register(e){e.subscriptions.push(Te(Xu.commands,"extension.js-debug.prettyPrint",()=>this.prettifyActive()),Xu.window.onDidChangeActiveTextEditor(r=>this.updateEditorState(r)),this.tracker.onSessionAdded(()=>this.updateEditorState(Xu.window.activeTextEditor)),this.tracker.onSessionEnded(()=>this.updateEditorState(Xu.window.activeTextEditor)))}async prettifyActive(){let e=Xu.window.activeTextEditor;if(!e||!this.canPrettyPrint(e))return;let{sessionId:r,source:n}=W0e(e.document.uri),i=r&&this.tracker.getById(r);if(i)WK(i,n,e.selection.start);else for(let o of this.tracker.getConcreteSessions())WK(o,n,e.selection.start)}canPrettyPrint(e){return this.tracker.isDebugging&&e.document.languageId==="javascript"&&!e.document.fileName.endsWith("-pretty.js")}updateEditorState(e){if(!this.tracker.isDebugging){this.canPrettyPrintKey.value=void 0;return}e&&this.canPrettyPrint(e)&&e.document.uri.toString()!==this.canPrettyPrintKey.value?.[0]&&(this.canPrettyPrintKey.value=[e.document.uri.toString()])}};wf=D([(0,U_.injectable)(),b(0,(0,U_.inject)(Ze))],wf);var WK=(t,e,r)=>t.customRequest("prettyPrintSource",{source:e,line:r.line,column:r.character}),W0e=t=>{let e=VK.parse(t.query),r=e.session,n={path:t.fsPath,sourceReference:Number(e.ref)||0};return{sessionId:r,source:n}};var Mg=A(we()),Og=A(Z()),zK=A(require("path")),qi=A(require("vscode"));var GK="breakpointTerminationWarnedSlow",xf=class{constructor(e,r){this.fs=e;this.context=r;this.sortOrder=2;this.id="breakpoint";this.label=Mg.t("Pick Breakpoint");this.description=Mg.t("Run until a specific breakpoint is hit")}async onPick(e,r){if(r)return new q_(r);let n=qi.window.createQuickPick();n.canSelectMany=!0,n.matchOnDescription=!0,n.busy=!0;let i=await new Promise(o=>{n.onDidAccept(()=>o(n.selectedItems)),n.onDidHide(()=>o(void 0)),n.onDidChangeActive(async s=>{if(!s.length)return;let a=s[0].location,c=await qi.workspace.openTextDocument(a.uri);qi.window.showTextDocument(c,{selection:a.range,preview:!0,preserveFocus:!0})}),n.show(),(async()=>{let s=qi.debug.breakpoints.filter(u=>u.enabled&&u instanceof qi.SourceBreakpoint),a=await Promise.all(s.map(u=>e.getDebugProtocolBreakpoint(u))),c=await this.getCandidates(a,s);n.items=c,n.selectedItems=c,n.busy=!1})()});if(n.dispose(),!!i)return await this.warnSlowCode(),new q_(i.map(o=>Number(o.id)))}async warnSlowCode(){this.context.workspaceState.get(GK)||(qi.window.showWarningMessage(Mg.t('Profiling with breakpoints enabled can change the performance of your code. It can be useful to validate your findings with the "duration" or "manual" termination conditions.'),Mg.t("Got it!")),await this.context.workspaceState.update(GK,!0))}async getCandidates(e,r){if(e.length!==r.length)throw new Error("Mismatched breakpoint array lengths");let n=Jo(o=>this.getFileLines(o));return(await Promise.all(r.map(async(o,s)=>{let a=e[s];if(!a||!a.id)return;let c=o.location,u=qi.workspace.getWorkspaceFolder(c.uri),l=u?zK.relative(u.uri.fsPath,c.uri.fsPath):c.uri.fsPath,p=await n(c.uri.fsPath);return{id:a.id,label:`${l}:${c.range.start.line}:${c.range.start.character}`,location:c,description:p?.[c.range.start.line]?.trim()}}))).filter(Ct)}async getFileLines(e){try{return(await this.fs.readFile(e,"utf-8")).split(`
`)}catch{return}}};xf=D([(0,Og.injectable)(),b(0,(0,Og.inject)(xe)),b(1,(0,Og.inject)(st))],xf);var q_=class{constructor(e){this.breakpointIds=e}get customData(){return{stopAtBreakpoint:this.breakpointIds.slice()}}dispose(){}};var Ju=A(we()),KK=A(Z()),XK=A(require("vscode"));var W_=A(we()),Go=A(require("vscode"));var Fg=class{constructor(e,r,n){this.session=e;this.impl=r;this.termination=n;this.statusChangeEmitter=new Y;this.stopEmitter=new Y;this._innerStatus=[];this.disposables=new Ie;this.state=0;this.onStatusChange=this.statusChangeEmitter.event;this.onStop=this.stopEmitter.event;this.disposables.push(Go.debug.onDidReceiveDebugSessionCustomEvent(i=>{i.session===e&&i.event==="profilerStateUpdate"&&this.onStateUpdate(i.body)}),Go.debug.onDidTerminateDebugSession(i=>{i===e&&this.stopEmitter.fire(void 0)})),n&&(this.disposables.push(n),n.attachTo?.(this))}get status(){return this._innerStatus.filter(e=>!!e).join(", ")||void 0}async start(){try{await Go.window.withProgress({location:Go.ProgressLocation.Window,title:W_.t("Starting profile...")},()=>this.session.customRequest("startProfile",{type:this.impl.type,...this.termination?.customData}))}catch(e){Go.window.showErrorMessage(e.message),this.stopEmitter.fire(void 0)}}dispose(){this.state=2,this.disposables.dispose()}setFile(e){this.file=e}async stop(){this.state===0&&(this.setStatus(-1,W_.t("Saving")),this.state=1,await Go.window.withProgress({location:Go.ProgressLocation.Window,title:W_.t("Stopping profile...")},()=>this.session.customRequest("stopProfile",{})))}onStateUpdate(e){if(e.running){this.setStatus(0,e.label);return}this.state=2,this.stopEmitter.fire(this.file),this.dispose()}setStatus(e,r){this.state===0&&(e===-1?this._innerStatus=[r]:this._innerStatus[e]=r,this.statusChangeEmitter.fire(this.status))}};var _f=class{constructor(){this.sortOrder=1;this.id="duration";this.label=Ju.t("Duration");this.description=Ju.t("Run for a specific amount of time")}async onPick(e,r){if(r)return new V_(r*1e3);let n=XK.window.createInputBox();n.title=Ju.t("Duration of Profile"),n.placeholder=Ju.t('Profile duration in seconds, e.g "5"'),this.lastDuration&&(n.value=String(this.lastDuration)),n.onDidChangeValue(o=>{/^[0-9]+$/.test(o)?Number(o)<1?n.validationMessage=Ju.t("Please enter a number greater than 1"):n.validationMessage=void 0:n.validationMessage=Ju.t("Please enter a number")});let i=await new Promise(o=>{n.onDidAccept(()=>{if(n.validationMessage)return o(void 0);this.lastDuration=Number(n.value),o(new V_(this.lastDuration*1e3))}),n.onDidHide(()=>o(void 0)),n.show()});return n.dispose(),i}};_f=D([(0,KK.injectable)()],_f);var V_=class{constructor(e){this.duration=e;this.disposable=new Ie}attachTo(e){let r=Date.now()+this.duration,n=()=>e.setStatus(1,`${Math.round((r-Date.now())/1e3)}s`),i=setTimeout(()=>e.stop(),this.duration),o=setInterval(n,1e3);n(),this.disposable.callback(()=>{clearTimeout(i),clearInterval(o)})}dispose(){this.disposable.dispose()}};var UL=A(we()),JK=A(Z());var Af=class{constructor(){this.sortOrder=0;this.id="manual";this.label=UL.t("Manual");this.description=UL.t("Run until manually stopped")}async onPick(){return new Bg}};Af=D([(0,JK.injectable)()],Af);var Bg=class{dispose(){}};var If=Symbol("ITerminationConditionFactory");var zo=A(we()),yc=A(Z()),YK=require("os"),G_=require("path"),mr=A(require("vscode"));var V0e=t=>"__pendingTargetId"in t.configuration,Hc=class{constructor(e,r,n,i){this.tracker=e;this.fs=r;this.sessionStates=n;this.terminationConditions=i;this.activeSessions=new Map;this.disposables=new Ie;this.disposables.push(mr.debug.onDidReceiveDebugSessionCustomEvent(o=>{if(o.event!=="profileStarted")return;let s=o.body,a=this.activeSessions.get(o.session.id);a||(a=new Fg(o.session,dn.ctors.find(c=>c.type===s.type)||dn.ctors[0],new Bg),this.registerSession(a)),a.setFile(s.file)}))}async start(e){let r,n=[...this.tracker.getConcreteSessions()].filter(V0e);if(e.sessionId?r=n.find(u=>u.id===e.sessionId):r=await this.pickSession(n),!r)return;let i=r,o=this.activeSessions.get(i.id);if(o&&!await this.alreadyRunningSession(o))return;let s=await this.pickType(i,e.type);if(!s)return;let a;if(!s.instant&&(a=await this.pickTermination(i,e.termination),!a))return;let c=new Fg(i,s,a);c&&(this.registerSession(c,e.onCompleteCommand),await c.start(),s.instant&&await c.stop())}async stop(e){let r;if(e)r=this.activeSessions.get(e);else{let n=await this.pickSession([...this.activeSessions.values()].map(i=>i.session));r=n&&this.activeSessions.get(n.id)}r&&(this.sessionStates.remove(r.session.id),await r.stop())}dispose(){for(let e of this.activeSessions.values())e.dispose();this.activeSessions.clear(),this.disposables.dispose()}registerSession(e,r){this.activeSessions.set(e.session.id,e),this.sessionStates.add(e.session.id,zo.t("Profiling")),e.onStatusChange(()=>this.updateStatusBar()),e.onStop(n=>{n&&this.openProfileFile(e,r,e.session,n),this.activeSessions.delete(e.session.id),e.dispose(),this.updateStatusBar()}),this.updateStatusBar()}async openProfileFile(e,r,n,i){if(r)return Promise.all([mr.commands.executeCommand(r,{contents:await this.fs.readFile(i,"utf-8"),basename:(0,G_.basename)(i)+e.impl.extension}),this.fs.unlink(i)]);let o=n.workspaceFolder?.uri.fsPath??mr.workspace.workspaceFolders?.[0].uri.fsPath??(0,YK.homedir)(),s=Tb()+e.impl.extension,a=mr.Uri.file((0,G_.join)(o,s));await QM(this.fs,i,a.fsPath),await mr.commands.executeCommand(e.impl.editable?"vscode.open":"revealInExplorer",a)}updateStatusBar(){if(this.activeSessions.size===0){this.statusBarItem?.hide(),jf(mr.commands,"jsDebugIsProfiling",!1);return}this.statusBarItem||(this.statusBarItem=mr.window.createStatusBarItem(mr.StatusBarAlignment.Right,500),this.statusBarItem.command="extension.js-debug.stopProfile"),jf(mr.commands,"jsDebugIsProfiling",!0);let e=oa(this.activeSessions.values());e&&this.activeSessions.size===1?this.statusBarItem.text=e.status?zo.t("{0} Click to Stop Profiling ({1})","$(loading~spin)",e.status):zo.t("{0} Click to Stop Profiling","$(loading~spin)"):this.statusBarItem.text=zo.t("{0} Click to Stop Profiling ({1} sessions)","$(loading~spin)",this.activeSessions.size),this.statusBarItem.show()}async alreadyRunningSession(e){let r=zo.t("Yes"),n=zo.t("No");return await mr.window.showErrorMessage(zo.t("A profiling session is already running, would you like to stop it and start a new session?"),r,n)!==r?!1:(await this.stop(e.session.id),!0)}async pickSession(e){if(e.length===0)return;if(e.length===1)return e[0];let r=await mr.window.showQuickPick(e.map(n=>({label:n.name,id:n.id})));return r&&e.find(n=>n.id===r.id)}async pickType(e,r){let n=e.configuration;if(r)return dn.ctors.find(o=>o.type===r&&o.canApplyTo(n));let i=await this.pickWithLastDefault(zo.t("Type of profile"),dn.ctors.filter(o=>o.canApplyTo(n)),this.lastChosenType);return i&&(this.lastChosenType=i.label),i}async pickTermination(e,r){if(r){let i=typeof r=="string"?{type:r}:r;return this.terminationConditions.find(o=>o.id===i.type)?.onPick(e,...i.args??[])}let n=await this.pickWithLastDefault(zo.t("How long to run the profile"),this.terminationConditions,this.lastChosenTermination);return n&&(this.lastChosenTermination=n.label),n?.onPick(e)}async pickWithLastDefault(e,r,n){if(r.length<=1)return r[0];let i=mr.window.createQuickPick();i.title=e,i.items=r.slice().sort((s,a)=>s.label===n||a.label===n?s.label===n?-1:1:(s.sortOrder??0)-(a.sortOrder??0)).map(s=>({label:s.label,description:s.description,alwaysShow:!0}));let o=await new Promise(s=>{i.onDidAccept(()=>s(i.selectedItems[0]?.label)),i.onDidHide(()=>s(void 0)),i.show()});if(i.dispose(),!!o)return r.find(s=>s.label===o)}};Hc=D([(0,yc.injectable)(),b(0,(0,yc.inject)(Ze)),b(1,(0,yc.inject)(xe)),b(2,(0,yc.inject)(ep)),b(3,(0,yc.multiInject)(If))],Hc);var ZK=A(Z()),eX=require("vscode");var QK=(t,e)=>{let r=t;for(let[n,i]of Object.entries(e))typeof i=="object"&&i?r[n]=Object.assign(r[n]||{},i):r[n]=i};var Sf=class{constructor(){this.read=_e(()=>Dt(eX.workspace,"debug.javascript.resourceRequestOptions"))}provideOptions(e){QK(e,this.read()||{})}};Sf=D([(0,ZK.injectable)()],Sf);var tX=A(Z()),qL=require("vscode");var Ef=class{register(e){e.subscriptions.push(Te(qL.commands,"extension.node-debug.startWithStopOnEntry",()=>qL.commands.executeCommand("workbench.action.debug.start",{config:{stopOnEntry:!0}})))}};Ef=D([(0,tX.injectable)()],Ef);var n$=A(we()),f0=A(Z()),dX=A(pX()),fX=require("url"),Hr=A(require("vscode"));var wc=class{constructor(e){this.defaultBrowser=e;this.enabledTerminals=new WeakSet;this.disposable=new Ie;this.notifiedCantOpenOnWeb=!1;this.baseConfiguration=this.readConfig();this.disposable.push(Hr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("debug.javascript.debugByLinkOptions")&&(this.baseConfiguration=this.readConfig())}))}enableHandlingInTerminal(e){this.enabledTerminals.add(e)}dispose(){this.disposable.dispose()}provideTerminalLinks(e){switch(this.baseConfiguration.enabled){case"off":return[];case"always":break;case"on":default:if(!this.enabledTerminals.has(e.terminal))return[]}let r=[],n=_e(()=>{if("cwd"in e.terminal.creationOptions&&e.terminal.creationOptions.cwd){let i=Hr.workspace.getWorkspaceFolder(typeof e.terminal.creationOptions.cwd=="string"?Hr.Uri.file(e.terminal.creationOptions.cwd):e.terminal.creationOptions.cwd);if(i)return i}return Hr.workspace.workspaceFolders?.[0]});for(let i of(0,dX.find)(e.line,"url")){let o=-1;for(;(o=e.line.indexOf(i.value,o+1))!==-1;){let s;try{s=new fX.URL(i.href)}catch{continue}s.protocol==="http:"&&!i.value.startsWith("http:")&&!Ky(s.hostname)&&(s.protocol="https:"),!(s.protocol!=="http:"&&s.protocol!=="https:")&&r.push({startIndex:o,length:i.value.length,tooltip:n$.t("Debug URL"),target:s,workspaceFolder:n()?.index})}}return r}async handleTerminalLink(e){await this.handleTerminalLinkInner(e)||Hr.env.openExternal(Hr.Uri.parse(e.target.toString()))}async handleTerminalLinkInner(e){if(!e.target)return!1;let r=e.target;if(Hr.env.uiKind===Hr.UIKind.Web)return this.notifiedCantOpenOnWeb||(Hr.window.showInformationMessage(n$.t("We can't launch a browser in debug mode from here. If you want to debug this webpage, open this workspace from VS Code on your desktop.")),this.notifiedCantOpenOnWeb=!0),!1;MO(r.hostname)&&(r.hostname="localhost");let n="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(n="pwa-msedge")}catch{}let i=e.workspaceFolder!==void 0?Hr.workspace.workspaceFolders?.[e.workspaceFolder]:void 0;return Hr.debug.startDebugging(i,{...this.baseConfiguration,type:n,name:r.toString(),request:"launch",url:r.toString()}),!0}readConfig(){let e=Dt(Hr.workspace,"debug.javascript.debugByLinkOptions");return typeof e=="boolean"&&(e=e?"on":"off"),typeof e=="string"?{enabled:e}:{enabled:"on",...e}}};wc=D([(0,f0.injectable)(),b(0,(0,f0.inject)(qp))],wc);var hX=t=>{t.bind(Xn).toConstantValue(require("vscode")),DK.forEach(e=>{t.bind(e).toSelf().inSingletonScope(),t.bind(C_).to(e)}),CK.forEach(e=>t.bind(P_).to(e).inSingletonScope()),t.bind(un).to(yf).inSingletonScope(),t.bind(un).to(uf).inSingletonScope(),t.bind(un).to(Gd).inSingletonScope(),t.bind(un).to(zu).inSingletonScope(),t.bind(un).to(pf).inSingletonScope(),t.bind(un).to(Ef).inSingletonScope(),t.bind(un).to(vf).inSingletonScope(),t.bind(un).to(mf).inSingletonScope(),t.bind(un).to(gf).inSingletonScope(),t.bind(un).to(wf).inSingletonScope(),t.bind(un).to(Kd).inSingletonScope(),t.bind(cg).to(Hf).inSingletonScope(),t.bind(Ze).toSelf().inSingletonScope().onActivation(lt),t.bind(Hc).toSelf().inSingletonScope().onActivation(lt),t.bind(wc).toSelf().inSingletonScope(),t.bind(zu).toSelf().inSingletonScope(),t.bind(Yc).to(hf).inSingletonScope(),t.bind(If).to(_f).inSingletonScope(),t.bind(If).to(Af).inSingletonScope(),t.bind(If).to(xf).inSingletonScope()},mX=t=>{t.bind(wr).to(Rs).onActivation(lt),t.bind(Op).to(Sf).inSingletonScope(),t.bind(Kl).to(Vd).inSingletonScope()};var HX=(t,e,r,n)=>{let i=new g0.Container;return i.parent=t,i.bind(Re).toConstantValue(e.launchConfig),i.bind(Ql).toConstantValue(i),i.bind(nn).toConstantValue(r),i.bind(vt).toConstantValue(n),i.bind(Po).toConstantValue(e),i.bind(i6).toConstantValue(e.targetOrigin()),i.bind(kc).to(mu).inSingletonScope(),i.bind(Ho).to(Fc).inSingletonScope(),i.bind(gv).to(Ul).inSingletonScope(),i.bind(pa).toSelf().inSingletonScope(),e.sourcePathResolver&&i.bind(nt).toConstantValue(e.sourcePathResolver),i.bind(cu).toSelf(),i.bind(Sb).toDynamicValue(o=>o.container.get(cu).create()).inSingletonScope(),e.parent()&&(i.bind(jc).to(Nc).inSingletonScope(),i.bind(yo).to(Rl).inSingletonScope()),i.bind(Yt).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:ln).inSingletonScope().onActivation(lt),i.bind(Yn).toSelf().inSingletonScope(),i.bind(ur).toSelf().inSingletonScope(),i.bind(Aa).toSelf().inSingletonScope(),i.bind(fa).to(To).inSingletonScope(),i.bind(ba).toSelf().inSingletonScope(),i.bind(_p).to(xp).inSingletonScope(),i.bind(Xv).to(pp).inSingletonScope(),i.bind(Gn).to(Nl).inSingletonScope(),i.bind(vb).to(bp).inSingletonScope(),i.bind(_a).to(vp).inSingletonScope(),i.bind($v).to(rp).inSingletonScope().onActivation(lt),i.bind(fr).toSelf(),i.bind(Pn).toSelf(),i.bind(Tn).toSelf(),i.bind(Pb).to(dn).inSingletonScope(),i.bind(Lb).to(Ip).inSingletonScope(),i.bind(Kv).to(up).inSingletonScope().onActivation(lt),i},yX=t=>{let e=new g0.Container;e.parent=t,e.bind(Ql).toConstantValue(e),e.bind(ce).to(ii).inSingletonScope().onActivation(lt),e.bind(kc).to(mu).inSingletonScope(),e.bind(Yt).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:ln).inSingletonScope().onActivation(lt),e.bind(lo).to(lo).inSingletonScope(),e.bind(rs).to(rs).inSingletonScope(),e.bind(Bp).to(Fp).inSingletonScope(),e.bind($l).to(sd).inSingletonScope(),e.bind(li).to(vd),e.bind(Bo).toSelf().inSingletonScope().onActivation(lt),e.bind(qo).toSelf(),e.bind(wr).to(Bi).onActivation(lt),e.bind(wr).to(xd).onActivation(lt),e.bind(wr).to(_d).onActivation(lt),e.bind(wr).to(Dd).onActivation(lt),e.bind(Hg).to(Ld),e.bind(Hg).to($d),e.bind(Ru).to(yd).inSingletonScope(),mX(e),e.bind(wr).to(Sd).onActivation(lt),e.bind($u).toSelf().inSingletonScope().onActivation(lt),e.bind(wr).toService($u),e.bind(wr).to(ud).inSingletonScope().onActivation(lt),e.bind(wr).to(pd).inSingletonScope().onActivation(lt),e.bind(wr).to(ld).inSingletonScope().onActivation(lt),e.bind(wr).to(dd).inSingletonScope().onActivation(lt),e.bind(wr).to(ci).onActivation(lt),e.bind(wr).toDynamicValue(()=>t.get(No).createLauncher(e.get(ce))).inSingletonScope(),e.isBound(Yc)||e.bind(Yc).to(wp).inSingletonScope(),e.bind(HS).to(tp).inSingletonScope().onActivation(lt);let r=n=>i=>new n(i.container.get(dS),i.container.get(xe),i.container.get(Lh));return e.bind(Jc).toDynamicValue(r(m0.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(Jc).toDynamicValue(r(m0.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},vX=t=>{let e=new g0.Container;return e.bind(Ql).toConstantValue(e),e.bind(No).toSelf().inSingletonScope(),e.bind(Fi).toSelf().inSingletonScope(),e.bind(Kl).to(kd).inSingletonScope(),e.bind(ep).toConstantValue(new Lo),e.bind(qp).to(Up).inSingletonScope(),e.bind(_o).toConstantValue(t.storagePath),e.bind(Zl).toConstantValue(t.isVsCode),e.bind(Yx).to(Pd),e.bind(pt).to(cp).inSingletonScope(),e.bind(dS).toConstantValue(process.env),e.bind(Lh).toConstantValue(gX.default),e.bind(xe).toConstantValue(h0.promises),e.bind(Fr).toConstantValue(new wn(h0.promises)),e.bind(us).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(st).toConstantValue(t.context),hX(e),e},bX=(t,e,r)=>{t.bind(Dm).toConstantValue(kW(e)),t.bind(Re).toService(Dm),t.bind(Qr).to(md).inSingletonScope(),t.bind(_l).toConstantValue(r),t.bind(nt).toDynamicValue(n=>n.container.get(Qr).create(e,n.container.get(ce))).inSingletonScope(),t.bind(Fr).toConstantValue(fy.create(e.__remoteFilePrefix,h0.promises,r)),t.bind(FI).to(ua).inSingletonScope().onActivation(lt),t.bind(la).to(Fl).inSingletonScope(),t.bind(wt).toSelf().inSingletonScope().onActivation(lt),t.bind(Ho).to(Fc).inSingletonScope(),t.bind(Bc).toSelf().inSingletonScope(),t.bind(jc).to(Nc).inSingletonScope(),t.bind(yo).to(kl).inSingletonScope()};var DX=A(we()),yr=A(require("vscode"));var wX=A(we()),Ws=A(Z()),i$=A(require("path")),xc=A(require("vscode"));var el=class extends hn{constructor(r,n,i,o,s,a){super(r,n,a,s);this.extensionContext=i;this.fs=o;this.telemetryItems=new Map}get deferredSocketName(){let r=this.extensionContext.environmentVariableCollection.get("VSCODE_INSPECTOR_OPTIONS");return r?new Mx({VSCODE_INSPECTOR_OPTIONS:r.value}).inspectorOptions?.inspectorIpc:void 0}getProcessTelemetry(r){return Promise.resolve(r instanceof bd?this.telemetryItems.get(r.processId()):void 0)}resolveParams(r){if(r.type==="node-terminal"&&r.request==="launch")return r}async launchProgram(r){await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,r),this.program=new ks,this.program.stopped.then(n=>this.onProgramTerminated(n))}async refreshVariables(){this.run&&await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,this.run)}async applyInspectorOptions(r,n){let i;try{i=await this.resolveNodePath(n.params)}catch(c){if(c instanceof re&&c.cause.id===9229)i=new Er("node",void 0);else throw c}let o=Dt(xc.workspace,"debug.javascript.autoAttachFilter"),a=(await this.resolveEnvironment(n,i,{deferredMode:!0,inspectorIpc:this.deferredSocketName??n.serverAddress+".deferred",autoAttachMode:o,aaPatterns:o==="smart"?this.readSmartPatterns():void 0})).defined();r.persistent=!0,r.description=new xc.MarkdownString(wX.t({message:'Enables Node.js [auto attach]({0}) debugging in "{1}" mode',comment:["{Locked='[auto attach]({0})'}","the 2nd placeholder is the setting value"],args:["https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_auto-attach",o]})),r.prepend("NODE_OPTIONS",a.NODE_OPTIONS),r.append("VSCODE_INSPECTOR_OPTIONS",a.VSCODE_INSPECTOR_OPTIONS)}readSmartPatterns(){let r=Dt(xc.workspace,"debug.javascript.autoAttachSmartPattern"),n=xc.workspace.workspaceFolders?.length===1?xc.workspace.workspaceFolders[0].uri.fsPath:`{${xc.workspace.workspaceFolders?.map(i=>i.uri.fsPath).join(",")}}`;return r?.map(i=>i.replace("${workspaceFolder}",n)).map(Ye)}async getBootloaderFile(r,n){let i=this.extensionContext.storagePath||this.extensionContext.globalStoragePath;if(i.includes(" ")&&n.isPreciselyKnown&&!n.has(0))throw new Kg(`The \`node\` version on your PATH is too old (${n.version?.major}), so we cannot enable auto-attach in your environment`,"https://github.com/microsoft/vscode-js-debug/issues/708");let o=i$.join(i,"bootloader.js");try{await this.fs.mkdir(i)}catch{}await Promise.all([rI(this.fs,Ox,o),rI(this.fs,p6,i$.join(i,"watchdog.js"))]);let s=Ye(o);return{interpolatedPath:s.includes(" ")?`"${s}"`:s,dispose:()=>{}}}async spawnForChild(r){if(!this.run)return;let n=Number(r.pid??"0");this.telemetryItems.set(n,r.telemetry);let i=await pi.attach({...r,ipcAddress:this.run.serverAddress});i.onEnd(()=>{this.telemetryItems.delete(n),i.dispose()})}static clearVariables(r){r.environmentVariableCollection.clear()}};el=D([(0,Ws.injectable)(),b(0,(0,Ws.inject)(li)),b(1,(0,Ws.inject)(ce)),b(2,(0,Ws.inject)(st)),b(3,(0,Ws.inject)(xe)),b(4,(0,Ws.inject)(Qr)),b(5,(0,Ws.inject)(pt))],el);var Kg=class extends Error{constructor(r,n){super(r);this.helpLink=n}};var AX=A(we()),IX=require("os"),Et=A(require("vscode"));var xX=()=>{let t,e=qe(),r=(n,i)=>i==="connect"?o=>{e.resolve(o),t=o}:i==="disconnect"?()=>{e=qe(),t=void 0}:async(...o)=>(t||await e.promise)[i](...o);return new Proxy({},{get:r})};var s$=(t,e,r={},n=()=>!0)=>{let i=new ln,o={...Dt(Et.workspace,"debug.javascript.terminalOptions"),internalConsoleOptions:"neverOpen"},s=xX();i.attachDap(s);let a=new Set,c=async u=>{let l=await e.getProcessTelemetry(u),p=l&&Et.Uri.file(l.cwd),d=p&&Et.workspace.getWorkspaceFolder(p);return d?d.uri:r.__workspaceFolder?Et.Uri.file(r.__workspaceFolder):Et.workspace.workspaceFolders?.[0].uri??p};return e.onTargetListChanged(async()=>{let u=await Et.workspace.requestWorkspaceTrust(),l=new Set;for(let p of e.targetList()){if(l.add(p),a.has(p)){a.delete(p);continue}let d=t.addDelegate(p,s,p.parent());if(!n(p)){p.detach();return}if(p.targetInfo.openerId&&!p.parent()){p.detach();return}if(!u){p.detach();return}if(!p.parent()){let m=await c(p);Et.debug.startDebugging(m&&Et.workspace.getWorkspaceFolder(m),{...o,type:"node-terminal",name:"Node.js Process",request:"attach",delegateId:d,cwd:m?.fsPath,__workspaceFolder:m})}}for(let p of a)t.removeDelegate(p);a=l}),e.launch(Xs({...o,type:"node-terminal",name:aH.name,request:"launch",...r}),{dap:s,telemetryReporter:i,cancellationToken:lr,get targetOrigin(){return new Hd("<unset>")}})},SX=Symbol("Abort"),_X=(0,IX.homedir)(),aAe=process.platform==="win32"?t=>t:t=>t.startsWith(_X)?`~${t.slice(_X.length)}`:t;async function cAe(){let t=Et.workspace.workspaceFolders;return!t||t.length<2?t?.[0]:(await Et.window.showQuickPick(t.map(r=>({label:r.name,description:aAe(r.uri.fsPath),folder:r})),{placeHolder:AX.t("Select current working directory for new terminal")}))?.folder??SX}var o$=class extends Rs{constructor(){super(...arguments);this.optionsReadyEmitter=new Y;this.onOptionsReady=this.optionsReadyEmitter.event}createTerminal(r){return this.optionsReadyEmitter.fire(r),new Promise(n=>{let i=Et.window.onDidOpenTerminal(o=>{i.dispose(),n(o)})})}};function EX(t,e,r,n){let i=new Map,o=(a,c)=>new Rs(c,a,n.get(xe),n.get(Fi),n.get(pt));async function s(a,c,u,l,p=o){if(!u){let f=await cAe();if(f===SX)return;u=f}if(c){for(let[f,g]of i)if(g.folder===u&&g.cwd===l?.cwd&&!g.launcher.targetList().length){f.show(!0),f.sendText(c);return}}let d=new tc,m=p(d,new $s(d,n.get(xe),Fx));m.onTerminalCreated(f=>{i.set(f,{launcher:m,folder:u,cwd:l?.cwd}),r.enableHandlingInTerminal(f)});try{await s$(a,m,{command:c,...l,__workspaceFolder:u?.uri.fsPath},()=>{for(let[f,g]of i)if(g.launcher===m&&f.state.isInteractedWith)return!0;return!1})}catch(f){Et.window.showErrorMessage(f.message)}}t.subscriptions.push(Et.window.onDidCloseTerminal(a=>{i.delete(a)}),Te(Et.commands,"extension.js-debug.createDebuggerTerminal",(a,c,u)=>s(e,a,c,u)),Et.window.registerTerminalProfileProvider("extension.js-debug.debugTerminal",{provideTerminalProfile:()=>new Promise(a=>s(e,void 0,void 0,void 0,(c,u)=>{let l=new o$(u,c,n.get(xe),n.get(Fi),n.get(pt));return l.onOptionsReady(p=>a(new Et.TerminalProfile(p))),l}))}),Et.window.registerTerminalLinkProvider?.(r))}function CX(t,e,r){let n=new Map,i,o=s=>{let a=n.get(s);if(a)return a;let c=(async()=>{let u=new tc,l=new el(new $s(u,r.get(xe),Fx),u,t,r.get(xe),r.get(Fi),r.get(pt)),p=Dt(yr.workspace,"debug.javascript.terminalOptions");if(s){let d=s?.uri.fsPath;p={...p,cwd:d,__workspaceFolder:d}}return await s$(e,l,p),l.onTargetListChanged(()=>{l.targetList().length===0&&!i?i=setTimeout(()=>{n.delete(s),l.terminate()},5*60*1e3):i&&(clearTimeout(i),i=void 0)}),l})();return n.set(s,c),c};t.subscriptions.push(Te(yr.commands,"extension.js-debug.setAutoAttachVariables",async()=>{try{return{ipcAddress:(await o(yr.workspace.workspaceFolders?.[0])).deferredSocketName}}catch(s){if(s instanceof Kg&&s.helpLink){let a=DX.t("Details");await yr.window.showErrorMessage(s.message,a)===a&&yr.env.openExternal(yr.Uri.parse(s.helpLink))}else await yr.window.showErrorMessage(s.message)}}),Te(yr.commands,"extension.js-debug.autoAttachToProcess",async s=>{try{let a=s.scriptName&&yr.workspace.getWorkspaceFolder(yr.Uri.file(s.scriptName));(await o(a||yr.workspace.workspaceFolders?.[0])).spawnForChild(s)}catch(a){console.error(a),yr.window.showErrorMessage(`Error activating auto attach: ${a.stack||a}`)}}),Te(yr.commands,"extension.js-debug.clearAutoAttachVariables",async()=>{el.clearVariables(t);for(let[s,a]of n.entries())n.delete(s),a.then(c=>c.terminate())}))}var PX=A(we()),TX=require("url"),Tr=A(require("vscode"));var H0=A(require("vscode"));var kf=class{constructor(){this.tunnels=new Map;this.disposable=new Ie;this.disposable.push(H0.debug.onDidTerminateDebugSession(e=>this.destroySession(e.id)))}dispose(){return this.disposable.dispose()}destroySession(e){let r=this.tunnels.get(e);r&&(r.dispose(),this.tunnels.delete(e))}async request(e,r){let n=this.tunnels.get(e);n||(n=await H0.workspace.openTunnel({remoteAddress:{port:r.remotePort,host:"localhost"},localAddressPort:r.localPort??r.remotePort,label:r.label}),this.tunnels.set(e,n));let i;if(typeof n.localAddress=="string"){let[o,s]=n.localAddress.split(":");i={host:o,port:Number(s)}}else i=n.localAddress;return{remoteAddress:n.remoteAddress,localAddress:i}}};var uAe=t=>e=>typeof e.localAddress=="string"?e.localAddress.endsWith(`:${t}`):e.localAddress.port===t,lAe=async t=>{let e=t.params.url;if(!e)return;let r;try{r=new TX.URL(e)}catch{return}if(!Dt(Tr.workspace,"debug.javascript.automaticallyTunnelRemoteServer"))return;let n=Number(r.port)||80;if(!(await Tr.workspace.tunnels).some(uAe(n)))try{await Tr.workspace.openTunnel({remoteAddress:{port:n,host:"localhost"},localAddressPort:n})}catch{}},pAe=async(t,e,r)=>{if(Tr.env.uiKind===Tr.UIKind.Web)return Tr.debug.stopDebugging(t),Tr.window.showErrorMessage(PX.t("We can't launch a browser in debug mode from here. Open this workspace in VS Code on your desktop to enable debugging."));try{let[,n]=await Promise.all([lAe(r),e.request(t.id,{remotePort:r.serverPort,label:"Browser Debug Tunnel"}).catch(()=>{})]);await Tr.commands.executeCommand("js-debug-companion.launchAndAttach",{proxyUri:n?`127.0.0.1:${n.localAddress.port}`:`127.0.0.1:${r.serverPort}`,wslInfo:process.env.WSL_DISTRO_NAME&&{execPath:process.execPath,distro:process.env.WSL_DISTRO_NAME,user:process.env.USER},...r})}catch(n){Tr.window.showErrorMessage(`Error launching browser: ${n.message||n.stack}`)}},dAe=async(t,e,{launchId:r})=>{await Tr.commands.executeCommand("js-debug-companion.kill",{launchId:r}),e.destroySession(t.id)};function LX(t){let e=new kf;t.subscriptions.push(e,Tr.debug.onDidReceiveDebugSessionCustomEvent(async r=>{switch(r.event){case"launchBrowserInCompanion":return pAe(r.session,e,r.body);case"killCompanionBrowser":return dAe(r.session,e,r.body);default:}}))}var Pe=A(require("vscode")),Vs=require("vscode");var y0=()=>Vs.l10n.t("XHR/Fetch URLs"),Mf=class extends Pe.TreeItem{constructor(r,n){super(r.match?Vs.l10n.t('URL contains "{0}"',r.match):Vs.l10n.t("Any XHR or fetch"),Pe.TreeItemCollapsibleState.None);this.contextValue="xhrBreakpoint",this.id=r.match,this.match=r.match,this.checkboxState=n?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}static compare(r,n){return r.match.localeCompare(n.match)}},Xg=class extends Pe.TreeItem{constructor(r,n){super(r.title,Pe.TreeItemCollapsibleState.None);this.parent=n;this.checkboxState=Pe.TreeItemCheckboxState.Unchecked,this.id=r.id,this.group=r.group}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}static compare(r,n){return r.id.localeCompare(n.id)}},Rf=class extends Pe.TreeItem{constructor(r){super(r,Pe.TreeItemCollapsibleState.Collapsed);this.label=r;this.children=[];this.checkboxState=Pe.TreeItemCheckboxState.Unchecked}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}},a$=class{constructor(e){this._onDidChangeTreeData=new Y;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.categories=new Map;this.xhrBreakpoints=[];for(let n of[...gp().values()]){let i=this.categories.get(n.group);i||(i=new Rf(n.group),this.categories.set(n.group,i)),i.children.push(new Xg(n,i))}let r=new Rf(y0());r.contextValue="xhrCategory",r.checkboxState=void 0,this.categories.set(y0(),r),this.xhrBreakpoints=[],this._debugSessionTracker=e,e.onSessionAdded(n=>{if(!Ze.isConcreteSession(n))return;let i=this.allBreakpoints.filter(o=>o.checked).map(o=>o.id);i.length!==0&&n.customRequest("setCustomBreakpoints",{xhr:this.xhrBreakpoints.filter(o=>o.checkboxState).map(o=>o.id),ids:i})})}get allCategories(){return this.categories.values()}get allBreakpoints(){return[...this.allCategories].flatMap(e=>e.children)}getTreeItem(e){return e}getChildren(e){if(!e)return[...this.categories.values()].sort((r,n)=>r.label.localeCompare(n.label));if(e instanceof Rf){if(e.contextValue==="xhrCategory"){let r=Vs.l10n.t("Add new URL..."),n=new Pe.TreeItem(r);return n.command={title:r,command:"extension.js-debug.addXHRBreakpoints"},[...this.xhrBreakpoints,n]}return this.categories.get(e.label)?.children}return[]}getParent(e){if(e instanceof Xg)return this.categories.get(e.group);if(e instanceof Mf)return this.categories.get(y0())}setEnabled(e){for(let[r,n]of e){let i=n?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked;if(r.checkboxState=i,r instanceof Rf)for(let o of this.getChildren(r))o.checkboxState!==i&&(o.checkboxState=i);else if(r instanceof Xg||r instanceof Mf){let o=this.getParent(r);(!n&&o.checked||n&&this.getChildren(o).every(s=>s.checked||s.checkboxState==null))&&(o.checkboxState=i)}}this.updateDebuggersState(),this._onDidChangeTreeData.fire(void 0)}updateDebuggersState(){let e=this.allBreakpoints.filter(n=>n.checked).map(n=>n.id),r=this.xhrBreakpoints.filter(n=>n.checked).map(n=>n.id);for(let n of this._debugSessionTracker.getConcreteSessions())n.customRequest("setCustomBreakpoints",{xhr:r,ids:e})}addXHRBreakpoints(e){this.xhrBreakpoints.some(r=>r.id===e.id)||(this.xhrBreakpoints.push(e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0))}removeXHRBreakpoint(e){this.xhrBreakpoints=this.xhrBreakpoints.filter(r=>r!==e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0)}syncXHRCategoryState(){let e=this.categories.get(y0());if(e){if(!this.xhrBreakpoints.length){e.checkboxState=void 0;return}e.checkboxState=this.xhrBreakpoints.every(r=>r.checkboxState===Pe.TreeItemCheckboxState.Checked)?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked}}};function $X(t,e){let r=new a$(e),n=Pe.window.createTreeView("jsBrowserBreakpoints",{treeDataProvider:r,showCollapseAll:!0,manageCheckboxStateManually:!0});t.subscriptions.push(n.onDidChangeCheckboxState(async i=>{r.setEnabled(i.items.map(([o,s])=>[o,s===Pe.TreeItemCheckboxState.Checked]))})),t.subscriptions.push(n),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.addCustomBreakpoints",async()=>{let i=[...r.allCategories].flatMap(a=>[{kind:Pe.QuickPickItemKind.Separator,id:"",label:a.label},...a.children.map(c=>({id:c.id,label:`${c.label}`,picked:c.checked}))]),o=await Pe.window.showQuickPick(i,{canPickMany:!0,placeHolder:"Select breakpoints to enable"});if(!o)return;let s=new Set(o.map(a=>a.id));r.setEnabled(r.allBreakpoints.map(a=>[a,s.has(a.id)]))})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.removeAllCustomBreakpoints",()=>{r.setEnabled([...r.allBreakpoints,...r.xhrBreakpoints].map(i=>[i,!1]))})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.addXHRBreakpoints",()=>{let i=Pe.window.createInputBox();i.title=Vs.l10n.t("Add XHR Breakpoint"),i.placeholder=Vs.l10n.t("Break when URL Contains"),i.onDidAccept(()=>{let o=i.value;r.addXHRBreakpoints(new Mf({match:o},!0)),i.dispose()}),i.show()})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.editXHRBreakpoints",i=>{let o=Pe.window.createInputBox();o.title=Vs.l10n.t("Edit XHR Breakpoint"),o.placeholder=Vs.l10n.t("Enter a URL or a pattern to match"),o.value=i.match,o.onDidAccept(()=>{let s=o.value;r.removeXHRBreakpoint(i),r.addXHRBreakpoints(new Mf({match:s},i.checkboxState==Pe.TreeItemCheckboxState.Checked)),o.dispose()}),o.show()})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.removeXHRBreakpoint",i=>{r.removeXHRBreakpoint(i)}))}var c$=A(require("vscode"));var kX=(t,e)=>{let r=e.get(Hc);t.subscriptions.push(Te(c$.commands,"extension.js-debug.startProfile",n=>r.start(typeof n=="string"?{sessionId:n}:n??{})),Te(c$.commands,"extension.js-debug.stopProfile",n=>r.stop(n)))};var v0=A(require("vscode"));var RX=(t,e)=>{let r=new kf;t.subscriptions.push(r,Te(v0.commands,"extension.js-debug.requestCDPProxy",async(n,i)=>{let o=e.getById(n);if(!o)return;let s=await o.customRequest("requestCDPProxy");if(!i)return s;try{if(v0.env.remoteName!==void 0){let a=await r.request(n,{label:"Edge Devtools Tunnel",remotePort:s.port});return{host:a.localAddress.host,port:a.localAddress.port,path:s.path}}}catch{}return s}))};var MX=A(require("vscode"));var OX=(t,e)=>{t.subscriptions.push(Te(MX.commands,"extension.js-debug.revealPage",async r=>{await e.getById(r)?.customRequest("revealPage")}))};var Jg=A(require("vscode")),FX=require("url");async function BX(t){if(!t){let e=Jg.window.activeTextEditor;if(!e)return;t=e&&e.document.fileName}if(t&&Jg.debug.activeDebugSession){let e;typeof t=="string"?sn(t)?e={resource:(0,FX.fileURLToPath)(t)}:e={resource:t}:e={sourceReference:t},await Jg.debug.activeDebugSession.customRequest("toggleSkipFileStatus",e)}}var _c=A(require("vscode"));var QX=require("fs"),ZX=A(require("net"));var NX=`\r
\r
`,fAe=0,Yg=class{constructor(e,r,n){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=fAe++;this.msgEmitter=new Y;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new Y;this.closed=this.endedEmitter.event;this._handleData=e=>{let r=new Qn;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let i=JSON.parse(n);this.logger?.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:i}),this.msgEmitter.fire({message:i,receivedTime:r})}catch(i){console.error("Error handling data: "+(i&&i.message))}continue}}else{let n=this._rawData.indexOf(NX);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let s=0;s<o.length;s++){let a=o[s].split(/: +/);a[0]==="Content-Length"&&(this._contentLength=+a[1])}this._rawData=this._rawData.slice(n+NX.length);continue}}break}};this.logger=n,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,n){let i=JSON.stringify(e);if(r){let s=e;e.type==="response"&&e.command==="source"&&(s={...e,body:{...e.body,content:"<script source>"}}),this.logger?.verbose("dap.send",void 0,{connectionId:this._connectionId,message:s})}let o=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r
\r
${i}`;if(this.outputStream.destroyed){this.logger?.warn("dap.send","Message not sent. Connection was closed."),n?.();return}this.outputStream.write(o,"utf8",s=>{n?.(),s&&(console.log(e),this.logger?.error("dap.send","Error while writing to output stream",s),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};var JX=A(we()),_0=A(require("os"));var hAe={connect:async()=>zl},UX=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),zl}}),mAe=t=>{let e=new Y,r=!1,n=()=>{r||(r=!0,e.fire())};return{async connect(i){if(r)return await i.Debugger.setAsyncCallStackDepth({maxDepth:t}),zl;let o=new Ie;return o.push(e.event(()=>{o.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:t})}),i.Debugger.on("breakpointResolved",n),i.Debugger.on("paused",s=>{s.reason!=="instrumentation"&&n()})),o}}},jX=UX(32),qX=t=>t===!1?hAe:t===!0?jX:"onAttach"in t?UX(t.onAttach):"onceBreakpointResolved"in t?mAe(t.onceBreakpointResolved):jX;var yi=A(we());var Qg=class t{constructor(e,r,n,i){this.asyncStackPolicy=r;this.launchConfig=n;this._services=i;this._disposables=new Ie;this._customBreakpoints=[];this._xhrBreakpoints=[];this._threadDeferred=qe();this.breakpointIdCounter=oH();this._cdpProxyProvider=this._services.get(Kv);this._configurationDoneDeferred=qe(),this.sourceContainer=i.get(ur),this.breakpointManager=i.get(Yn);let o=i.get(Sb),s=i.get(Yt);s.onFlush(()=>{s.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),s.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(c=>c.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(c=>c.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(c=>c.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(c=>c.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(c=>c.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("setCustomBreakpoints",a=>this.setCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>o.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){return this._thread?.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){return this._thread?.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let n=this.sourceContainer.source(e.source);return n?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,n,new Ut(e.line,e.column||1),new Ut(e.endLine||e.line+1,e.endColumn||e.column||1))).map(o=>o.uiLocations.find(s=>s.source===n)).filter(Ct).map(o=>({line:o.lineNumber,column:o.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(ce).getRecentLogs();return await this._services.get(xe).writeFile(e,r.map(n=>JSON.stringify(n)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(_p).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=t.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>this._thread?.dapInitialized(),0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:yi.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:yi.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:yi.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:yi.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){return this.breakpointManager.setBreakpoints(e,e.breakpoints?.map(()=>this.breakpointIdCounter())??[])}async setExceptionBreakpoints(e){return await this._services.get(_p).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){let r=this.sourceContainer.source(e.source);if(!r)return Qe(yi.t("Source not found"));if(!(r instanceof Rt))return Qe(yi.t("Source not a source map"));for(let n of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await this._thread?.refreshStackTrace(),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=Ii(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Qe(yi.t("Source not found"));let n=await r.content();return n===void 0?(r instanceof Rt&&this.dap.suggestDisableSourcemap({source:e.source}),Qe(yi.t("Unable to retrieve source content"))):{content:n,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){return{variables:await this.findVariableStore(n=>n.hasVariable(e.variablesReference))?.getVariables(e)??[]}}async _onReadMemory(e){let r=e.memoryReference,n=await this.findVariableStore(i=>i.hasMemory(r))?.readMemory(r,e.offset??0,e.count);return n?{address:"0",data:n.toString("base64"),unreadableBytes:e.count-n.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){let r=e.memoryReference;return{bytesWritten:await this.findVariableStore(i=>i.hasMemory(r))?.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64"))}}async _onSetExpression(e){if(!this._thread)throw new re(_I());let r=await this._thread.evaluate({expression:`${e.expression} = ${mh(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return r?(e.value=mh(e.value.trim()),r.setVariable(e)):Qe(yi.t("Variable not found"))}_withThread(e){if(!this._thread)throw new re(_I());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new yp(this.sourceContainer,e,this.dap,r,this._services.get(la),this._services.get(ce),this._services.get(Gn),this._services.get(Xv),this.launchConfig,this.breakpointManager,this._services.get(vb),this._services.get(_p),this._services.get(ba),this._services.get(_a));let n=this._services.get(Lb);return n.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&n.start(this.dap,this._thread,{type:fr.type}),this._thread.updateCustomBreakpoints(this._xhrBreakpoints,this._customBreakpoints),this.asyncStackPolicy.connect(e).then(i=>this._disposables.push(i)).catch(i=>this._services.get(ce).error("internal","Error enabling async stacks",i)),this.breakpointManager.setThread(this._thread),this._services.get(wt).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async setCustomBreakpoints({ids:e,xhr:r}){return await this._thread?.updateCustomBreakpoints(r,e),this._customBreakpoints=e,this._xhrBreakpoints=r,{}}async _toggleSkipFileStatus(e){return await this._services.get(fa).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source||!this._thread)return{canPrettyPrint:!1};e.source.path=Ii(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Qe(yi.t("Source not found"));let n=await r.prettyPrint();if(!n)return Qe(yi.t("Unable to pretty print"));let{map:i,source:o}=n;return await this.breakpointManager.moveBreakpoints(this._thread,r,i,o),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get(Aa).generateHtml()};return e.fromSuggestion&&this._services.get(Yt).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),Cv(this._services)}};var WX=require("inspector"),VX=require("fs"),b0=class{constructor(e){this.file=e;this.session=new WX.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await VX.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((n,i)=>this.session.post(e,r,(o,s)=>{o?i(o):n(s)}))}};var w0=A(require("path"));function zX(t,e,r){let n=GX(t,e,"uncaughtException",r),i=GX(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",n),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",n),process.removeListener("unhandledRejection",i)}}}var GX=(t,e,r,n=!0)=>i=>{yAe(i)&&(e.report("error",{"!error":i,error:n?void 0:i,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",i))},gAe=t=>typeof t=="object"&&!!t&&"stack"in t,HAe=w0.dirname(w0.dirname(w0.dirname(__dirname)));function yAe(t){return!KX||gAe(t)&&!!t.stack?.includes(HAe)}var KX=!1;function XX(){KX=!0}var x0=class{constructor(e,r,n,i){this._delegate=e;this._rootServices=n;this._disposables=new Ie;this._serviceTree=new WeakMap;this._root=new tl(void 0);this.getLaunchers=_e(()=>{let e=new Set(this._rootServices.getAll(wr));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let n=this.targetList();this._attachToNewTargets(n,r),this._terminateOrphanThreads(n)}));return e});this._dap=r.dap(),this._targetOrigin=i,this._disposables.callback(()=>Cv(n)),this._disposables.push(zX(n.get(ce),n.get(Yt),n.get(Zl))),r.attachTelemetry(n.get(Yt));let o=this._dap,s=0,a;o.on("initialize",async c=>{this._rootServices.bind(cn).toConstantValue(c);let u=Qg.capabilities();return c.clientID==="vscode"&&XX(),setTimeout(()=>o.initialized({}),0),u}),o.on("setExceptionBreakpoints",async()=>({})),o.on("setBreakpoints",async c=>(c.breakpoints?.length&&n.get(wt).notifyHadBreakpoint(),{breakpoints:c.breakpoints?.map(()=>({id:++s,verified:!1,message:JX.t("Unbound breakpoint")}))??[]})),o.on("configurationDone",async()=>({})),o.on("threads",async()=>({threads:[]})),o.on("loadedSources",async()=>({sources:[]})),o.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),o.on("attach",async c=>(await this.boot(c,o),{})),o.on("launch",async c=>(await this.boot(c,o),{})),o.on("pause",async()=>({})),o.on("terminate",()=>this._terminateRoot(!0)),o.on("disconnect",c=>this._disconnectRoot(c)),o.on("restart",async({arguments:c})=>(await this._restart(c),{})),o.on("startSelfProfile",async({file:c})=>(a?.dispose(),a=new b0(c),await a.start(),{})),o.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(r=>r.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(Yt).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(Xs(e,this._rootServices.get(us)),r)}async _boot(e,r){vAe(r),this.reportBootTelemetry(e),bX(this._rootServices,e,r),this._rootServices.get(ce).setup(u1(r,e.trace));let n=e.timeout>0?Qt.withTimeout(e.timeout):new Qt;e.rootPath&&(e.rootPath=Ii(e.rootPath)),this._launchParams=e;let i=await Promise.all([...this.getLaunchers()].map(o=>this._launch(o,e,n.token)));return Promise.all(i.map(o=>o.terminated)).then(o=>{let s=o.find(Ct);this._markTargetAsTerminated(this._root,{restart:!!s?.restart})}),{}}reportBootTelemetry(e){let r=Xs({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),n=(i,o)=>typeof i=="string"?o&&r[o]===i?i:"<string>":i instanceof Array?i.map(s=>n(s)):i&&typeof i=="object"?Xo(i,s=>n(s)):i;this._rootServices.get(Yt).report("launch",{type:e.type,request:e.request,os:`${_0.platform()} ${_0.arch()}`,nodeVersion:process.version,adapterVersion:Sc,parameters:Xo(e,n)})}async _restart(e){let r;if(e){let n=this._rootServices.get(Dm);r=Xs({__workspaceFolder:n.__workspaceFolder,...e},this._rootServices.get(us)),n.update(r)}await Promise.all([...this.getLaunchers()].map(n=>n.restart(r)))}async _launch(e,r,n){return(await this.captureLaunch(e,r,n)).blockSessionTermination?{terminated:new Promise(o=>{let s=this._disposables.push(e.onTerminated(a=>{s.dispose(),o(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,n){let i=e.constructor.name,o;try{o=await e.launch(r,{telemetryReporter:this._rootServices.get(Yt),cancellationToken:n,targetOrigin:this._targetOrigin,dap:this._dap})}catch(s){throw this._rootServices.get(ce).warn("runtime.launch","Launch returned error",{error:s,wasCancelled:n.isCancellationRequested,name:i}),s}return o.blockSessionTermination&&this._rootServices.get(ce).info("runtime.launch","Launched successfully",{name:i}),o}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let n=e.value;if(!n.canAttach())return;let i=await n.attach();if(!i)return;let o=await this._delegate.acquireDap(n),s=o.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=qX(a.showAsyncStacks));let c=n.parent(),u=c&&this._serviceTree.get(c)||this._rootServices,l=HX(u,n,s,i);o.attachTelemetry(l.get(Yt)),this._serviceTree.set(n,u);let p=new Qg(s,this._asyncStackPolicy,a,l),d=p.createThread(i,n),m=async()=>(await p.launchBlocker(),n.runIfWaitingForDebugger(),e.threadData.resolve({thread:d,debugAdapter:p}),{});s.on("disconnect",f=>this._disconnectTarget(e,f)),s.on("terminate",()=>this._terminateTarget(e)),s.on("restart",async()=>(n.canRestart()?n.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,n,r)?m():(s.on("attach",m),s.on("launch",m)),await n.afterBind()}_attachToNewTargets(e,r){for(let n of e.values()){if(!n.waitingForDebugger()||tl.targetNodes.has(n))continue;let i=n.parent(),o=i?tl.targetNodes.get(i):this._root;if(!o)throw new Error(`Got target with unknown parent: ${n.name()}`);let s=new tl(n);o.add(s),this.attach(s,r)}}async _terminateOrphanThreads(e,r){let n=[...this._root.all()].filter(i=>!e.includes(i.value));return Promise.all(n.map(i=>this._markTargetAsTerminated(i,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,YX(e)){let n=await e.threadData.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(r),n.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(r.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let n=e.value.parent();return(n?tl.targetNodes.get(n):this._root)?.remove(e),{}}};function vAe(t){dH&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var YX=t=>!!t.value,tl=class t{constructor(e){this.value=e;this.threadData=qe();this._state=0;this._children=new Set;this._stateChangeEmitter=new Y;e&&t.targetNodes.set(e,this)}static{this.targetNodes=new WeakMap}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let n=this._stateChangeEmitter.event(i=>{i>=e&&(n.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){YX(this)&&(yield this);for(let e of this._children)yield*e.all()}};var A0=class{constructor(e,r,n,i,o){this.debugSession=e;this.logger=n;this.sessionStates=i;this.parent=o;this.subscriptions=new Ie;r instanceof xl?this.connection=r:(r.setLogger(n),this.connection=new xl(r,this.logger))}listenToTarget(e){this.subscriptions.push(e.onNameChanged(()=>this.setName(e)),this.sessionStates.onAdd(([r])=>r===this.debugSession.id&&this.setName(e)),this.sessionStates.onRemove(([r])=>r===this.debugSession.id&&this.setName(e))),this.setName(e)}dispose(){this.subscriptions.dispose()}setName(e){let r=this.sessionStates.get(this.debugSession.id),n=e.name();this.parent instanceof Of&&(n=`${this.parent.debugSession.name}: ${n}`),this.debugSession.name=r?`${n} (${r})`:n}},Of=class extends A0{constructor(r,n,i){super(r,n,i.get(ce),i.get(ep));this.debugSession=r;this.services=i;this.connection.attachTelemetry(i.get(Yt))}get binder(){return this._binder}createBinder(r){this._binder=new x0(r,this.connection,this.services,new $x(this.debugSession.id))}dispose(){super.dispose(),this._binder?.dispose?.()}},I0=class{constructor(e,r){this.globalContainer=e;this.sessionLauncher=r;this._disposables=[];this._sessions=new Map;this._pendingTarget=new Map;this._sessionForTarget=new Map;this._sessionForTargetCallbacks=new Map}terminate(e){let r=this._sessions.get(e.id);this._sessions.delete(e.id),r&&r.dispose()}hasPendingTargetId(e){return this._pendingTarget.has(e)}createNewRootSession(e,r){let n=new Of(e,r,yX(this.globalContainer));return n.createBinder(this),this._sessions.set(e.id,n),n}createNewChildSession(e,r,n){let i=this._pendingTarget.get(r);if(!i)throw new Error(`Cannot find target ${r}`);let{target:o,parent:s}=i,a=new A0(e,n,s.logger,s.sessionStates,s);this._pendingTarget.delete(r),a.debugSession.name=o.name(),a.listenToTarget(o);let c=this._sessionForTargetCallbacks.get(o);return this._sessionForTargetCallbacks.delete(o),c?.fulfill?.(a),this._sessions.set(e.id,a),a}async acquireDap(e){return(await this.getOrLaunchSession(e)).connection}getOrLaunchSession(e){let r=this._sessionForTarget.get(e);if(r)return r;let n=new Promise(async(i,o)=>{let s,a=e.parent();if(a?s=await this.getOrLaunchSession(a):s=this._sessions.get(e.targetOrigin().id),!s)throw new Error("Expected to get a parent debug session for target");this._pendingTarget.set(e.id(),{target:e,parent:s}),this._sessionForTargetCallbacks.set(e,{fulfill:i,reject:o});let c=s.debugSession.configuration,u={type:c.type==="pwa-extensionHost"?"pwa-chrome":c.type,name:e.name(),request:s.debugSession.configuration.request,__pendingTargetId:e.id(),preRestartTask:c.preRestartTask??c.postDebugTask,postRestartTask:c.postRestartTask??c.preLaunchTask};this.sessionLauncher.launch(s,e,u)});return this._sessionForTarget.set(e,n),n}initAdapter(e,r,n){return Promise.resolve(!1)}releaseDap(e){this._sessionForTarget.delete(e);let r=this._sessionForTargetCallbacks.get(e);r&&r.reject(new Error("Target gone")),this._sessionForTargetCallbacks.delete(e)}dispose(){for(let e of this._sessions.values())e.dispose();this._sessions.clear(),this._pendingTarget.clear(),this._sessionForTarget.clear(),this._sessionForTargetCallbacks.clear();for(let e of this._disposables)e.dispose();this._disposables=[]}};var S0=class{constructor(e,r,n="127.0.0.1"){this.host=n;this.disposables=[];this.servers=new Map;this.sessionManager=new I0(e,r),this.portLeaseTracker=e.get(pt),this.disposables.push(this.sessionManager)}createDebugServer(e,r){return e.configuration.__pendingTargetId?this.createChildDebugServer(e):this.createRootDebugServer(e,r)}createRootDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewRootSession(e,n),r)}createRootDebugSessionFromStreams(e,r,n){let i=new Yg(r,n);return this.sessionManager.createNewRootSession(e,i)}createChildDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewChildSession(e,e.configuration.__pendingTargetId,n),r)}async innerCreateServer(e,r,n){let i=qe(),o=a=>{let c=new Yg(a,a),u=r(c);i.resolve(u.connection)},s=n===void 0?await new Promise((a,c)=>{let u=my(),l=ZX.createServer(o).on("error",c).on("close",()=>QX.promises.unlink(u).catch(()=>{})).listen(u,()=>a(l))}):await s3(this.portLeaseTracker,o,n,this.host);return this.servers.set(e.id,s),{server:s,connectionPromise:i.promise}}terminate(e){this.sessionManager.terminate(e),this.servers.get(e.id)?.close(),this.servers.delete(e.id)}dispose(){this.sessionManager.dispose()}};var u$=class{launch(e,r,n){_c.debug.startDebugging(e.debugSession.workspaceFolder,{...n,...r.supplementalConfig,serverReadyAction:e.debugSession.configuration.serverReadyAction,__parentId:e.debugSession.id},{parentSession:e.debugSession,consoleMode:_c.DebugConsoleMode.MergeWithParent,noDebug:e.debugSession.configuration.noDebug,compact:e instanceof Of,lifecycleManagedByParent:!r.independentLifeycle})}},E0=class{constructor(e){this.sessionServerManager=new S0(e,new u$)}async createDebugAdapterDescriptor(e){let r=process.env.JS_DEBUG_USE_LOCAL_DAP_PORT;if(r)return new _c.DebugAdapterServer(+r);let n=await this.sessionServerManager.createDebugServer(e);return new _c.DebugAdapterNamedPipeServer(n.server.address())}terminate(e){this.sessionServerManager.terminate(e)}dispose(){this.sessionServerManager.dispose()}};function bAe(t){Kt.l10n.bundle&&e7.config({contents:Kt.l10n.bundle});let e=vX({storagePath:process.platform==="win32"?(0,t7.tmpdir)():t.storagePath||t.extensionPath,isVsCode:!0,isRemote:!!process.env.JS_DEBUG_USE_COMPANION||Kt.extensions.getExtension(E$)?.extensionKind===Kt.ExtensionKind.Workspace,context:t});t.subscriptions.push(Te(Kt.commands,"extension.js-debug.npmScript",EK),Te(Kt.commands,"extension.js-debug.pickNodeProcess",CL),Te(Kt.commands,"extension.pwa-node-debug.attachNodeProcess",fK),Te(Kt.commands,"extension.js-debug.toggleSkippingFile",BX));let r=e.getAll(C_);for(let s of r){let a=s;t.subscriptions.push(Kt.debug.registerDebugConfigurationProvider(s.type,a));let c=Nf.get(s.type);c&&t.subscriptions.push(Kt.debug.registerDebugConfigurationProvider(c,a))}let n=e.getAll(P_);for(let s of n)Kt.debug.registerDebugConfigurationProvider(s.type,s,Kt.DebugConfigurationProviderTriggerKind!==void 0?s.triggerKind:void 0);let i=new E0(e);t.subscriptions.push(...[...T0].map(s=>Kt.debug.registerDebugAdapterDescriptorFactory(s,i))),t.subscriptions.push(Kt.debug.onDidTerminateDebugSession(s=>i.terminate(s))),t.subscriptions.push(i);let o=e.get(Ze);o.attach(),LX(t),$X(t,o),EX(t,e.get(No),e.get(wc),e),kX(t,e),CX(t,e.get(No),e),OX(t,o),RX(t,o),e.getAll(un).forEach(s=>s.register(t))}function wAe(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright © 2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=extension.js.map
